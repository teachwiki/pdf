"use strict";jQuery.registerComponent("protect-pdf","base-upload-convert",{protectTemplate:'\n\t\t\t<div class="protect" ref="protectArea">\n\t\t\t\t<div class="protect-top">\n\t\t\t\t\t<div class="file-icon"></div>\n\t\t\t\t\t<div class="file-name"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="protect-mid">\n\t\t\t\t\t<div class="protect-mid-inputs">\n\t\t\t\t\t\t<div class="pwdinput-bar">\n\t\t\t\t\t\t\t<span class="input-title" >{Password@@000863}:</span>\n\t\t\t\t\t\t\t<input type="password" class="pwdinput protect-pwd" ref="passwordInput">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pwdinput-bar">\n\t\t\t\t\t\t\t<span class="input-title">{Repeat Password@@000864}:</span>\n\t\t\t\t\t\t\t<input type="password" class="pwdinput protect-pwd-repeat" ref="passwordInputAgain">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="add-btn submitBtn" @click="onClickSubmitBtn">Protect@@000862</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="protect_bot"></div>\n\t\t\t</div>\n\t',convertingLabel:"Encrypting PDF file...@@000844",convertSuccessLabel:"Succeed to add password to PDF!@@000865",convertFailedLabel:"Failed to encrypt your file with password.@@000846",fileTypes:["pdf"],taskName:"protect-pdf",pdfeditorUrl:pdf.pdfConverterUrl,init:function(){this.callSuper("base-upload-convert"),this.tryDesktopBtn.before(this.createFromTemplate(this.protectTemplate))},onUploadSuccess:function(t){if(1==t.protected)return this.showAlertMessage(apower.tr("The PDF file is encrypted with password.@@000866")),this.selectFileTab.show().siblings().hide(),void this.input.show();1==t.status?(this.fileName=t.file_name,this.protected=t.protected,this.onAfterUploadMainFile()):this.onUploadFailed()},onAfterUploadMainFile:function(){this.input.hide(),this.msgTab.hide(),this.operationTab.hide(),this.protectArea.show()},onBeforeConvertFile:function(){this.msgTab.show(),this.operationTab.show(),this.protectArea.hide()},getConvertArgs:function(){return{password:this.passwordInput.val()}},onClickSubmitBtn:function(){if(this.passwordInput.val()){if(this.passwordInput.val()!==this.passwordInputAgain.val())return this.passwordInputAgain.css({border:"1px solid red"}).focus(),void this.passwordInput.css({border:"1px solid #ebebeb"});this.passwordInputAgain.css({border:"1px solid #ebebeb"}),this.passwordInput.css({border:"1px solid #ebebeb"}),this.setPwd=this.passwordInputAgain.val(),pdf.statApp("record_convert_task_num",{action:"记录开始转换时的任务数",function:this.taskName,task_num:1,time:Date.now()}),this.createTask()}else this.passwordInput.css({border:"1px solid red"}).focus()},onStartOver:function(){this.passwordInput.val(""),this.passwordInputAgain.val("")}});
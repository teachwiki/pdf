"use strict";function _defineProperty(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function asyncGeneratorStep(t,i,e,n,s,r,a){try{var o=t[r](a),l=o.value}catch(t){return void e(t)}o.done?i(l):Promise.resolve(l).then(n,s)}function _asyncToGenerator(o){return function(){var t=this,a=arguments;return new Promise(function(i,e){var n=o.apply(t,a);function s(t){asyncGeneratorStep(n,i,e,s,r,"next",t)}function r(t){asyncGeneratorStep(n,i,e,s,r,"throw",t)}s(void 0)})}}!function(a){var t;function e(){if(""!=pdf.apptype)for(var t,i,e,n=a("a"),s=0;s<n.length;s++)-1===(i=(t=n[s]).href).indexOf("down.php?softid=")&&-1===i.indexOf("down?softid=")||(e=r(a.parseQuery(i).softid),t.href=i.replace(/softid=[^=&?]*/,"softid="+e));function r(t){return t?t=t.split("-")[0]+"-"+pdf.apptype:""}}function i(){var t=window.pdf.getAppType();t&&(window.pdf.pdfEditorUrl=window.pdf.pdfEditorUrl.split("-")[0]+"-"+t,window.pdf.pdfConverterUrl=window.pdf.pdfConverterUrl.split("-")[0]+"-"+t)}function n(){var t="";if(window.wx_hawkeye.wx_tracks&&(t=window.wx_hawkeye.wx_tracks.apptype),t!=pdf.getAppType()||t!=pdf.apptype)return pdf.apptype=t,void i();i()}window.hasSubmitEmail=!1,window.pdf={_events:{},on:function(t,i,e){return i||console.warn('The "handler" must be specified!'),(this._events[t]||(this._events[t]=[])).push({handler:i,scope:e||null}),this},_pcType:["mousedown","mousemove","mouseup"],_mType:["touchstart","touchmove","touchend"],etype:function(t){if(!window.$.env.isMobile)return t;var i=this._pcType.indexOf(t);return-1!==i&&this._mType[i]?this._mType[i]:t},once:function(t,i,e){return i||console.warn('The "handler" must be specified!'),(this._events[t]||(this._events[t]=[])).push({handler:i,scope:e||null,once:!0}),this},off:function(t,i,e){var n=this._events[t];if(n)for(var s=n.length-1;0<=s;s--){var r=n[s];i&&r.handler!==i||e&&r.scope!==e||n.splice(s,1)}return this},hasListener:function(t,i,e){var n=this._events[t];if(!i)return n&&0<n.length;if(n&&i)for(var s=0,r=n.length;s<r;s++){var a=n[s];if(a.handler===i&&(!e||a.scope===e))return!0}return!1},trigger:function(t){var i=this._events[t];if(i)for(var e=Array.from(arguments).slice(1),n=0;n<i.length;n++){var s=i[n];!0===s.once&&i.splice(n--,1),s.handler.apply(s.scope,e)}},CDN_ROOT:"https://cdn.aoscdn.com/local/lightpdf.com",pdfEditorUrl:"https://download.aoscdn.com/down.php?softid=pdfeditor-light",pdfConverterUrl:"https://download.aoscdn.com/down.php?softid=pdfconverter-lightpdf",isLocalhost:function(){return location.hostname.endsWith("test")},acceptMap:{pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",png:"image/png",jpeg:"image/jpeg",gif:"image/gif",image:"image/*",txt:"text/plain",dxf:".dxf",dwg:".dwg"},getAPIURL:function(t){return t.startsWith("http")?t:!apower.isPro&&apower.isDev?"https://api.lightpdf.com/api"+t:"//api.lightpdf.com/api"+t},get:function(t,i,e,n){a.ajax({url:this.getAPIURL(t),type:"GET",success:i.bind(n),error:e.bind(n)})},post:function(t,i,e,n,s){a.ajax({url:this.getAPIURL(t),type:"POST",data:JSON.stringify(i),dataType:"JSON",processData:!1,contentType:"application/json;charset=utf-8",success:e.bind(s),error:n.bind(s)})},upload:function(t,i,e,n,s,r){a.ajax({url:this.getAPIURL(t),type:"POST",data:i,dataType:"JSON",processData:!1,contentType:!1,xhr:function(){var t=new XMLHttpRequest;return t.upload.addEventListener("progress",s.bind(r),!1),t},success:e.bind(r),error:n.bind(r)})},delete:function(t,i,e,n){a.ajax({url:this.getAPIURL(t),type:"DELETE",success:i.bind(n),error:e.bind(n)})},getTasksWithToken:function(t,i,e,n,s){a.ajax({url:this.getAPIURL(t),headers:{Authorization:"Bearer "+i,"Cli-OS":"web"},type:"GET",success:e.bind(s),error:n.bind(s)})},pdfsessionQuery:{callArr:[],isLoading:0,getPdfSesstion:function(t,i,e){var n={callback:t,err:i,scope:e};this.callArr.push(n),this.isLoading||(pdf.getPdfSesstion(this.sessionBack,this.sessionErr,this),this.isLoading=1)},sessionBack:function(t){if(this.callArr&&0!=this.callArr.length){for(var i,e=this.callArr.length-1;0<=e;e--)(i=this.callArr[e]).callback.bind(i.scope)(t),this.callArr.splice(e,1);this.isLoading=0}},sessionErr:function(t){if(this.callArr&&0!=this.callArr.length){for(var i,e=this.callArr.length-1;0<=e;e--)(i=this.callArr[e]).err.bind(i.scope)(t),this.callArr.splice(e,1);this.isLoading=0}}},getPdfSesstion:function(i,t,e){this.setSession(null);var n=this,s={identity_token:a.store.get("account_id_token")||""};a.ajax({url:this.getAPIURL("/sessions"),type:"POST",data:JSON.stringify(s),dataType:"JSON",processData:!1,contentType:"application/json",crossDomain:!0,success:function(t){n.setSession(t.data.user.api_token),t.data.user.notice_email&&n.setSubscribeEmail(t.data.user.notice_email),n.vipInfo.is_vip=t.data.user.is_vip,n.sessionObj=t.data.user,i.bind(e)(t),n.trigger("sessions-update")},error:t.bind(e)})},sessionObj:null,getSession:function(){var t=null,i=null,e=null,n=Date.now();return!(e=a.store.get("lightpdf_api_token"))||-1==e.indexOf(";date=")?t:(i=e.split(";date=")[1],i=parseInt(i),Number.isNaN(i)||828e5<n-i||n-i<0?t:t=e.split(";date=")[0])},setSession:function(t){var i=Date.now();if(null==t)return this.sessionObj=null,a.store.remove("lightpdf_api_token"),void this.trigger("session-updated");a.store.set("lightpdf_api_token","".concat(t,";date=").concat(i)),this.trigger("session-updated")},getUserId:function(){var t=this.getSession();return t?t.split(",")[0]:""},setSubscribeEmail:function(t){var i=this.getUserId();t&&i?a.store.set("subscribe_email","".concat(i,";").concat(t)):a.store.remove("subscribe_email")},getSubscribeEmail:function(){var t=this.getUserId(),i=a.store.get("subscribe_email"),e="";return!t||!i||i.split(";")[0]!=t?e:e=i.split(";")[1]},getFileAuthorization:function(t,i,e,n){var s={files:t.map(function(t){return t.name})};a.ajax({url:this.getAPIURL("/authentications"),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"POST",data:JSON.stringify(s),dataType:"JSON",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},createTask:function(t,i,e,n){a.ajax({url:this.getAPIURL("/tasks"),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"POST",data:JSON.stringify(t),dataType:"json",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},createSubscribeTask:function(t,i,e,n){a.ajax({url:this.getAPIURL("/tasks"),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"PATCH",data:JSON.stringify(t),dataType:"json",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},createPackageTask:function(t,i,e,n){a.ajax({url:"https://api-archive.aoscdn.com/api/tasks",headers:{Authorization:"Bearer 58d3a2bf-af5e-3b4e-a7j5-f110922fd712","Cli-OS":"web"},type:"POST",data:t,processData:!1,contentType:!1,success:i.bind(n),error:e.bind(n)})},downloadFilePost:function(t){var e=this,n=this;return new Promise(function(i){a.ajax({url:e.getAPIURL("/file/downloads"),headers:{Authorization:"Bearer "+n.getSession(),"Cli-OS":"web"},type:"POST",data:JSON.stringify(t),dataType:"JSON",processData:!1,contentType:"application/json",success:function(t){i(t)},error:function(t){console.error(t)}})})},modifyTask:function(t,i,e,n,s){a.ajax({url:this.getAPIURL("/tasks/"+t),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"PUT",data:JSON.stringify(i),dataType:"json",processData:!1,contentType:"application/json",success:e.bind(s),error:n.bind(s)})},startTask:function(t,i,e,n,s){var r=i?JSON.stringify(i):"";a.ajax({url:this.getAPIURL("/tasks/"+t+"/process"),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"POST",data:r,dataType:"json",processData:!1,contentType:"application/json",success:e.bind(s),error:n.bind(s)})},getTaskInfo:function(t,i,e,n){var s="?_t="+Date.now();a.ajax({url:this.getAPIURL("/tasks/"+t+s),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"GET",dataType:"json",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},getPackageTaskInfo:function(t,i,e,n){a.ajax({url:"https://api-archive.aoscdn.com/api/tasks/"+t,headers:{Authorization:"Bearer 58d3a2bf-af5e-3b4e-a7j5-f110922fd712","Cli-OS":"web"},type:"GET",dataType:"json",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},getPdfInfo:function(t,n,s){if(t){var r={};if(r.password=t.password||"",t.url&&(r.url=t.url),t.data&&(r.data=t.data),t.file){var i=new FileReader;return i.onload=function(t){var i=t.target.result,e=new Uint8Array(i);r.data=e,this.getPdfDocument(r,n,s)}.bind(this),void i.readAsArrayBuffer(t.file)}(t.data||t.url)&&this.getPdfDocument(r,n,s)}},getPdfDocument:function(i,e,n){var s={};PDFJS.getDocument(i).then(function(t){s.pdf=t,s.password=i.password,e.bind(n)(s),t.getPage(1).then(function(t){})}.bind(this),function(t){s.err=t,s.errType=t.name,e.bind(n)(s)})},getWithAuthor:function(t,i,e,n){a.ajax({url:this.getAPIURL(t),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"GET",success:i.bind(n),error:e.bind(n)})},postWithAuthor:function(t,i,e,n){a.ajax({url:this.getAPIURL(t),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"POST",success:i.bind(n),error:e.bind(n)})},getHeaders:function(){var t={};return t.Authorization="Bearer "+this.getSession(),t["Cli-OS"]="web",t},getOcrVipInfo:function(t,i,e){this.getWithAuthor("/my/ocr",t,i,e)},getVipInfo:function(t,i,e){this.getWithAuthor("/my/vip",t,i,e)},vipInfo:{is_vip:!1,vip_expired_at:0},setVipInfo:function(t,i){this.vipInfo.is_vip=t,this.vipInfo.vip_expired_at=i;var e=a.store.get("account_user");e&&a(".header-account-entry ").addClass("login"),e&&t?a(".header-account-entry ").addClass("lightpdf-vip"):e&&!t&&i?a(".header-account-entry ").addClass("lightpdf-expired-vip"):a(".header-account-entry ").removeClass("lightpdf-vip")},tracker:function(t){if(t){var i="";for(var e in t)i=t[e],"".concat(e,"=").concat(i,"&")}},trackArg:function(t,i,e,n,s){var r={};return r.taskid=t,r.stage=i,r.status=e,n&&(r.user_agent=encodeURIComponent(window.navigator.userAgent)),s&&(r.err_obj=encodeURIComponent(s.toString())),r},trackOk:function(){},trackErr:function(){},getUrlParam:function(t,i){var e=new RegExp("(^|&)"+i+"=([^&]*)(&|$)");if(!t||-1==t.indexOf("?"))return null;var n=t.substring(t.indexOf("?")+1).match(e);return null!=n?n[2]:null},isVipLink:function(){return!0},isOcrLink:function(){return!0},updateUserToken:function(){var t=this.getUrlParams(),i=a.store.get("account_id_token");t.user_token=i;var e="?";for(var n in t)e=e+n+"="+t[n]+"&";e=e.substring(0,e.length-1),window.history.pushState({status:0},"",e)},getUrlParams:function(){for(var t,i=window.location.search,e=i?i.substring(1):"",n=e.length?e.split("&"):[],s=n.length,r={},a=0;a<s;a++)t=n[a].split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return r},getAppType:function(){var t="",i=a.parseQuery(location.href);return i.apptype&&(t=i.apptype),t||this.apptype},apptype:"",getVipActivity:function(t,i,e){this.postWithAuthor("/activities/ncp",t,i,e)},getTranscodeInfo:function(t,i,e,n){a.ajax({url:this.getAPIURL("/files/new/"+t),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"GET",dataType:"json",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},getApiKey:function(t,i,e,n){var s=t?JSON.stringify(t):"";a.ajax({url:this.getAPIURL("/clients"),headers:{Authorization:"Bearer "+this.getSession(),"Cli-OS":"web"},type:"POST",data:s,dataType:"json",processData:!1,contentType:"application/json",success:i.bind(n),error:e.bind(n)})},statApp:function(t,i){var e="".concat("https://wxhk-server.cn-hongkong.log.aliyuncs.com/logstores/api-lightpdf-com/track?APIVersion=0.6.0","&id=").concat(t);if(i)for(var n in i)if(i.hasOwnProperty(n)){var s=i[n];e+="&".concat(n,"=").concat(s)}a.ajax({url:e,type:"GET",crossDomain:!0,success:function(){},error:function(){}})}},i(),window.wx_hawkeye&&(n(),e()),window.addEventListener("wx_hawkeye_ready",function(t){var i="";window.wx_hawkeye.wx_tracks&&(i=window.wx_hawkeye.wx_tracks.apptype),i!=pdf.getAppType()&&(n(),e(),pdf.trigger("apptype-update"))}),window.pdfAccount={getVipInfo:function(){return _asyncToGenerator(regeneratorRuntime.mark(function t(){var i,e,n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pdfPost("/my/vip",{type:"GET",headers:pdf.getHeaders()});case 2:i=t.sent,i.ok,e=i.data,s=n=0,e.data&&e.data.vip&&(n=e.data.vip.is_vip,s=e.data.vip.vip_expired_at),pdf.setVipInfo(n,s);case 9:case"end":return t.stop()}},t)}))()}},window.pdfPost=a.req.overwrite(function(t,i){var e=apower;e.lang,e.user;return t=pdf.getAPIURL(t),i.data=i.post||{},i.headers||(i.headers={Authorization:"Bearer "+pdf.getSession(),"Cli-OS":"web"}),i.method=i.type,{url:t,options:i}},function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function t(i,e){var n,s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.ok,s=i.data,r=s&&s.error_code?s.error_code:null,n=n&&s&&1==s.status,s=s&&s.data?s.data:s,-99==r)return t.next=7,apower.user.popupLoginWin();t.next=8;break;case 7:return t.abrupt("return",pdfPost(e));case 8:return t.abrupt("return",{ok:n,data:s,status:r});case 9:case"end":return t.stop()}},t)}));return function(t,i){return e.apply(this,arguments)}}()),window.ossUploader=function(t,i,e,n,s,d,r){function a(t,i,e,n,s,r,a){this.attachment=a,this.file=t,this.authorizefun=i,this.successfun=e,this.errorfun=n,this.progressfun=s,this.scope=r}return a.prototype={fileAuthorizeSuccess:function(t){pdf.tracker(pdf.trackArg(d.taskID,"authentications",1)),this.uploadToOss(t,this.file),this.authorizefun&&this.authorizefun.bind(this.scope)()},fileAuthorizeError:function(t){pdf.tracker(pdf.trackArg(d.taskID,"authentications",0,0,t)),this.errorfun.bind(this.scope)(t)},uploadToOss:function(t,i){var e=t.data,n=(e.expires_in,e.callback_url),s={region:e.region,accessKeyId:e.access_id,accessKeySecret:e.access_secret,bucket:e.bucket,secure:!0,stsToken:e.security_token,endpoint:e.endpoint},r=new OSS(s),a=this.progressfun?this.progressfun.bind(this.scope):null,o=(Date.parse(new Date),e.objects[i.name]),l={url:n.callbackUrl,body:"".concat(n.callbackBody,"&x:original_name=").concat(i.name.replace(/\$/g,""))},c="";this.attachment&&(c='attachment;filename="'+encodeURIComponent(i.name)+'"'),r.multipartUpload(o,i,{cancelFlag:!0,callback:l,progress:a,headers:{"Content-Disposition":c}}).then(this.uploadOssOk.bind(this)).catch(function(t){pdf.tracker(pdf.trackArg(d.taskID,"ossUpload",0,0,t)),this.errorfun.bind(this.scope)(t)}.bind(this))},uploadOssOk:function(t){t.data;this.successfun.bind(this.scope)(t,this.file)},start:function(){this.file&&pdf.getFileAuthorization([this.file],this.fileAuthorizeSuccess,this.fileAuthorizeError,this)}},new a(t,i,e,n,s,d,r)};var o={__timeId:0,__currentTime:0,timerArr:[],totalTimer:-1,setCurrentTime:function(){this.__currentTime=Date.now()},instance:function(){return this},timer:function(t,i,e){return{id:this.__timeId++,fun:t.bind(e),time:i,timestamp:Date.now()}},init:function(){-1==this.totalTimer&&(this.totalTimer=setInterval(this.timerFun.bind(this),500))},timerFun:function(){var t;this.setCurrentTime();for(var i=this.timerArr.length-1;0<=i;i--)(t=this.timerArr[i])&&this.__currentTime-t.timestamp>=t.time&&(t.fun(),t.timestamp=this.__currentTime)},addTimer:function(t){this.timerArr.push(t)},delTimer:function(t){for(var i,e=this.timerArr.length-1;0<=e;e--)(i=this.timerArr[e])&&i.id==t&&this.timerArr.splice(e,1)}};(window.TimeManager=o).init(),a.registerComponent("select-file",{input:null,init:function(){this.input.$on("dragenter",this.onDragEnter,this),this.input.$on("dragleave",this.onDragLeave,this),this.input.$on("dragover",this.onDragOver,this),this.input.$on("drop",this.onDrop,this),this.input.$on("change",this.onFileChange,this)},onDragEnter:function(){this.el.addClass("dragging-in")},onDragLeave:function(t){t.preventDefault(),this.el.removeClass("dragging-in")},onDragOver:function(t){t.preventDefault()},onDrop:function(t){t.preventDefault(),this.el.removeClass("dragging-in"),this.onSelectFile(t.dataTransfer.files[0])},onFileChange:function(t){this.onSelectFile(t.target.files[0]),t.target.value=""},onSelectFile:function(){}}),a.registerComponent("pdf-msg",{template:'\n\t\t<div class="pdf-msg"></div>\n\t',type:"",showMessage:function(t,i){this.type&&this.el.removeClass(this.type+"-msg"),this.type=t,this.el.addClass(t+"-msg"),this.el.html(i)},alert:function(t){this.showMessage("alert",t)},error:function(t){this.showMessage("error",t)},success:function(t){this.showMessage("success",t)},loading:function(t){this.showMessage("loading",t)}}),a.getComponent("color-select").prototype.template='\n\t<div class="drop drop-select color-select">\n\t\t<div class="color-select-preview" :style.background-color="value"></div>\n\t\t<div class="drop-menu color-select-menu" :class="menuClass" ref="menu">\n\t\t\t<div class="ap-trangle"></div>\n\t\t\t<ul>\n\t\t\t\t<li f-for="color of data" @mousedown="selectValue(color)" :class.active="value == color" :style.background-color="color"></li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n',a.registerComponent("stroke-select","drop-select",{template:'\n\t\t<div class="drop stroke-select">\n\t\t\t<div class="stroke-select-preview">\n\t\t\t\t<div class="stroke-select-line" :style.height.px="value"></div>\n\t\t\t\t<div class="stroke-select-text">{{value}}px</div>\n\t\t\t</div>\n\t\t\t<div class="drop-menu drop-select-menu" :class="menuClass" ref="menu">\n\t\t\t\t<ul>\n\t\t\t\t\t<li f-for="item of data"\n\t\t\t\t\t\t@click="selectValue(item)"\n\t\t\t\t\t\t:class.active="value == item"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="stroke-select-line" :style.height.px="item"></div>\t\t\t\t\t\t<div class="stroke-select-text">{{item}}px</div>\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t',value:4,data:[2,4,6,8,10,16,20]}),a.registerComponent("font-family-select","drop-select",{template:'\n\t\t<div class="drop font-family-select drop-select" :style.font-family="value">\n\t\t\t<slot>{{value}}</slot>\n\t\t\t<div class="drop-menu drop-select-menu" :class="menuClass" ref="menu">\n\t\t\t\t<ul>\n\t\t\t\t\t<li f-for="item of data"\n\t\t\t\t\t\t@click="selectValue(item)"\n\t\t\t\t\t\t:class.active="value == item"\n\t\t\t\t\t\t:style.font-family="item"\n\t\t\t\t\t>{{item}}</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t',value:"Arial",data:["Arial","Arial Black","Arial Narrow","Book Antiqua","Brush Script MT","Calibri","Cambria","Candara","Century Gothic","Consolas","Courier New","Franklin Gothic Medium","Garamond","Georgia","Impact","Lucida Bright","Lucida Console","Segoe UI","Tahoma","Times New Roman","Trebuchet MS","Verdana"]}),a.registerComponent("base-upload-convert","select-file",{template:'\n\t\t<div class="drop-area wait-upload" draggable="false">\n\t\t\t<div ref="msgTab" class="drop-area-msgs">\n\t\t\t\t<pdf-msg ref="msg"></pdf-msg>\n\t\t\t\t<div ref="startOverTab" class="start-over" style="display:none">\n\t\t\t\t\t<div class="start-over-button" @click="startOver">Start over@@000822</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div ref="operationTab" class="drop-area-operation" upload-file-type>\n\t\t\t\t<div ref="selectFileTab" class="upload-box">\n\t\t\t\t\t<div class="drop-area-button add-icon" wide></div>\n\t\t\t\t\t<div class="add-des">Choose File@@000821</div>\n\t\t\t\t\t<div class="drag-here" ref="dragHereBtn" hidden>{{dropHereLabel | trans}}</div>\n\t\t\t\t\t<input type="file" accept="" draggable="false" class="file-input select-pdf-input" ref="input" title="">\n\t\t\t\t</div>\n\n\t\t\t\t<div ref="loadingInfoTab" class="file-icon-container">\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<div class="file-icon">\n\t\t\t\t\t\t<div class="icon-mask">\n\t\t\t\t\t\t\t<div class="loading-bar"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="point-to"></div>\n\t\t\t\t\t<div class="source-file"></div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<div class="file-name" ref="fileNameEl"></div>\n\n\t\t\t\t\t<div class="join-vip" ref="buyVipTip" hidden @click="toJoinVip">Become VIP membership to enjoy priority conversion service @@001895</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="subscribe" ref="subscribe">\n\t\t\t\t\t<div class="checkbox" :class.active="subscribeChecked" @click="onClickSubscribe">\n\t\t\t\t\t\t<div class="checkbox-icon">\n\t\t\t\t\t\t\t<icon type="checkbox"></icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="checkbox-label">\n\t\t\t\t\t\tSubscribe to our newsletter. Email processed file to:@@001911\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="email">\n\t\t\t\t\t\t<div class="input-wrapper">\n\t\t\t\t\t\t\t<input type="email" class="email-input" @input="changeInput" ref="emailInput">\n\t\t\t\t\t\t\t<p :class.active="showValidatorMsg">Please input a valid email address!@@invalid_email</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="email-submit drop-area-button" thin disabled ref="emailSubmit" @click="onClickEmailSubmit">Submit@@000823</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div ref="msgDown" class="msg-down-container">\n\t\t\t\t\t<div class="msg-down" ref="msgDownEl"></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref="passwordTab">\n\t\t\t\t\t<div class="password-input-list" ref="passwordInputList"><input type="password" class="password-input" ref="passwordEl"></div>\n\t\t\t\t\t<div class="drop-area-button submit-button" wide @click="submitPassword">Submit@@000823</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref="convertFailedTab">\n\t\t\t\t\t<div class="download-or-start-over">\n\t\t\t\t\t\t<a class="drop-area-button" thin id="pagedownload4" href="{pdfeditorUrl}">Try Desktop@@000824</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="convert-success-download" ref="convertSuccessTab">\n\t\t\t\t\t<div class="download-file">\n\t\t\t\t\t\t<div class="download-file-left">\n\t\t\t\t\t\t\t<div class="download-file-name" ref="downloadFileNameEl"></div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="download-file-right">\n\t\t\t\t\t\t\t<a class="download-file-link edit-link" ref="editLink" href="{{window.apower.getRegionPath()}}/edit-pdf" hidden></a>\n\t\t\t\t\t\t\t<a class="download-file-link" ref="downloadLink" download href=""></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="download-or-start-over">\n\t\t\t\t\t\t<a class="drop-area-button" ref="desktopApp"  thin id="pagedownload2" href="{pdfeditorUrl}">Try Desktop@@000824</a>\n\t\t\t\t\t\t<div class="join-vip" ref="buyVipTip1" hidden @click="toJoinVip">Become VIP membership to enjoy priority conversion service @@001895</div>\n\t\t\t\t\t\t<div class="drop-area-button" style="display:none" thin @click="startOver">Start over@@000822</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t\n\t\t\t<a class="drop-area-button upload-panel" ref="tryDesktopBtn"  thin id="pagedownload3" href="{pdfeditorUrl}" f-if="taskName !== \'pdf-to-word\' && taskName !== \'ocr\'">Try Desktop@@000824</a>\n\t\t</div>\n\t',pdfeditorUrl:pdf.pdfEditorUrl,maxSize:1932735283.2,dropHereLabel:"Drop PDF here@@000826",convertingLabel:"",convertSuccessLabel:"",convertFailedLabel:"",taskName:"",fileTypes:[],currentFile:null,taskID:"",protected:!1,fileName:"",fileId:"",pdfData:null,ossData:null,statusCodeObj:(_defineProperty(t={"-99":"Unknown"},"-99","NoTemplate"),_defineProperty(t,"-98","resultErr"),_defineProperty(t,"-97","AliUploadErr"),_defineProperty(t,"-96","AliDownloadErr"),_defineProperty(t,"-95","ZipErr"),_defineProperty(t,"-1","InvalidAction"),_defineProperty(t,"-2","InvalidLicense"),_defineProperty(t,"-3","InvalidPassword"),_defineProperty(t,"-4","InvalidFileFormat"),_defineProperty(t,"-5","InvalidInputFile"),_defineProperty(t,"-6","InvalidTaskFile"),_defineProperty(t,"0","Failed"),_defineProperty(t,"1","Success"),t),joinPdfVip:null,vipSize:5,subscribeChecked:!0,tempEmail:"",showValidatorMsg:!1,init:function(){this.callSuper("select-file"),pdf.on("apptype-update",this.onApptypeUpdate,this),a.env.isMobile&&(this.pdfeditorUrl=pdf.pdfConverterUrl);var t=this.fileTypes.map(function(t){return pdf.acceptMap[t]}).join(",");this.input.attr("accept",t),this.initPDFJS();var i=a.parseParams(location.search);if(i.fileId&&i.fileName){var e=location.pathname,n=e.lastIndexOf("/");if(this.taskName=e.substring(n+1,e.length),"pdf-to-jpg"!==this.taskName&&"pdf-to-png"!==this.taskName||(this.taskName="pdf-to-image"),"annotate-pdf"===this.taskName&&(this.taskName="edit-pdf"),this.fileId=i.fileId,this.tryDesktopBtn.hide(),a(".drop-area").css("background","#FFFFFF"),a(".try-desktop-btn").hide(),this.el.removeClass("wait-upload"),"edit-pdf"!=this.taskName){var s={};s.fileId=this.fileId,s.name=decodeURIComponent(decodeURIComponent(i.fileName)),this.convertList=a.newComponent("file-list",{taskName:this.taskName,imageType:this.imageType,parent:this}),this.convertList.on("clearAll",this.onClearAll,this),this.operationTab.append(this.convertList.el),this.convertList.el.show().siblings().hide(),this.input.hide();var r=this.convertList.getNewItem(s);this.convertList.itemInstanceArr.push(r),this.convertList.listMid.append(r.el),this.convertList.startConvertFileList()}else pdf.getTranscodeInfo(i.fileId,this.getPdfUrlOk.bind(this),this.getPdfUrlErr,this),this.fileName=decodeURIComponent(decodeURIComponent(i.fileName)),this.loadingInfoTab.show().siblings().hide()}},getPdfUrlOk:function(t){this.trigger("get-onlinePdfUrl",t.data.url),this.convertFile()},getPdfUrlErr:function(){a(".placeholder-block").hide(),a(".drop-area").css("display","flex"),this.loadingInfoTab.hide().siblings().show()},onApptypeUpdate:function(){this.updateDownloadUrl()},updateDownloadUrl:function(){this.convertFailedTab&&(this.convertFailedTab.find("a").href=this.pdfeditorUrl),this.tryDesktopBtn&&(this.tryDesktopBtn.href=this.pdfeditorUrl)},onClickSubscribe:function(){this.subscribeChecked=!this.subscribeChecked,this.subscribe.find(".email-submit").attr("disabled",!this.subscribeChecked)},isEmailSubmiting:0,changeInput:function(){this.showValidatorMsg=!1},onClickEmailSubmit:function(){if(!this.isEmailSubmiting&&this.subscribeChecked){var t;t=this.emailInput.val(),this.validateEmail(t)?(window.hasSubmitEmail=!0,pdf.statApp("record_email_task_num",{action:"记录邮箱接收的任务数",function:this.taskName,task_num:1,time:Date.now()}),this.submitEmail(t)):this.showValidatorMsg=!0}},validateEmail:function(t){return/^[\w-\+]+(?:\.[\w-\+]+)*@[\w-\+]+(?:\.[\w-\+]+)+$/.test(t.trim())},submitEmail:function(t){this.isEmailSubmiting=1;var i={email:t};this.tempEmail=t,pdf.modifyTask(this.taskID,i,this.modifyEmailOk.bind(this),this.modifyEmailErr)},modifyEmailOk:function(){this.isEmailSubmiting=0,this.subscribe.hide(),pdf.setSubscribeEmail(this.tempEmail),a.newComponent("subscribe-success").show()},modifyEmailErr:function(){this.isEmailSubmiting=0,console.log("errrr"),window.hasSubmitEmail=!1},initPDFJS:function(){try{window.hasOwnProperty("PDFJS")&&(PDFJS.workerSrc=pdf.CDN_ROOT+"/pdfjs/js/pdf.worker.js",PDFJS.cMapUrl=pdf.CDN_ROOT+"/pdfjs/cmaps/",PDFJS.cMapPacked=!0)}catch(t){console.log(t)}},onReady:function(){a(".placeholder-block").hide(),a(".drop-area").css("display","flex");var t=a.parseParams(location.search);t.fileId&&t.fileName&&"edit-pdf"===this.taskName?a(".drop-area").css("background","#FFFFFF"):a(".drop-area").css("background","none")},onLogout:function(){pdf.setSession(null)},onLogined:function(){pdf.getPdfSesstion(this.sessionBack,this.sessionErr,this)},sessionBack:function(){this.getVipInfo()},sessionErr:function(){},getVipInfo:function(){pdf.getVipInfo(this.vipInfoFun,this.vipInfoErr,this)},vipInfoFun:function(t){this.is_vip=0,this.vip_expired_at=0,t.data&&t.data.vip&&(this.is_vip=t.data.vip.is_vip,this.vip_expired_at=t.data.vip.vip_expired_at),pdf.setVipInfo(this.is_vip,this.vip_expired_at)},vipInfoErr:function(){this.is_vip=0,this.vip_expired_at=0},onSelectFile:function(t){if(t)if(t.size>this.maxSize)this.showErrorMessage(apower.tr("Cannot upload files larger than {0}!@@000830",a.formatSize(this.maxSize)));else{var i=t.name.select(/\.(\w+)$/,1).toLowerCase();this.tryDesktopBtn.hide(),a(".drop-area").css("background","#FFFFFF"),a(".try-desktop-btn").hide(),this.operationTab.attr("upload-file-type",i),this.el.removeClass("wait-upload"),this.prepareUploadingFile(t)}},showErrorMessage:function(t){this.msg.error(t),this.msg.el.show().siblings().hide()},showAlertMessage:function(t){this.msg.alert(t),this.msg.el.show().siblings().hide()},showSuccessMessage:function(t){this.msg.success(t),this.msg.el.show().siblings().hide()},showLoadingMessage:function(t){this.msg.loading(t),this.msg.el.show().siblings().hide()},loadBarProgress:function(t){var i;i=5-t/100*50,this.loadingInfoTab.show().find(".loading-bar").css("top",i+"px")},toJoinVip:function(){pdf.vipInfo.is_vip||(pdf.isVipLink()?window.open(this.rootslash()+"/buy-vip"):a.newComponent("buy-pdf-vip-store").show())},rootslash:function(){return apower.getRegionPath(apower.lang)},prepareUploadingFile:function(t){window.scroll(0,0),this.currentFile=t,this.showLoadingMessage(apower.tr("Uploading...@@000829")+" 0%"),this.buyVipTip.hide(),this.loadingInfoTab.show().siblings().hide(),this.loadingInfoTab.removeClass("converting"),this.input.hide(),this.fileNameEl.text(t.name),this.loadBarProgress(0),this.uploadingProgress(4),/\.pdf$/i.test(this.currentFile.name)?this.checkVipStatus():this.uploadFile(this.authorizeProgress)},createTask:function(){var t;t="pdf-to-word"===this.taskName?(console.log("1 pdf-to-word createTask"),{service_type:this.taskName,files:[{file_id:this.file.fileId,password:this.file.password}],autostart:1}):{service_type:this.taskName},pdf.createTask(t,this.onTaskCreated,this.onTaskCreateFailed,this)},onTaskCreated:function(t){this.taskID=t.data.task_id,pdf.tracker(pdf.trackArg(this.taskID,"createtask",1,1)),this.convertFile()},tempTime:null,checkVipStatus:function(){pdf.getVipInfo(this.getVipInfosSuccess,this.getVipInfoErr,this)},getVipInfosSuccess:function(t){this.is_vip=0,this.vip_expired_at=0,t.data&&t.data.vip&&(this.is_vip=t.data.vip.is_vip,this.vip_expired_at=t.data.vip.vip_expired_at),pdf.setVipInfo(this.is_vip,this.vip_expired_at),this.getPdfInfo()},getVipInfoErr:function(){this.is_vip=0,this.vip_expired_at=0,this.getPdfInfo()},getPdfInfo:function(){if(this.tempTime=new Date,this.tryDesktopBtn.hide(),a(".drop-area").css("background","#FFFFFF"),a(".try-desktop-btn").hide(),!pdf.vipInfo.is_vip&&this.currentFile.size>1048576*this.vipSize)return this.joinPdfVip=a.newComponent("join-pdf-vip"),this.joinPdfVip.show(),void this.joinPdfVip.on("reset",this.resetUpload.bind(this));pdf.getPdfInfo({password:this.getPassword(),file:this.currentFile},this.pdfInfoBack,this)},resetUpload:function(){this.currentFile=null,this.protected=!1,this.el.find("drop-area").addClass("wait-upload"),this.input.show(),this.tryDesktopBtn.hide(),a(".drop-area").css("background","none"),a(".try-desktop-btn").show(),this.msg.el.hide(),this.startOverTab.hide(),this.selectFileTab.show().siblings().hide(),this.passwordEl.val("")},pdfInfoBack:function(t){this.uploadingProgress(8),"PasswordException"!=t.errType?"InvalidPDFException"==t.errType||t.err?this.onUploadFailed():(this.pdfData=t.pdf,this.loadingInfoTab.show().siblings().hide(),this.loadingInfoTab.removeClass("converting"),this.uploadFile(this.authorizeProgress)):this.onNeedPassword()},onTaskCreateFailed:function(t){this.showErrorMessage(apower.tr("Failed to upload your file!@@000830")),this.startOverTab.show().siblings().hide(),pdf.tracker(pdf.trackArg(0,"createtask",0,1,t))},startOver:function(){this.currentFile=null,this.protected=!1,this.el.find("drop-area").addClass("wait-upload"),this.input.show(),"pdf-to-word"!==this.taskName&&"ocr"!==this.taskName&&this.tryDesktopBtn.show(),a(".drop-area").css("background","none"),a(".try-desktop-btn").show(),this.msg.el.hide(),this.startOverTab.hide(),this.selectFileTab.show().siblings().hide(),this.passwordEl.val(""),this.buyVipTip.hide(),this.onStartOver(),this.trigger("startover"),this.input[0].click()},onStartOver:function(){},uploadFile:function(t){this.is_vip,ossUploader(this.currentFile,t,this.uploadOssOk,this.fileOssError,this.returnProgress,this,1).start()},authorizeProgress:function(){this.uploadingProgress(10)},fileOssError:function(t){t&&t.responseJSON&&t.responseJSON.status<0&&pdf.getPdfSesstion(this.reloadSessionOk,this.reloadSessionErr,this)},reloadSessionOk:function(){this.token=pdf.getSession(),this.uploadFile(this.authorizeProgress)},reloadSessionErr:function(){},uploadOssOk:function(t){var i=t.data;1==i.status?(pdf.tracker(pdf.trackArg(this.taskID,"ossUpload",1)),i.data.app_data?this.fileId=i.data.app_data.id:this.fileId=i.data.id,this.onAfterUploadMainFile(),this.fileNameEl.text("")):(pdf.tracker(pdf.trackArg(this.taskID,"ossUpload",0,0,JSON.stringify(i))),this.onUploadFailed())},create32Number:function(){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<32;e++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},returnProgress:function(t){if(0<=t){var i=Math.floor(10+90*t);this.uploadingProgress(i)}},uploadingProgress:function(t){this.showLoadingMessage(apower.tr("Uploading...@@000829")+" "+t+"%"),this.loadBarProgress(t)},onUploadSuccess:function(t){1===t.status?(this.fileName=t.file_name,this.protected=t.protected,this.onAfterUploadMainFile(),this.fileNameEl.text("")):this.onUploadFailed()},onUploadFailed:function(){this.showErrorMessage(apower.tr("Failed to upload your file!@@000830")),this.startOverTab.show().siblings().hide()},onUploadProgress:function(t){if(t.lengthComputable){var i=Math.floor(t.loaded/t.total*100);this.showLoadingMessage(apower.tr("Uploading...@@000829")+" "+i+"%"),this.loadBarProgress(i)}},onAfterUploadMainFile:function(){this.createTask()},convertFile:function(){this.onBeforeConvertFile(),this.showLoadingMessage(apower.tr(this.convertingLabel)),this.loadingInfoTab.show().siblings().hide(),this.loadingInfoTab.addClass("converting");var t=this.getConvertPostData();this.showSubscribe(),pdf.modifyTask(this.taskID,t,this.modifySuccess.bind(this),this.modifyError)},showSubscribe:function(){this.subscribeChecked=!0,this.subscribe.find(".email-submit").attr("disabled",!this.subscribeChecked);var t=pdf.getSubscribeEmail();!t&&apower.user&&apower.user.info&&(t=apower.user.info.email),t=t||"",this.emailInput.val(t),this.subscribe.show()},modifyError:function(t){pdf.tracker(pdf.trackArg(this.taskID,"modifyTask",0,0,t))},modifySuccess:function(t){1==t.status?(pdf.tracker(pdf.trackArg(this.taskID,"modifyTask",1)),pdf.startTask(this.taskID,null,this.startSuccess.bind(this),this.startError,this)):(pdf.tracker(pdf.trackArg(this.taskID,"modifyTask",0,0,JSON.stringify(t))),this.modifyError(t))},startSuccess:function(){pdf.tracker(pdf.trackArg(this.taskID,"startTask",1)),this.infoTask(this.taskID,this.taskInfoProgress,null,this),this.removeFakeTimer(),this.fakeProgress()},startError:function(t){pdf.tracker(pdf.trackArg(this.taskID,"startTask",0,0,t))},checkTaskProgress:function(){this.infoTask(this.taskID,this.taskInfoProgress,null,this)},fakeTimerId:-1,fakeTime:0,fakeProgressNum:0,fakeProgress:function(){this.fakeProgressNum=0;this.fakeTime=0;var t=function(){this.fakeTime++,this.fakeProgressNum+=3*Math.random(),99<this.fakeProgressNum&&(this.fakeProgressNum=99,this.removeFakeTimer()),this.onConvertProgress(Math.floor(this.fakeProgressNum)),500<=this.infoTime&&this.removeFakeTimer()}.bind(this);t();var i=o.timer(t,1e3,this);this.fakeTimerId=i.id,o.addTimer(i)},removeFakeTimer:function(){-1!=this.fakeTimerId&&(o.delTimer(this.fakeTimerId),this.fakeTimerId=-1)},taskInfoProgress:function(t){if(!t.data||1!=t.status)return this.removeTaskInfoTimer(),this.removeFakeTimer(),void this.onConvertFailed();switch(t.data.status){case 0:case 1:break;case 2:this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertSuccess(t);break;case-10:this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertFailed();break;case-5:this.filefromatErr(t.data.errors),this.removeFakeTimer();break;default:this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertFailed()}},filefromatErr:function(){this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertFailed()},infoTimerId:-1,infoTime:0,infoTask:function(t,i,e,n){var s=function(){this.infoTime++,pdf.getTaskInfo(t,i.bind(n),function(t){}),500<=this.infoTime&&this.removeTaskInfoTimer()}.bind(this),r=o.timer(s,5e3,this);this.infoTimerId=r.id,o.addTimer(r)},removeTaskInfoTimer:function(){-1!=this.infoTimerId&&(o.delTimer(this.infoTimerId),this.infoTimerId=-1)},onBeforeConvertFile:function(){},getConvertPostData:function(t){t=t||this.taskName;return{files:[{file_id:this.fileId,password:this.getPassword()}],args:this.getConvertArgs(t)}},getPassword:function(){return this.passwordEl.val()},getConvertArgs:function(){return{}},onConvertProgress:function(t){-1!=["pdf-to-word","pdf-to-image","pdf-to-ppt","pdf-to-text","image-to-pdf","ocr","edit-pdf"].indexOf(this.taskName)&&this.showLoadingMessage(apower.tr(this.convertingLabel)+t+"%")},onConvertSuccess:function(t){if(2==t.data.status){this.showSuccessMessage(apower.tr(this.convertSuccessLabel)),this.is_vip?(this.desktopApp.show(),this.buyVipTip1.hide()):this.desktopApp.hide(),this.convertSuccessTab.show().siblings().hide(),this.startOverTab.show(),this.startOverTab.css("display","inline-block"),this.msg.el.css("display","inline-block");var i=t.data.target_file;this.downloadLink.attr("href",i.url),this.downloadLink.attr("download",i.filename);var e="",n="",s=i.filename.lastIndexOf(".");n=i.filename,-1!=s&&(e=i.filename.slice(s),n=i.filename.slice(0,s)),this.downloadFileNameEl.html('<p class="download-file-name-base">'+n+'</p><p class="download-file-name-extension">'+e+"</p>"),this.onConvertComplete(),window.hasSubmitEmail||pdf.statApp("record_success_task_num",{action:"记录成功任务数",function:this.taskName,time:Date.now()})}else this.onConvertFailed()},onConvertComplete:function(){window.scroll(0,0)},onConvertFailed:function(){this.showErrorMessage(apower.tr(this.convertFailedLabel)),this.convertFailedTab.show().siblings().hide(),this.startOverTab.show(),this.startOverTab.css("display","inline-block"),this.onConvertComplete()},onNeedPassword:function(){var t=this.passwordEl.is(":visible");a(document).$on("keyup",this.onEnterKeyCode,this),t?this.showErrorMessage(apower.tr("Sorry, wrong password! Please try it again.@@000831")):this.showErrorMessage(apower.tr("The PDF file is password-protected, please enter the password below.@@000832")),this.passwordEl.val(""),this.passwordTab.show().siblings().hide()},submitPassword:function(){this.getPdfInfo(),a(document).$off("keyup",this.onEnterKeyCode,this)},onEnterKeyCode:function(t){13===t.keyCode&&this.submitPassword()}}),a.registerComponent("multi-upload-convert","base-upload-convert",{template:'\n\t\t<div class="drop-area wait-upload" draggable="false">\n\t\t\t<div ref="operationTab" class="drop-area-operation" upload-file-type>\n\t\t\t\t<div ref="selectFileTab" class="upload-box">\n\t\t\t\t\t<div class="drop-area-button add-icon" wide></div>\n\t\t\t\t\t<div class="add-des">Choose File@@000821</div>\n\t\t\t\t\t<div class="drag-here" ref="dragHereBtn" hidden>{{dropHereLabel | trans}}</div>\n\t\t\t\t\t<input type="file" accept="" draggable="false" class="file-input select-pdf-input" ref="input" title="">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t\n\t\t\t<a class="drop-area-button upload-panel" ref="tryDesktopBtn"  thin id="pagedownload3" href="{pdfeditorUrl}" f-if="taskName !== \'pdf-to-word\' && taskName !== \'ocr\'">Try Desktop@@000824</a>\n\t\t</div>\n\t',convertList:null,addFiles:function(){this.input.click()},onSelectFile:function(t){if(t){if(!pdf.vipInfo.is_vip&&t.size>1048576*this.vipSize)return this.joinPdfVip=a.newComponent("join-pdf-vip"),this.joinPdfVip.show(),void this.joinPdfVip.on("reset",this.resetUpload.bind(this));this.tryDesktopBtn.hide(),a(".drop-area").css("background","#FFFFFF"),a(".try-desktop-btn").hide(),this.el.removeClass("wait-upload"),this.addToFileList(t)}},addToFileList:function(t){this.convertList||(this.convertList=a.newComponent("file-list",{taskName:this.taskName,imageType:this.imageType,parent:this}),this.convertList.on("clearAll",this.onClearAll,this)),this.operationTab.append(this.convertList.el),this.convertList.el.show().siblings().hide(),this.input.hide(),this.convertList.addItem(t)},onClearAll:function(){this.convertList.el.hide().siblings().show(),this.input.show(),a(".drop-area").css("background","none"),a(".try-desktop-btn").show(),"pdf-to-word"!==this.taskName&&"ocr"!==this.taskName&&this.tryDesktopBtn.show(),this.el.addClass("wait-upload")}}),a.registerComponent("file-list-item","multi-upload-convert",{template:'\n\t\t<div class="item-box">\n\t\t\t<div class="file-name">{{file.name}}</div>\n\t\t\t<div class="process">\n\t\t\t\t<div class="uploading" f-show="status === \'uploading\'">\n\t\t\t\t\t<div class="status-icon"></div>\n\t\t\t\t\t<div class="container">\n\t\t\t\t\t\t<div class="process-bar" :style.width.percent="file.process"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="upload-success" f-show="status===\'uploaded\'">\n\t\t\t\t\t<div class="status-icon"></div>\n\t\t\t\t\t<div class="info">Upload successfully@@001932</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="upload-fail" f-show="status===\'uploadFailed\'">\n\t\t\t\t\t<div class="status-icon"></div>\n\t\t\t\t\t<div class="info">Upload failed@@001933</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="converting" f-show="status === \'converting\'">\n\t\t\t\t\t<div class="status-icon"></div>\n\t\t\t\t\t<div class="info">{Processing@@001934} {{file.convertProcess}}%</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="convert-success" f-show="status === \'converted\'">\n\t\t\t\t\t<div class="status-icon"></div>\n\t\t\t\t\t<div class="info">Convert successfully@@001935</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="convert-fail" f-show="status === \'convertFailed\'">\n\t\t\t\t\t<div class="status-icon"></div>\n\t\t\t\t\t<div class="info">Conversion failed@@001936</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t<div class="operations">\n\t\t\t\t<a class="icon icon-download" f-show="status === \'converted\'" download href="" ref="downloadLink" target="_blank" title="{{downloadStr}}"></a>\n\t\t\t\t<span class="icon icon-restart" f-show="status === \'uploadFailed\' || status === \'convertFailed\'" @click="clickRestart" title="{{restartStr}}"></span>\n\t\t\t\t<span class="icon icon-delete" f-show="status !== \'converted\'" @click="clickRemove" title="{{deleteStr}}"></span>\n\t\t\t</div>\n\t\t\t<div ref="passwordTab" class="password-tab" hidden>\n\t\t\t\t<pdf-msg ref="msg"></pdf-msg>\n\t\t\t\t<div class="password-input-list" ref="passwordInputList"><input type="password" class="password-input" ref="passwordEl"></div>\n\t\t\t\t<div class="drop-area-button submit-button" wide @click="submitPassword">Submit@@000823</div>\n\t\t\t</div>\n\t\t</div>\n\t',downloadStr:apower.tr("Download@@002071"),restartStr:apower.tr("Start over@@000822"),deleteStr:apower.tr("Delete@@002072"),taskName:"",imageType:null,taskID:"",status:"uploading",init:function(){this.file.process=this.file.convertProcess=0,a.parseParams(location.search).fileId||(window.hasOwnProperty("PDFJS")?this.getPdfInfoByJS():this.uploadFile(this.authorizeProgress))},onReady:function(){},getPdfInfoByJS:function(){pdf.getPdfInfo({password:this.getPassword(),file:this.file},this.pdfInfoBack,this)},pdfInfoBack:function(t){var i=this;a.nextTick(function(){i.file.process=8,i.file.password=i.getPassword()}),"PasswordException"!=t.errType?"InvalidPDFException"==t.errType||t.err?this.onUploadFailed():(this.passwordTab.hide(),this.uploadFile(this.authorizeProgress)):this.onNeedPassword()},onUploadFailed:function(){var t=this;a.nextTick(function(){t.status="uploadFailed",t.trigger("uploadFailed",t.itemId)})},uploadFile:function(t){ossUploader(this.file,t,this.uploadOssOk,this.fileOssError,this.returnProgress,this,1).start()},uploadOssOk:function(t){var i=this,e=t.data;1==e.status?(a.nextTick(function(){i.file.fileId=i.getFileId(e)}),this.status="uploaded",this.trigger("uploadFinish",this.itemId)):this.onUploadFailed()},fileOssError:function(t){var i=this;t&&t.responseJSON&&t.responseJSON.status<0?pdf.getPdfSesstion(this.reloadSessionOk,this.reloadSessionErr,this):a.nextTick(function(){i.status="uploadFailed",i.trigger("uploadFailed",i.itemId)})},reloadSessionOk:function(){this.token=pdf.getSession(),this.uploadFile(this.authorizeProgress)},reloadSessionErr:function(){},getFileId:function(t){return t.data.app_data?t.data.app_data.id:t.data.id},authorizeProgress:function(){var t=this;a.nextTick(function(){t.file.process=10})},returnProgress:function(t){var i=this;if(0<=t){var e=Math.floor(10+90*t);a.nextTick(function(){i.file.process=e})}},getPassword:function(){return this.passwordEl.val()},onNeedPassword:function(){var t=this.passwordEl.is(":visible");a(document).$on("keyup",this.onEnterKeyCode,this),t?this.showErrorMessage(apower.tr("Sorry, wrong password! Please try it again.@@000831")):this.showErrorMessage(apower.tr("The PDF file is password-protected, please enter the password below.@@000832")),this.passwordEl.val(""),this.passwordTab.show(),this.msg.el.siblings().show()},submitPassword:function(){this.getPdfInfoByJS(),a(document).$off("keyup",this.onEnterKeyCode,this)},startConvert:function(){this.status="converting",this.createTask()},onTaskCreated:function(t){var i=this;this.taskID=t.data.task_id,a.nextTick(function(){i.file.taskId=i.taskID}),this.trigger("taskCreated",this.taskID),"pdf-to-word"===this.taskName?(console.log("2 pdf-to-word infoTask"),this.infoTask(this.taskID,this.taskInfoProgress,null,this),this.removeFakeTimer(),this.fakeProgress()):this.convertFile()},onTaskCreateFailed:function(){var t=this;a.nextTick(function(){t.status="convertFailed",t.trigger("convertFailed",t.itemId)})},convertFile:function(){var t=this.getConvertPostData();pdf.modifyTask(this.taskID,t,this.modifySuccess.bind(this),this.modifyError)},modifyError:function(){var t=this;a.nextTick(function(){t.status="convertFailed",t.trigger("convertFailed",t.itemId)})},startError:function(){var t=this;a.nextTick(function(){t.status="convertFailed",t.trigger("convertFailed",t.itemId)})},getConvertPostData:function(){var t=this.taskName;return{files:[{file_id:this.file.fileId,password:this.file.password}],args:this.getConvertArgs(t)}},getConvertArgs:function(){return this.imageType?"png"===this.imageType?{type:"single",format:"png"}:"jpg"===this.imageType?{type:"single",format:"jpg"}:void 0:{}},onConvertProgress:function(t){var i=this;a.nextTick(function(){i.file.convertProcess=t})},taskInfoProgress:function(t){if(!t.data||1!=t.status)return this.removeTaskInfoTimer(),this.removeFakeTimer(),void this.onConvertFailed();switch(t.data.status){case 0:case 1:break;case 2:this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertSuccess(t);break;case-10:this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertFailed();break;case-5:this.filefromatErr(t.data.errors),this.removeFakeTimer();break;default:this.removeTaskInfoTimer(),this.removeFakeTimer(),this.onConvertFailed()}},onConvertSuccess:function(i){var e=this;2==i.data.status?(a.nextTick(function(){var t=i.data.target_file;e.downloadLink.attr("href",t.url),e.downloadLink.attr("download",t.filename),e.downloadLink.attr("title",t.filename),e.status="converted",e.targetFileUrl=t.url,e.trigger("complete",t.file_id,e.itemId)}),window.hasSubmitEmail||pdf.statApp("record_success_task_num",{action:"记录成功任务数",function:this.taskName,time:Date.now()}),this.onConvertComplete()):this.onConvertFailed()},onConvertFailed:function(){var t=this;a.nextTick(function(){t.status="convertFailed",t.trigger("convertFailed",t.itemId)}),this.onConvertComplete()},onConvertComplete:function(){window.scroll(0,0)},clickRemove:function(){this.trigger("remove",this)},clickRestart:function(){var t=this;"uploadFailed"===this.status?(this.trigger("uploadFailedRestart",this.itemId),a.nextTick(function(){t.status="uploading",t.file.process=0,t.getPdfInfoByJS()})):"convertFailed"===this.status&&(this.trigger("convertFailedRestart",this.itemId),a.nextTick(function(){t.status="converting",t.file.convertProcess=0}),this.file.taskId?this.convertFile():this.createTask())}}),a.registerComponent("file-list","multi-upload-convert",{template:'\n\t\t<div ref="multiUploadArea" class="multi-upload-area">\n\t\t\t<div class="area-header">\n\t\t\t\t<span class="file-list">File list@@001925</span>\n\t\t\t\t<span class="add-file" @click="addFiles" f-show="status === \'uploading\' || status === \'uploaded\' || status === \'all-upload-failed\'">Add files@@001926</span>\n\t\t\t</div>\n\t\t\t<div class="upload-list-wrapper" ref="listMid">\n\t\t\t</div>\n\t\t\t<div class="email-subscribe" f-show="isShowSubscribe">\n\t\t\t\t<p>Don\'t want to wait? Subscribe to our newsletter, and we will send the processed file(s) to your email:@@001927</p>\n\t\t\t\t<div class="email-input-wrapper">\n\t\t\t\t\t<div class="input-wrapper">\n\t\t\t\t\t\t<input type="email" placeholder="your-email@example.com" @input="changeInput" ref="emailInput" />\n\t\t\t\t\t\t<p :class.active="showValidatorMsg">Please input a valid email address!@@invalid_email</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button @click="onClickEmailSubmit">Submit@@000823</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="area-bottom">\n\t\t\t\t<button @click="startConvertFileList" f-show="status === \'uploading\' || status === \'uploaded\'" :disabled="uploadingNum > 0">Convert@@001834</button>\n\t\t\t\t<button @click="clickToUploadAgain" f-show="status === \'all-upload-failed\'">Upload again@@001928</button>\n\t\t\t\t<button @click="clickToConvertAgain" f-show="status === \'all-convert-failed\'">Convert again@@001929</button>\n\t\t\t\t<button @click="startOver" class="restart" f-show="status === \'converted\'">Start over@@000822</button>\n\t\t\t\t<button @click="clickToDownloadAll" class="download-all" :class="packageDownloading ? \'downloading\': \'\'" f-show="status === \'converted\' && !isSingleFile">Download All@@001930</button>\n\t\t\t\t<a class="download-all" ref="singleFileDownload" download href="" f-show="status === \'converted\' && isSingleFile">Donwload@@002071</a>\n\t\t\t\t<a class="download-app" ref="desktopApp" thin href="" f-show="status === \'converting\'">Download App, convert PDF faster@@001931</a>\n\t\t\t</div>\n\t\t\t<input type="file" accept="" draggable="false" ref="input" title="" style="display:none;">\n\t\t</div>\n\t',taskName:"",parent:null,uploadingNum:0,uploadFailedNum:0,convertFailedNum:0,completeNum:0,status:"uploading",isShowSubscribe:!1,isEmailSubmiting:!1,itemInstanceArr:[],tempEmail:"",taskIdArr:[],targetFileIdArr:[],packageDownloadUrl:"",packageDownloading:!1,showValidatorMsg:!1,isSingleFile:!0,onReady:function(){a.env.isMobile?this.desktopApp.attr("href",pdf.pdfConverterUrl):this.desktopApp.attr("href",pdf.pdfEditorUrl)},init:function(){var t=a.newComponent("purchase-guidance");this.multiUploadArea.append(t.el)},addFiles:function(){pdf.vipInfo.is_vip?this.parent.addFiles():a.newComponent("out-of-use-limit").show()},addItem:function(t){if(t){var i=this.getNewItem(t);this.uploadingNum+=1,this.status="uploading",this.itemInstanceArr.push(i),this.listMid.append(i.el)}},getNewItem:function(t){var i=a.newComponent("file-list-item",{taskName:this.taskName,file:t,imageType:this.imageType,itemId:apower.randomString()});return i.on("uploadFinish",this.onItemUploadFinish,this),i.on("uploadFailed",this.onItemUploadFailed,this),i.on("convertFailed",this.onItemConvertFailed,this),i.on("complete",this.onItemConvertComplete,this),i.on("remove",this.onRemoveItem,this),i.on("taskCreated",this.onItemTaskCreated,this),i.on("uploadFailedRestart",this.onUploadFailedItemRestart,this),i.on("convertFailedRestart",this.onConvertFailedItemRestart,this),i},onItemUploadFinish:function(t){var i=this;this.checkItemIsExist(t)&&(--this.uploadingNum,0===this.uploadingNum&&a.nextTick(function(){i.status="uploaded"}))},onItemUploadFailed:function(t){var i=this;this.checkItemIsExist(t)&&(--this.uploadingNum,this.uploadFailedNum+=1,0<this.uploadFailedNum&&this.uploadFailedNum===this.itemInstanceArr.length&&a.nextTick(function(){i.status="all-upload-failed"}))},onItemConvertFailed:function(t){var i=this;this.checkItemIsExist(t)&&(this.convertFailedNum+=1,0<this.convertFailedNum&&this.convertFailedNum===this.itemInstanceArr.length&&a.nextTick(function(){i.status="all-convert-failed"}))},onItemConvertComplete:function(t,i){this.checkItemIsExist(i)&&(this.targetFileIdArr.push(t),this.completeNum+=1,this.completeNum===this.itemInstanceArr.length&&0<this.completeNum&&(this.isSingleFile=!(1<this.itemInstanceArr.length),this.isSingleFile&&this.singleFileDownload.attr("href",this.itemInstanceArr[0].targetFileUrl),this.isShowSubscribe=!1,this.status="converted"))},onRemoveItem:function(t){var i=this,e=this.itemInstanceArr.indexOf(t);if(-1!==e)if(this.itemInstanceArr.splice(e,1)[0].el.remove(),0!=this.itemInstanceArr.length){if(t.taskId){var n=this.taskIdArr.indexOf(t.taskId);this.taskIdArr.splice(n,1)}"uploading"===t.status&&(--this.uploadingNum,0===this.uploadingNum&&a.nextTick(function(){i.status="uploaded"})),"uploadFailed"===t.status&&(--this.uploadFailedNum,this.uploadFailedNum===this.itemInstanceArr.length&&0<this.uploadFailedNum&&$nextTick(function(){i.status="all-upload-failed"}),0===this.uploadingNum&&0===this.uploadFailedNum&&a.nextTick(function(){i.status="uploaded"})),"converting"===t.status&&a.nextTick(function(){i.completeNum===i.itemInstanceArr.length&&0<i.completeNum&&(i.isShowSubscribe=!1,i.status="converted")}),"convertFailed"===t.status&&a.nextTick(function(){--i.convertFailedNum,0<i.convertFailedNum&&i.convertFailedNum===i.itemInstanceArr.length&&(i.status="all-convert-failed"),i.completeNum===i.itemInstanceArr.length&&0<i.completeNum&&(i.isShowSubscribe=!1,i.status="converted")})}else this.startOver()},onUploadFailedItemRestart:function(t){var i=this;this.checkItemIsExist(t)&&(this.uploadingNum+=1,--this.uploadFailedNum,a.nextTick(function(){i.status="uploading"}))},onConvertFailedItemRestart:function(t){var i=this;this.checkItemIsExist(t)&&(--this.convertFailedNum,a.nextTick(function(){i.status="converting"}))},checkItemIsExist:function(i){return!(!this.itemInstanceArr&&0===this.itemInstanceArr.length)&&this.itemInstanceArr.some(function(t){return t.itemId===i})},onItemTaskCreated:function(t){this.taskIdArr.push(t),this.taskIdArr.length===this.itemInstanceArr.length&&this.showSubscribe()},startConvertFileList:function(){this.uploadingNum||(this.status="converting",pdf.statApp("record_convert_task_num",{action:"记录开始转换时的任务数",function:this.taskName,task_num:this.itemInstanceArr.length,time:Date.now()}),this.itemInstanceArr.forEach(function(t){t.startConvert()}))},startOver:function(){this.itemInstanceArr=[],this.taskIdArr=[],this.targetFileIdArr=[],this.uploadingNum=0,this.uploadFailedNum=0,this.convertFailedNum=0,this.completeNum=0,this.stataus="uploading",this.isShowSubscribe=!1,this.isEmailSubmiting=!1,this.packageDownloadUrl="",this.packageDownloading=!1,this.tempEmail="",this.isSingleFile=!0;var t=document.getElementById("packageDownload");t&&(document.body.removeChild(t),t=null),this.listMid.empty(),this.trigger("clearAll")},showSubscribe:function(){var t=pdf.getSubscribeEmail();!t&&apower.user&&apower.user.info&&(t=apower.user.info.email),t=t||"",this.emailInput.val(t),this.isShowSubscribe=!0},changeInput:function(){this.showValidatorMsg=!1},onClickEmailSubmit:function(){if(!this.isEmailSubmiting){var t;t=this.emailInput.val(),this.validateEmail(t)?(window.hasSubmitEmail=!0,pdf.statApp("record_email_task_num",{action:"记录邮箱接收的任务数",function:this.taskName,task_num:this.taskIdArr.length,time:Date.now()}),this.isEmailSubmiting=!0,this.tempEmail=t,this.submitEmail(t)):this.showValidatorMsg=!0}},submitEmail:function(t){var i={task_ids:JSON.stringify(this.taskIdArr),email:t,service_type:this.taskName};pdf.createSubscribeTask(i,this.onSubscribeTaskCreated,this.onSubscribeTaskCreateFailed,this)},onSubscribeTaskCreated:function(t){1==t.status?(pdf.setSubscribeEmail(this.tempEmail),a.newComponent("subscribe-success").show(),this.isEmailSubmiting=!1):this.onSubscribeTaskCreateFailed()},onSubscribeTaskCreateFailed:function(){this.isEmailSubmiting=!1,window.hasSubmitEmail=!1},clickToDownloadAll:function(){this.packageDownloading||(this.packageDownloadUrl?document.getElementById("packageDownload").click():this.createPackageTask())},clickToUploadAgain:function(){this.status="uploading",this.uploadFailedNum=0,this.itemInstanceArr.forEach(function(t){t.clickRestart()})},clickToConvertAgain:function(){this.status="converting",this.convertFailedNum=0,this.itemInstanceArr.forEach(function(t){t.clickRestart()})},createPackageTask:function(){var t=this;a.nextTick(function(){t.packageDownloading=!0});var i=new FormData;i.append("id_list",JSON.stringify(this.targetFileIdArr)),pdf.createPackageTask(i,this.onPackageTaskCreated,this.onPackageTaskCreateFailed,this)},onPackageTaskCreated:function(t){var i=t.data.task_id;i&&this.infoPackageTask(i,this.packageTaskInfoProgress,null,this)},onPackageTaskCreateFailed:function(){var t=this;a.nextTick(function(){t.packageDownloading=!1})},infoPackageTimerId:-1,infoPackageTime:0,infoPackageTask:function(t,i,e,n){var s=function(){this.infoPackageTime++,pdf.getPackageTaskInfo(t,i.bind(n),function(t){}),500<=this.infoPackageTime&&this.removePackageTaskInfoTimer()}.bind(this),r=o.timer(s,2e3,this);this.infoPackageTimerId=r.id,o.addTimer(r)},removePackageTaskInfoTimer:function(){-1!=this.infoPackageTimerId&&(o.delTimer(this.infoPackageTimerId),this.infoPackageTimerId=-1)},packageTaskInfoProgress:function(t){if(1==t.status&&100==t.data.progress&&(this.removePackageTaskInfoTimer(),this.onPackageSuccess(t)),!t.data||1!=t.status)return this.removePackageTaskInfoTimer(),void this.onPackageFailed()},onPackageSuccess:function(t){var i=this;if(!this.packageDownloadUrl){this.packageDownloadUrl=t.data.url;var e=document.createElement("a");e.id="packageDownload",e.href=this.packageDownloadUrl,document.body.appendChild(e),e.click(),a.nextTick(function(){i.packageDownloading=!1})}},onPackageFailed:function(){var t=this;a.nextTick(function(){t.packageDownloading=!1})}});var l=apower.tr;a.registerComponent("service-time",{template:'\n\t\t<div class="service-time">\n\t\t\t<p class="des-txt" ref="timeEl"></p>\n\t\t</div>\n\t',numStr:"",num:0,timestamp:0,currentTime:0,startTime:1538050395389,startNum:42211143,init:function(){this.getStat()},getStat:function(){pdf.get("/stat",this.statBack,this.statErr,this)},statBack:function(t){this.timestamp=t.data.server_time,this.currentTime=Date.now(),this.initTimeDown()},initTimeDown:function(){var t=o.timer(this.txtDown,1e3,this);o.addTimer(t)},txtDown:function(){if(!(.65<Math.random())){var t=parseInt((1e3*this.timestamp-this.startTime)/1e3),i=parseInt((Date.now()-this.currentTime)/1e3);this.num=this.startNum+t+i,this.freshStr()}},freshStr:function(){this.timeEl.html(this.getStr(this.num))},getStr:function(t){return l("LightPDF has already processed {0} files@@001529",l("<span>{0}</span>",t))},statErr:function(){}}),a.registerComponent("checkbox-ocr",{template:'\n\t\t<div class="checkbox" :class.active="checked" @click="onClick">\n\t\t\t<div class="checkbox-icon">\n\t\t\t\t<icon type="checkbox"></icon>\n\t\t\t</div>\n\t\t\t<div class="checkbox-label">\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t</div>\n\t',_modelProperty:"checked",checked:!1,value:"",boxobj:null,onCreated:function(){var i=this;this.boxobj&&(this.boxobj[this.value]=this);var t=this.closest("checkbox-group");t&&(this.group=t,this.checked=-1<t.value.findIndex(function(t){return t==i.value}),t.register(this))},onClick:function(){this.checked=!this.checked,this.trigger("change",this.checked,this.value)},unSelect:function(){this.checked=!1},select:function(){this.checked=!0}}),a.registerComponent("checkbox-term","checkbox-ocr",{template:'\n\t\t<div class="checkbox" :class.active="checked" @click="onClick">\n\t\t\t<div class="checkbox-icon">\n\t\t\t\t<icon type="checkbox"></icon>\n\t\t\t</div>\n\t\t</div>\n\t'}),a.registerComponent("join-pdf-vip","win",{template:'\n\t\t<nav class="win join-pdf-vip">\n\t\t\t<div class="pdf-vip-win">\n\t\t\t\t<h2>{{titleStr}}</h2>\n\t\t\t\t<p class="tip-des">{{desStr}}</p>\n\t\t\t\t<a href="{{rootslash()}}/version-compare" target="_blank" class="compare-version">Compare all account types@@001652<span></span></a>\n\t\t\t\t<div class="btn-box">\n\t\t\t\t\t<a class="join-vip" ref="joinBtn" href="{{buyVipUrl}}">Join VIP@@002145</a>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",isGuest:-1,listened:0,desStr:l("The file has not been added for it exceeds the maximum file size of 10M. If you want to manage the file over 10M, you can join LightPDF VIP membership for unlimited service@@001665","5M","5M"),titleStr:l("Exceed the Maximum File Size@@001666"),is_vip:!1,vip_expired_at:0,buyVipUrl:"javascript:void(0);",onCreated:function(){this.apower=apower},init:function(){this.joinBtn.$on("click",this.btnClick.bind(this)),pdf.isVipLink()&&(this.buyVipUrl=this.rootslash()+"/buy-vip")},rootslash:function(){return apower.getRegionPath(apower.lang)},btnClick:function(){pdf.isVipLink()||(apower.user.isLogined()?this.toJoinVip():this.toSignIn())},toSignIn:function(){var t=apower.user;t&&!this.listened&&(this.listened=1,t.on("logined",this.onLogined,this)),apower.user.isLogined()||a.newComponent("login").show()},onLogined:function(){pdf.pdfsessionQuery.getPdfSesstion(this.sessionBack,this.sessionErr,this)},sessionBack:function(){apower.user.isLogined()&&this.checkVip()},checkVip:function(){pdf.getVipInfo(this.vipInfoFun,this.checkVipErr,this)},vipInfoFun:function(t){this.is_vip=!1,this.vip_expired_at=0,t.data&&t.data.vip&&(this.is_vip=t.data.vip.is_vip,this.vip_expired_at=t.data.vip.vip_expired_at),pdf.setVipInfo(this.is_vip,this.vip_expired_at),this.is_vip?this.whenCloseWin():this.toJoinVip()},checkVipErr:function(){},sessionErr:function(){},whenCloseWin:function(){this.hide(),pdf.vipInfo.is_vip||this.trigger("reset")},toJoinVip:function(){this.hasEmail()?(this.whenCloseWin(),a.newComponent("buy-pdf-vip").show()):a.newComponent("binding",{way:"email"}).show()},hasEmail:function(){var t=apower.user;return t&&t.info&&t.info.email&&-1!=t.info.email.indexOf("@")||t&&t.info&&t.info.telephone&&1<t.info.telephone.length}});var s={worldBuyLink:"https://secure.2checkout.com/order/checkout.php?PRODS={0}&CART=1&CARD=2{1}&SHORT_FORM=1",cnBuyLink:"https://www.apowersoft.cn/order?product_id={0}",titleM:l("Monthly@@001667"),titleS:l("Quarterly@@001668"),titleY:l("Yearly@@001669"),titleL:l("Lifetime@@001670")},r={worldBuyLink:"https://secure.2checkout.com/order/checkout.php?PRODS={0}&CART=1&CARD=2{1}&SHORT_FORM=1",cnBuyLink:"https://www.apowersoft.cn/order?product_id={0}_L&SRC=alltop",getId:function(t){var i=pdf.getUrlParam(t,"PRODS")||pdf.getUrlParam(t,"product_id");return i=i||""},link:{ar:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=ar"),pages:100,title:s.titleM,price:"9.99",priceStr:"$9.99"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=ar"),pages:300,title:s.titleS,price:"14.99",priceStr:"$14.99"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=ar"),pages:500,title:s.titleY,price:"19.99",priceStr:"$19.99"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=ar"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},cz:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=cs"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=cs"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=cs"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=cs"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},de:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=de"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=de"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=de"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=de"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},dk:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=da"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=da"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=da"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=da"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},en:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=en"),pages:100,title:s.titleM,price:"9.99",priceStr:"$9.99"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=en"),pages:300,title:s.titleS,price:"14.99",priceStr:"$14.99"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=en"),pages:500,title:s.titleY,price:"19.99",priceStr:"$19.99"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=en"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"$69.95"}},es:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=es"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=es"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=es"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=es"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},fi:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=fi"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=fi"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=fi"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=fi"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},fr:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=fr"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=fr"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=fr"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=fr"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},gr:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=el"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=el"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=el"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=el"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},hu:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=hu"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=hu"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=hu"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=hu"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},it:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=it"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=it"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=it"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=it"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},jp:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=JPY&LANG=ja"),pages:100,title:s.titleM,price:"1090",priceStr:"1090円"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=JPY&LANG=ja"),pages:300,title:s.titleS,price:"1690",priceStr:"1690円"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=JPY&LANG=ja"),pages:500,title:s.titleY,price:"2190",priceStr:"2190円"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=JPY&LANG=ja"),pages:1e3,title:s.titleL,price:"7890",priceStr:"7890円"}},nl:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=nl"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=nl"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=nl"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=nl"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},no:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=no"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=no"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=no"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=no"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},pl:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=pl"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=pl"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=pl"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=pl"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},pt:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&LANG=pt"),pages:100,title:s.titleM,price:"9.99",priceStr:"$9.99"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&LANG=pt"),pages:300,title:s.titleS,price:"14.99",priceStr:"$14.99"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&LANG=pt"),pages:500,title:s.titleY,price:"19.99",priceStr:"$19.99"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&LANG=pt"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"$69.95"}},se:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=sv"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=sv"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=sv"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=sv"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},tr:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=EUR&LANG=tr"),pages:100,title:s.titleM,price:"8.99",priceStr:"8.99€"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=EUR&LANG=tr"),pages:300,title:s.titleS,price:"13.99",priceStr:"13.99€"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=EUR&LANG=tr"),pages:500,title:s.titleY,price:"18.99",priceStr:"18.99€"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=EUR&LANG=tr"),pages:1e3,title:s.titleL,price:"69.95",priceStr:"69.95€"}},tw:{1:{link:l(s.worldBuyLink,"14885177&PRODCODE=14885177_M","&CURRENCY=TWD&LANG=zy"),pages:100,title:s.titleM,price:"310",priceStr:"NT$310"},2:{link:l(s.worldBuyLink,"14885180&PRODCODE=14885180_Q","&CURRENCY=TWD&LANG=zy"),pages:300,title:s.titleS,price:"460",priceStr:"NT$460"},3:{link:l(s.worldBuyLink,"14885183&PRODCODE=14885183_Y","&CURRENCY=TWD&LANG=zy"),pages:500,title:s.titleY,price:"620",priceStr:"NT$620"},4:{link:l(s.worldBuyLink,"14885186&PRODCODE=14885186_L","&CURRENCY=TWD&LANG=zy"),pages:1e3,title:s.titleL,price:"19.99",priceStr:"$19.99"}},zh:{1:{link:l(s.cnBuyLink,"18180244_M","&CURRENCY=TWD&LANG=zy"),pages:10,title:s.titleM,price:"39",priceStr:"￥39"},2:{link:l(s.cnBuyLink,"18180245_Q","&CURRENCY=TWD&LANG=zy"),pages:50,title:s.titleS,price:"49",priceStr:"￥49"},3:{link:l(s.cnBuyLink,"18180246_Y","&CURRENCY=TWD&LANG=zy"),pages:100,title:s.titleY,price:"69",priceStr:"￥69"},4:{link:l(s.cnBuyLink,"18180247_L","&CURRENCY=TWD&LANG=zy"),pages:1e3,title:s.titleL,price:"99",priceStr:"￥99"}}}},c={worldBuyLink:"https://secure.2checkout.com/order/checkout.php?PRODS={0}&CART=1&CARD=2{1}&SHORT_FORM=1",cnBuyLink:"https://www.apowersoft.cn/order?product_id={0}_L&SRC=alltop"},d={worldBuyLink:"https://secure.2checkout.com/order/checkout.php?PRODS={0}&CART=1&CARD=2{1}&SHORT_FORM=1",cnBuyLink:"https://www.apowersoft.cn/order?product_id={0}_L&SRC=alltop",link:{ar:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=ar"),pages:100,price:"9.99",priceStr:"$9.99"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=ar"),pages:300,price:"24.99",priceStr:"$24.99"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=ar"),pages:500,price:"39.99",priceStr:"$39.99"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=ar"),pages:1e3,price:"59.99",priceStr:"$59.99"}},cz:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=cs"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=cs"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=cs"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=cs"),pages:1e3,price:"54.99",priceStr:"54.99€"}},de:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=de"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=de"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=de"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=de"),pages:1e3,price:"54.99",priceStr:"54.99€"}},dk:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=da"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=da"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=da"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=da"),pages:1e3,price:"54.99",priceStr:"54.99€"}},en:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=en"),pages:100,price:"9.99",priceStr:"$9.99"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=en"),pages:300,price:"24.99",priceStr:"$24.99"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=en"),pages:500,price:"39.99",priceStr:"$39.99"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=en"),pages:1e3,price:"59.99",priceStr:"$59.99"}},es:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=es"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=es"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=es"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=es"),pages:1e3,price:"54.99",priceStr:"54.99€"}},fi:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=fi"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=fi"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=fi"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=fi"),pages:1e3,price:"54.99",priceStr:"54.99€"}},fr:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=fr"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=fr"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=fr"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=fr"),pages:1e3,price:"54.99",priceStr:"54.99€"}},gr:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=el"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=el"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=el"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=el"),pages:1e3,price:"54.99",priceStr:"54.99€"}},hu:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=hu"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=hu"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=hu"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=hu"),pages:1e3,price:"54.99",priceStr:"54.99€"}},it:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=it"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=it"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=it"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=it"),pages:1e3,price:"54.99",priceStr:"54.99€"}},jp:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=JPY&LANG=ja"),pages:100,price:"1080",priceStr:"1080円"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=JPY&LANG=ja"),pages:300,price:"2680",priceStr:"2680円"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=JPY&LANG=ja"),pages:500,price:"4480",priceStr:"4480円"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=JPY&LANG=ja"),pages:1e3,price:"6480",priceStr:"6480円"}},nl:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=nl"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=nl"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=nl"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=nl"),pages:1e3,price:"54.99",priceStr:"54.99€"}},no:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=no"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=no"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=no"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=no"),pages:1e3,price:"54.99",priceStr:"54.99€"}},pl:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=pl"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=pl"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=pl"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=pl"),pages:1e3,price:"54.99",priceStr:"54.99€"}},pt:{1:{link:l(c.worldBuyLink,"13982834","&LANG=pt"),pages:100,price:"9.99",priceStr:"$9.99"},2:{link:l(c.worldBuyLink,"13984023","&LANG=pt"),pages:300,price:"24.99",priceStr:"$24.99"},3:{link:l(c.worldBuyLink,"13984032","&LANG=pt"),pages:500,price:"39.99",priceStr:"$39.99"},4:{link:l(c.worldBuyLink,"13984042","&LANG=pt"),pages:1e3,price:"59.99",priceStr:"$59.99"}},se:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=sv"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=sv"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=sv"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=sv"),pages:1e3,price:"54.99",priceStr:"54.99€"}},tr:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=EUR&LANG=tr"),pages:100,price:"8.99",priceStr:"8.99€"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=EUR&LANG=tr"),pages:300,price:"22.99",priceStr:"22.99€"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=EUR&LANG=tr"),pages:500,price:"34.99",priceStr:"34.99€"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=EUR&LANG=tr"),pages:1e3,price:"54.99",priceStr:"54.99€"}},tw:{1:{link:l(c.worldBuyLink,"13982834","&CURRENCY=TWD&LANG=zy"),pages:100,price:"310",priceStr:"NT$310"},2:{link:l(c.worldBuyLink,"13984023","&CURRENCY=TWD&LANG=zy"),pages:300,price:"780",priceStr:"NT$780"},3:{link:l(c.worldBuyLink,"13984032","&CURRENCY=TWD&LANG=zy"),pages:500,price:"1190",priceStr:"NT$1190"},4:{link:l(c.worldBuyLink,"13984042","&CURRENCY=TWD&LANG=zy"),pages:1e3,price:"1860",priceStr:"NT$1860"}},zh:{1:{link:l(c.cnBuyLink,"18180225","&CURRENCY=TWD&LANG=zy"),pages:10,price:"9.99",priceStr:"￥9.99"},3:{link:l(c.cnBuyLink,"18180226","&CURRENCY=TWD&LANG=zy"),pages:50,price:"19.99",priceStr:"￥19.99"},2:{link:l(c.cnBuyLink,"18180227","&CURRENCY=TWD&LANG=zy"),pages:100,price:"39.99",priceStr:"￥39.99"},4:{link:l(c.cnBuyLink,"18180228","&CURRENCY=TWD&LANG=zy"),pages:1e3,price:"299.99",priceStr:"￥299.99"}}}};window.priceObj={buylink:s,priceMap:r,ocrBuylink:c,ocrPriceMap:d},a.registerComponent("subscribe-success","win",{template:'\n\t\t<nav class="win subscribe-success">\n\t\t\t<div class="subscribe-success-win">\n\t\t\t\t<div class="top-box">\n\t\t\t\t\t<div class="success-svg"></div>\n\t\t\t\t\t<p>Subscribe Successfully!@@001912</p>\n\t\t\t\t</div>\n\t\t\t\t<p class="des">The conversion may take 5 minutes to complete, please check your inbox to access your processed file.@@001913</p>\n\t\t\t\t<div class="bottom-box" ref=\'buyVip\'>\n\t\t\t\t\t<p class="des-tittle">Want to access your files faster?@@001914</p>\n\t\t\t\t\t<p class="buy-des">Download the app to instantly convert, merge, compress and manage PDF, etc.@@001915</p>\n\t\t\t\t\t<a class="buy-now drop-area-button download" id="download3" target="_blank" href=\'https://download.aoscdn.com/down.php?softid=pdfeditor-light\'>Try Desktop@@000824</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',init:function(){pdf.vipInfo.is_vip},rootslash:function(){return apower.getRegionPath(apower.lang)},whenCloseWin:function(){location.reload(),this.hide()}}),a.registerComponent("buy-pdf-vip","win",{template:'\n\t\t<nav class="win buy-pdf">\n\t\t\t<div class="buy-pdf-win">\n\t\t\t\t<div class="left-box">\n\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t<div class="ocr-title">\n\t\t\t\t\t\t<h2>LightPDF VIP@@001683</h2>\n\t\t\t\t\t\t<div class="ocr-line"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2 class="feature">Convert PDF without limitation@@001654</h2>\n\t\t\t\t\t<h2 class="feature">Edit PDF without limitation@@001655</h2>\n\t\t\t\t\t<h2 class="feature">Use full functions (except OCR) without limitation@@001656</h2>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-box">\n\t\t\t\t\t<div class="top-box">\n\t\t\t\t\t\t<h2 class="nick-name" ref="nickNameEl">{{nickNameStr}}</h2>\n\t\t\t\t\t\t<h2 class="des">LightPDF VIP@@001683</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bottom-box">\n\t\t\t\t\t\t<p class="des">LightPDF VIP Membership enjoys LightPDF conversion and editing service without limitation@@001657</p>\n\t\t\t\t\t\t<div class="btn-box">\n\t\t\t\t\t\t<a f-for="item,value in getBuyLinkOption()" :attr.goods-type="item" class="type-btn">\n\t\t\t\t\t\t\t<span class="red-price">{{value.priceStr}}</span>/{{value.title}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="agreement">\n\t\t\t\t\t\t<checkbox-term :checked="true" ref="checkTerm" @change="handleTrem"></checkbox-term>\n\t\t\t\t\t\t\t<div class="check-box">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="price">\n\t\t\t\t\t\t\t<p>{{priceStr}}<span>{{preferentiStr}}</span></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a class="bill" href="" target="_blank">Place order@@002147</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",priceObj:null,payLink:"",priceStr:"",preferentiStr:"",nickNameStr:apower.user.getName(),vipServiceStr:l("Terms@@002132"),vipMonthStr:l("连续包月服务条款@@002133"),acceptStr:"",getAcceptStr:function(){var t=l("<p>{0}<p>",l("I have read and agreed with {0}@@002134",this.termStr()));this.el.find(".agreement .check-box").empty().append(a(t))},termStr:function(){return l('《<a href="{0}" target="_blank">{1}</a>》',this.rootslash()+"/terms",this.vipServiceStr)},rootslash:function(){return apower.getRegionPath(apower.lang)},onCreated:function(){this.apower=apower,this.setLangPrice()},getBuyLinkOption:function(){return this.setLangPrice(),this.priceObj},handleTrem:function(){this.checkTerm.checked?this.el.find(".bill").removeAttr("disabled"):this.el.find(".bill").attr("disabled",!0)},pagesStr:function(t){return l("{0} pages@@002118",t)},setLangPrice:function(){var t;null==(t=r.link[apower.getShortRegion(apower.lang)])&&(t=r.link.en);var i=JSON.parse(JSON.stringify(t));delete i[4],this.priceObj=i},init:function(){this.el.on("click",".type-btn",this.btnClick.bind(this)),this.el.on("click",".bill",this.billBtnOnClick.bind(this)),this.getAcceptStr(),this.autoSelect(),this.nickNameEl.text(apower.user.getName())},autoSelect:function(){this.el.find('.type-btn[goods-type="2"]').addClass("active"),this.setBillBtnLink(2)},btnClick:function(t){a(t.currentTarget).addClass("active").siblings().removeClass("active");var i=a(t.currentTarget).index();this.setBillBtnLink(i+1)},setBillBtnLink:function(t){t=t||1;var i=this.priceObj[t];this.payLink=i.link,this.el.find(".bill").attr("href",this.linkWithToken(i.link)),this.priceStr=i.priceStr,this.setPreferenti(t),this.el.find(".price").html(l("<p>{0}<span>{1}</span></p>",this.priceStr,""))},linkWithToken:function(t){var i="",e=a.store.get("account_id_token"),n=a.store.get("account_api_token");return"zh"==apower.lang&&e&&!e.startsWith("-")&&(i+="&identity_token="+encodeURIComponent(e),i+="&api_token="+encodeURIComponent(n)),t+i},setPreferenti:function(t){if(1==t)return this.preferentiStr="",void this.el.find(".price span").text(this.preferentiStr);var i=this.priceObj[1],e=this.priceObj[t],n=i.price/i.pages*e.pages-e.price;n=n.toFixed(2),this.preferentiStr=0<n?l("(Save {0})@@002148",l(i.priceStr.replace(/\d+\.\d+|\d+/,"{0}"),n)):"",this.el.find(".price span").text(this.preferentiStr)},billBtnOnClick:function(){var t=a.newComponent("pay-vip-result",{payurl:this.payLink});this.hide(),t.show()}}),a.registerComponent("pay-vip-result","win",{template:'\n\t\t<nav class="win pay-vip-result">\n\t\t\t<div class="pay-vip-result-win">\n\t\t\t\t<h2>Please complete the payment in the newly-opened page@@002135</h2>\n\t\t\t\t<div class="tip-box">\n\t\t\t\t\t<p>Please don’t close this window before the payment done@@002136</p>\n\t\t\t\t\t<p>Once the order is made, click the button below as per your need@@002137</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="check-status-box" hidden>\n\t\t\t\t\t<div class="bg-box">\n\t\t\t\t\t\t<p class="seconds">60s</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="wait-txt">Searching...@@002138</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="no-update" hidden>\n\t\t\t\t\t<p class="wait-txt">Sorry, we have not found your payment information!@@002139</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="btn-box">\n\t\t\t\t\t<a class="type-btn active" ref="payOkBtn">Finished@@002140</a>\n\t\t\t\t\t<a class="type-btn" ref="reCheckBtn" hidden>Requery@@002141</a>\n\t\t\t\t\t<a class="type-btn" :attr.href="payurl" target="_blank" ref="rePayBtn">Repay@@002142</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",priceObj:null,timeDown:60,isTimeDown:0,payurl:"",ocr_vip:0,ocr_balance:0,ocr_consumed:0,timer:null,timerQuery:null,isClose:0,onCreated:function(){this.apower=apower},init:function(){this.payOkBtn.on("click",this.payOkOnClick.bind(this)),this.rePayBtn.on("click",this.rePayOnClick.bind(this)),this.reCheckBtn.on("click",this.payOkOnClick.bind(this))},payOkOnClick:function(){this.isTimeDown||(this.isTimeDown=1,this.addTimeDown(),this.showTimeDown())},showTimeDown:function(){this.el.find(".tip-box").hide(),this.el.find(".btn-box").hide(),this.el.find(".check-status-box").show(),this.reCheckBtn.hide()},addTimeDown:function(){this.timer=o.timer(this.txtDown,1e3,this),o.addTimer(this.timer),this.timerQuery=o.timer(this.getVipInfo,5e3,this),o.addTimer(this.timerQuery)},txtDown:function(){this.timeDown--,this.timeDown<0&&(this.timeDown=60,this.delTimer(),this.showNoUpdate()),this.el.find(".seconds").text(this.timeDown+"s")},delTimer:function(){this.timer&&o.delTimer(this.timer.id),this.timerQuery&&o.delTimer(this.timerQuery.id),this.isTimeDown=0},showNoUpdate:function(){this.reCheckBtn.show(),this.payOkBtn.hide(),this.el.find(".btn-box").show(),this.el.find(".check-status-box").hide()},getVipInfo:function(){this.isClose||pdf.getVipInfo(this.vipInfoBack,this.ocrInfoErr,this)},vipInfoBack:function(t){this.isClose||(pdf.vipInfo.is_vip=t.data.vip.is_vip,pdf.vipInfo.vip_expired_at=t.data.vip.vip_expired_at,pdf.vipInfo.is_vip&&this.whenCloseWin())},ocrInfoErr:function(){},rePayOnClick:function(){},whenCloseWin:function(){this.isClose=1,this.delTimer(),this.hide()}}),a.registerComponent("file-title",{template:"\n\t\t<h1>File@@001686</h1>\n\t"}),a.registerComponent("version-compare",{template:'\n\t\t\t<div class="version-compare">\n\t\t\t\t<h2>LightPDF Accounts@@001658</h2>\n\t\t\t\t<p class="des">Manage PDF files with ease. Check our different account types.@@001659</p>\n\n\t\t\t\t<div class="compare-box">\n\t\t\t\t\t<div class="compare-box-title">\n\t\t\t\t\t\t<div class="table-a table-item">Features@@001660</div>\n\t\t\t\t\t\t<div class="table-b table-item">LightPDF VIP Membership@@001653</div>\n\t\t\t\t\t\t<div class="table-c table-item">Desktop PDF Converter@@001661</div>\n\t\t\t\t\t\t<div class="table-d table-item">Free Membership@@001662</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="item-box" ref="itemBox">\n\t\t\t\t\t\t<div class="compare-box-item" f-for="item of dataArr">\n\t\t\t\t\t\t\t<div class="table-a table-item">\n\t\t\t\t\t\t\t\t<p class="server-name">{{item[0]}}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="table-b table-item">{{item[2]}}</div>\n\t\t\t\t\t\t\t<div class="table-c table-item">{{item[3]}}</div>\n\t\t\t\t\t\t\t<div class="table-d table-item">{{item[4]}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',dataArr:[[l("Batch Convert@@001937"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("Unavailable@@001677")],[l("Convert from PDF@@001671"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5M")],[l("Convert to PDF@@001673"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5M")],[l("Merge PDF@@002082"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5@@001675")],[l("Edit PDF@@002088"),l(""),l("Unlimited@@001672"),l("Unavailable@@001677"),l("5M")],[l("Protect PDF@@002084"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5M")],[l("Unlock PDF@@001678"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5M")],[l("Watermark PDF@@002086"),l(""),l("Unlimited@@001672"),l("Unavailable@@001677"),l("5M")],[l("Sign PDF@@002087"),l(""),l("Unlimited@@001672"),l("Unavailable@@001677"),l("5M")],[l("Split PDF@@002083"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5M")],[l("Compress PDF@@002093"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("5M")],[l("Rotate PDF@@002095"),l(""),l("Unlimited@@001672"),l("Unavailable@@001677"),l("5M")],[l("OCR Basic@@002108"),l(""),l("Unlimited@@001672"),l("Unlimited@@001672"),l("Unlimited@@001672")]],btnStr:'<div class="compare-box-item">\n\t\t\t\t<div class="table-a table-item">\n\t\t\t\t\t<div class="btn"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="table-b table-item" style="border-bottom: 2px solid #4285f4;"><a class="drop-area-button" @click="showJoinVip" href="javascript:void(0);">Join VIP@@002145</a></div>\n\t\t\t\t<div class="table-c table-item"><a href="{{pdfConverterUrl}}" target="_blank" class="drop-area-button">Download@@002071</a></div>\n\t\t\t\t<div class="table-d table-item"><a href="{{rootslash()}}/" class="drop-area-button">Start@@001664</a></div>\n\t\t</div>',ocrStr:'\n\t\t\t<div class="compare-box-item ocr-vip-item">\n\t\t\t\t<div class="table-a table-item">\n\t\t\t\t<p class="server-name">{{ocrArr[0]}}</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="table-b table-item two-line">\n\t\t\t\t\t<p class="server-name">{{ocrArr[2]}}</p>\n\t\t\t\t\t<a class="server-des" href="{{rootslash()}}/my-ocr" target="_blank" title="{{moreStr}}">{{moreStr}}</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="table-c table-item two-line">\n\t\t\t\t\t<p class="server-name">{{ window.$.env.isMobile ? \'\' : ocrArr[3]}}</p>\n\t\t\t\t\t<a class="server-des" href="{{rootslash()}}/my-ocr" target="_blank" title="{{moreStr}}">{{moreStr}}</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="table-d table-item two-line">\n\t\t\t\t\t<p class="server-name">{{ocrArr[4]}}</p>\n\t\t\t\t\t<a class="server-des" href="{{rootslash()}}/my-ocr" target="_blank" title="{{moreStr}}">{{moreStr}}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',moreStr:l("Learn more@@001679"),pdfConverterUrl:pdf.pdfConverterUrl,joinPdfVip:null,ocrArr:[l("OCR VIP@@002104"),l("Pages@@001680"),l("Unavailable@@001677"),l("Unavailable@@001677"),l("Unavailable@@001677")],listened:0,init:function(){this.itemBox.append(this.createFromTemplate(this.ocrStr)),this.itemBox.append(this.createFromTemplate(this.btnStr)),window.$.env.isMobile&&(this.addImgClass(),this.clearTrText())},clearTrText:function(){var r=this;this.dataArr.forEach(function(t,i){for(var e=2,n=t.length;e<n;e++){var s=t[e];s!==l("Unlimited@@001672")&&s!==l("Unavailable@@001677")||(r.dataArr[i][e]="")}}),this.ocrArr.forEach(function(t,i){t!==l("Unlimited@@001672")&&t!==l("Unavailable@@001677")||(r.ocrArr[i]="")})},rootslash:function(){return apower.getRegionPath(apower.lang)},toSignIn:function(){var t=apower.user;t&&!this.listened&&(this.listened=1,t.on("logined",this.onLogined,this)),apower.user.isLogined()||a.newComponent("login").show()},onLogined:function(){pdf.pdfsessionQuery.getPdfSesstion(this.sessionBack,this.sessionErr,this)},sessionBack:function(){},sessionErr:function(){},showJoinVip:function(){apower.user.isLogined()?this.toJoinVip():this.toSignIn()},toJoinVip:function(){this.hasEmail()?a.newComponent("buy-pdf-vip").show():a.newComponent("binding",{way:"email"}).show()},hasEmail:function(){var t=apower.user;return t&&t.info&&t.info.email&&-1!=t.info.email.indexOf("@")||t&&t.info&&t.info.telephone&&1<t.info.telephone.length},addImgClass:function(){var n=this.itemBox.find(".compare-box-item");this.dataArr.forEach(function(t,e){t.forEach(function(t,i){t===l("Unlimited@@001672")?n.eq(e).children().eq(i-1).addClass("ok"):t===l("Unavailable@@001677")&&n.eq(e).children().eq(i-1).addClass("stop")})});for(var t=n.eq(n.length-2).children(".two-line"),i=2,e=this.ocrArr.length;i<e;i++){var s=this.ocrArr[i];s===l("Unlimited@@001672")?t.eq(i-2).children().eq(0).addClass("ok"):s===l("Unavailable@@001677")&&t.eq(i-2).children().eq(0).addClass("stop")}}}),a.registerComponent("buy-ocr-vip","win",{template:'\n\t\t<nav class="win buy-ocr">\n\t\t\t<div class="buy-ocr-win">\n\t\t\t\t<div class="left-box">\n\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t<div class="ocr-title">\n\t\t\t\t\t\t<h2>OCR VIP@@002127</h2>\n\t\t\t\t\t\t<div class="ocr-line"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2 class="feature">Keep the layout of the original file@@002128</h2>\n\t\t\t\t\t<h2 class="feature">Higher accuracy@@002129</h2>\n\t\t\t\t\t<h2 class="feature">Support multiple language recognition@@002130</h2>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-box">\n\t\t\t\t\t<div class="top-box">\n\t\t\t\t\t\t<h2 class="nick-name" ref="nickNameEl">{{nickNameStr}}</h2>\n\t\t\t\t\t\t<h2 class="des">OCR VIP@@002127</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bottom-box">\n\t\t\t\t\t\t<p class="des">VIP members enjoy LightPDF best recognition service@@002131</p>\n\t\t\t\t\t\t<div class="btn-box">\n\t\t\t\t\t\t<a f-for="item,value in getBuyLinkOption()" :attr.goods-type="item" class="type-btn">\n\t\t\t\t\t\t\t{{value.priceStr}}/{{pagesStr(value.pages)}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="agreement">\n\t\t\t\t\t\t\t<checkbox-term :checked="true" ref="checkTerm" @change="handleTrem"></checkbox-term>\n\t\t\t\t\t\t\t\t<div class="check-box">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="price">\n\t\t\t\t\t\t\t<p>{{priceStr}}<span>{{preferentiStr}}</span></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a class="bill" href="" target="_blank">Place order@@002147</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",priceObj:null,payLink:"",priceStr:"",preferentiStr:"",nickNameStr:apower.user.getName(),vipServiceStr:l("Terms@@002132"),vipMonthStr:l("连续包月服务条款@@002133"),acceptStr:"",getAcceptStr:function(){var t=l("<p>{0}<p>",l("I have read and agreed with {0}@@002134",this.termStr()));this.el.find(".agreement .check-box").empty().append(a(t))},termStr:function(){return l('《<a href="{0}" target="_blank">{1}</a>》',this.rootslash()+"/terms",this.vipServiceStr)},rootslash:function(){return apower.getRegionPath(apower.lang)},handleTrem:function(){this.checkTerm.checked?this.el.find(".bill").removeAttr("disabled"):this.el.find(".bill").attr("disabled",!0)},onCreated:function(){this.apower=apower,this.setLangPrice()},getBuyLinkOption:function(){return this.setLangPrice(),this.priceObj},pagesStr:function(t){return l("{0} pages@@002118",t)},setLangPrice:function(){var t;null==(t=d.link[apower.getShortRegion(apower.lang)])&&(t=d.link.en);var i=JSON.parse(JSON.stringify(t));delete i[3],this.priceObj=i},init:function(){this.el.on("click",".type-btn",this.btnClick.bind(this)),this.el.on("click",".bill",this.billBtnOnClick.bind(this)),this.getAcceptStr(),this.autoSelect(),this.nickNameEl.text(apower.user.getName())},autoSelect:function(){this.el.find('.type-btn[goods-type="2"]').addClass("active"),this.setBillBtnLink(2)},btnClick:function(t){a(t.currentTarget).addClass("active").siblings().removeClass("active");var i=a(t.currentTarget).index();i=a(t.currentTarget).attr("goods-type"),this.setBillBtnLink(i)},setBillBtnLink:function(t){t=t||1;var i=this.priceObj[t];this.payLink=i.link,this.el.find(".bill").attr("href",this.linkWithToken(i.link)),this.priceStr=i.priceStr,this.setPreferenti(t),this.el.find(".price").html(l("<p>{0}<span>{1}</span></p>",this.priceStr,this.preferentiStr))},linkWithToken:function(t){var i="",e=a.store.get("account_id_token"),n=a.store.get("account_api_token");return"zh"==apower.lang&&e&&!e.startsWith("-")&&(i+="&identity_token="+encodeURIComponent(e),i+="&api_token="+encodeURIComponent(n)),t+i},setPreferenti:function(t){if(1==t)return this.preferentiStr="",void this.el.find(".price span").text(this.preferentiStr);var i=this.priceObj[1],e=this.priceObj[t],n=i.price/i.pages*e.pages-e.price;n=n.toFixed(2),this.preferentiStr=0<n?l("(Save {0})@@002148",l(i.priceStr.replace(/\d+\.\d+|\d+/,"{0}"),n)):"",this.el.find(".price span").text(this.preferentiStr)},billBtnOnClick:function(){a.newComponent("pay-result",{payurl:this.payLink}).show(),this.hide()}}),a.registerComponent("buy-ocr-vip-store","win",{template:'\n\t\t<nav class="win buy-ocr" ref="ocrVipStore">\n\t\t\t<div class="buy-ocr-win" ref="box">\n\t\t\t\t<div class="left-box" ref="left">\n\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t<div class="ocr-title">\n\t\t\t\t\t\t<h2>OCR VIP@@002127</h2>\n\t\t\t\t\t\t<div class="ocr-line"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2 class="feature">Keep the layout of the original file@@002128</h2>\n\t\t\t\t\t<h2 class="feature">Higher accuracy@@002129</h2>\n\t\t\t\t\t<h2 class="feature">Support multiple language recognition@@002130</h2>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-box" ref="rigth">\n\t\t\t\t\t<div class="top-box">\n\t\t\t\t\t\t<h2 class="nick-name" ref="nickNameEl">{{nickNameStr}}</h2>\n\t\t\t\t\t\t<h2 class="des">OCR VIP@@002127</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bottom-box">\n\t\t\t\t\t\t<p class="des">VIP members enjoy LightPDF best recognition service@@002131</p>\n\t\t\t\t\t\t<div class="btn-box">\n\t\t\t\t\t\t<a f-for="item,value in getBuyLinkOption()" :attr.goods-type="item" :attr.goods-index="11" class="type-btn">\n\t\t\t\t\t\t\t{{value.priceStr}}/{{pagesStr(value.pages)}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="agreement">\n\t\t\t\t\t\t\t<checkbox-term :checked="true" ref="checkTerm" @change="handleTrem"></checkbox-term>\n\t\t\t\t\t\t\t\t<div class="check-box">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="price">\n\t\t\t\t\t\t\t<p>{{priceStr}}<span>{{preferentiStr}}</span></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a class="bill" href="javascript:void(0);" @click="clickPay">Place order@@002147</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",priceObj:null,payLink:"",priceStr:"",preferentiStr:"",nickNameStr:apower.user.getName(),vipServiceStr:l("Terms@@002132"),vipMonthStr:l("连续包月服务条款@@002133"),acceptStr:"",ocr_vip:0,ocr_balance:0,ocr_consumed:0,getAcceptStr:function(){var t=l("<p>{0}<p>",l("I have read and agreed with {0}@@002134",this.termStr()));this.el.find(".agreement .check-box").empty().append(a(t))},termStr:function(){return l('《<a href="{0}" target="_blank">{1}</a>》',this.rootslash()+"/terms",this.vipServiceStr)},rootslash:function(){return apower.getRegionPath(apower.lang)},handleTrem:function(){this.checkTerm.checked?this.el.find(".bill").removeAttr("disabled"):this.el.find(".bill").attr("disabled",!0)},onCreated:function(){this.apower=apower,this.setLangPrice()},getBuyLinkOption:function(){return this.setLangPrice(),this.priceObj},pagesStr:function(t){return l("{0} pages@@002118",t)},setLangPrice:function(){var t;null==(t=d.link[apower.getShortRegion(apower.lang)])&&(t=d.link.en);var i=JSON.parse(JSON.stringify(t));delete i[3],this.priceObj=i},init:function(){this.el.on("click",".type-btn",this.btnClick.bind(this)),this.getAcceptStr(),this.autoSelect(),this.nickNameEl.text(apower.user.getName()),a.env.isMobile&&this.box.append(this.left)},autoSelect:function(){this.el.find('.type-btn[goods-type="2"]').addClass("active"),this.setBillBtnLink(2)},btnClick:function(t){a(t.currentTarget).addClass("active").siblings().removeClass("active");var i=a(t.currentTarget).index();i=a(t.currentTarget).attr("goods-type"),this.setBillBtnLink(i)},setBillBtnLink:function(t){t=t||1;var i=this.priceObj[t];this.payLink=i.link,this.priceStr=i.priceStr,this.setPreferenti(t),this.el.find(".price").html(l("<p>{0}<span>{1}</span></p>",this.priceStr,this.preferentiStr))},clickPay:function(){apower.user.isLogined()?(this.checkOcrVip(),this.openLink(),this.billBtnOnClick()):this.toSignIn()},toSignIn:function(){apower.user.isLogined()||(pdf.on("sessions-update",this.sessonOk,this),this.loginPanel=a.newComponent("login"),this.loginPanel.on("logined",this.onLogined,this),this.loginPanel.show())},sessonOk:function(){this.checkOcrVip()},openLink:function(){window.open(this.linkWithToken(this.payLink))},onLogined:function(){},checkOcrVip:function(){pdf.getOcrVipInfo(this.checkOcrVipBack,this.checkOcrVipErr,this)},checkOcrVipBack:function(t){t.data.ocr&&(this.ocr_vip=t.data.ocr.ocr_vip,this.ocr_balance=t.data.ocr.ocr_balance,this.ocr_consumed=t.data.ocr.ocr_consumed)},checkOcrVipErr:function(){this.ocr_vip=0,this.ocr_balance=0,this.ocr_consumed=0},linkWithToken:function(t){var i="",e=a.store.get("account_id_token"),n=a.store.get("account_api_token");return"zh"==apower.lang&&e&&!e.startsWith("-")&&(i+="&identity_token="+encodeURIComponent(e),i+="&api_token="+encodeURIComponent(n)),t+i},setPreferenti:function(t){if(1==t)return this.preferentiStr="",void this.el.find(".price span").text(this.preferentiStr);var i=this.priceObj[1],e=this.priceObj[t],n=i.price/i.pages*e.pages-e.price;n=n.toFixed(2),this.preferentiStr=0<n?l("(Save {0})@@002148",l(i.priceStr.replace(/\d+\.\d+|\d+/,"{0}"),n)):"",this.el.find(".price span").text(this.preferentiStr)},billBtnOnClick:function(){var t=a.newComponent("pay-result-ocr",{payurl:this.payLink});this.hide(),t.show()}}),a.registerComponent("pay-result-ocr","win",{template:'\n\t\t<nav class="win pay-result">\n\t\t\t<div class="pay-result-win">\n\t\t\t\t<h2>Please complete the payment in the newly-opened page@@002135</h2>\n\t\t\t\t<div class="tip-box">\n\t\t\t\t\t<p>Please don’t close this window before the payment done@@002136</p>\n\t\t\t\t\t<p>Once the order is made, click the button below as per your need@@002137</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="check-status-box" hidden>\n\t\t\t\t\t<div class="bg-box">\n\t\t\t\t\t\t<p class="seconds">60s</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="wait-txt">Searching...@@002138</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="no-update" hidden>\n\t\t\t\t\t<p class="wait-txt">Sorry, we have not found your payment information!@@002139</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="btn-box">\n\t\t\t\t\t<a class="type-btn active" ref="payOkBtn">Finished@@002140</a>\n\t\t\t\t\t<a class="type-btn" ref="reCheckBtn" hidden>Requery@@002141</a>\n\t\t\t\t\t<a class="type-btn" :attr.href="payurl" target="_blank" ref="rePayBtn">Repay@@002142</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",priceObj:null,timeDown:60,isTimeDown:0,payurl:"",ocr_vip:0,ocr_balance:0,ocr_consumed:0,timer:null,timerQuery:null,isClose:0,onCreated:function(){this.apower=apower},init:function(){this.payOkBtn.on("click",this.payOkOnClick.bind(this)),this.rePayBtn.on("click",this.rePayOnClick.bind(this)),this.reCheckBtn.on("click",this.payOkOnClick.bind(this))},payOkOnClick:function(){this.isTimeDown||(this.isTimeDown=1,this.addTimeDown(),this.showTimeDown())},showTimeDown:function(){this.el.find(".tip-box").hide(),this.el.find(".btn-box").hide(),this.el.find(".check-status-box").show(),this.reCheckBtn.hide()},addTimeDown:function(){this.timer=o.timer(this.txtDown,1e3,this),o.addTimer(this.timer),this.timerQuery=o.timer(this.getOcrVipInfo,5e3,this),o.addTimer(this.timerQuery)},txtDown:function(){this.timeDown--,this.timeDown<0&&(this.timeDown=60,this.delTimer(),this.showNoUpdate()),this.el.find(".seconds").text(this.timeDown+"s")},delTimer:function(){this.timer&&o.delTimer(this.timer.id),this.timerQuery&&o.delTimer(this.timerQuery.id),this.isTimeDown=0},showNoUpdate:function(){this.reCheckBtn.show(),this.payOkBtn.hide(),this.el.find(".btn-box").show(),this.el.find(".check-status-box").hide()},getOcrVipInfo:function(){this.isClose||pdf.getOcrVipInfo(this.ocrInfoBack,this.ocrInfoErr,this)},ocrInfoBack:function(t){this.isClose||(t.data.ocr&&(this.ocr_vip=t.data.ocr.ocr_vip,this.ocr_balance=t.data.ocr.ocr_balance,this.ocr_consumed=t.data.ocr.ocr_consumed),this.ocr_balance>apower.pdfapp.ocrVipStore.ocr_balance&&this.whenCloseWin())},ocrInfoErr:function(){},rePayOnClick:function(){},whenCloseWin:function(){this.isClose=1,this.delTimer(),this.hide()}}),a.registerComponent("buy-pdf-vip-store","buy-pdf-vip",{template:'\n\t\t<nav class="win buy-pdf">\n\t\t\t<div class="buy-pdf-win" ref="box">\n\t\t\t\t<div class="left-box" ref="left">\n\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t<div class="ocr-title">\n\t\t\t\t\t\t<h2>LightPDF VIP@@001683</h2>\n\t\t\t\t\t\t<div class="ocr-line"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2 class="feature">Convert PDF without limitation@@001654</h2>\n\t\t\t\t\t<h2 class="feature">Edit PDF without limitation@@001655</h2>\n\t\t\t\t\t<h2 class="feature">Use full functions (except OCR) without limitation@@001656</h2>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-box" ref="right">\n\t\t\t\t\t<div class="top-box">\n\t\t\t\t\t\t<h2 class="nick-name" ref="nickNameEl">{{nickNameStr}}</h2>\n\t\t\t\t\t\t<h2 class="des">LightPDF VIP@@001683</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bottom-box">\n\t\t\t\t\t\t<p class="des">LightPDF VIP Membership enjoys LightPDF conversion and editing service without limitation@@001657</p>\n\t\t\t\t\t\t<div class="btn-box">\n\t\t\t\t\t\t<a f-for="item,value in getBuyLinkOption()" :attr.goods-type="item" class="type-btn">\n\t\t\t\t\t\t\t<span class="red-price">{{value.priceStr}}</span>/{{value.title}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="agreement">\n\t\t\t\t\t\t<checkbox-term :checked="true" ref="checkTerm" @change="handleTrem"></checkbox-term>\n\t\t\t\t\t\t\t<div class="check-box">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="price">\n\t\t\t\t\t\t\t<p>{{priceStr}}<span>{{preferentiStr}}</span></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a class="bill-url" href="" target="_blank" hidden></a>\n\t\t\t\t\t\t<a class="bill" href="javascript:void(0);"  @click="clickPay">Place order@@002147</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',init:function(){this.el.on("click",".type-btn",this.btnClick.bind(this)),this.getAcceptStr(),this.autoSelect(),this.nickNameEl.text(apower.user.getName()),a.env.isMobile&&this.box.append(this.left)},setBillBtnLink:function(t){t=t||1;var i=this.priceObj[t];this.payLink=i.link,this.el.find(".bill-url").attr("href",this.linkWithToken(i.link)),this.priceStr=i.priceStr,this.setPreferenti(t),this.el.find(".price").html(l("<p>{0}<span>{1}</span></p>",this.priceStr,""))},clickPay:function(){apower.user.isLogined()?(this.openLink(),this.billBtnOnClick()):this.toSignIn()},toSignIn:function(){apower.user.isLogined()||(this.loginPanel=a.newComponent("login"),this.loginPanel.on("logined",this.onLogined,this),this.loginPanel.show())},openLink:function(){this.el.find(".bill-url").attr("href",this.linkWithToken(this.payLink)),window.open(this.linkWithToken(this.payLink))},onLogined:function(){}}),a.registerComponent("header-store-vip-entry",{template:'\n\t\t<li class="store" @click="onClickVip"><a href="{{buyVipUrl}}" >Store@@002160</a></li>\n\t',template2:'\n\t\t<li class="has-sub aa"><div class="sub-title">Store@@002160</div></li>\n\t',listened:0,loginPanel:null,buyVipUrl:"javascript:void(0);",buyOcrUrl:"javascript:void(0);",init:function(){pdf.isVipLink()&&(this.buyVipUrl=this.rootslash()+"/buy-vip")},rootslash:function(){return apower.getRegionPath(apower.lang)},onClickVip:function(){pdf.isVipLink()||this.showBuyPdfVip()},onClickOcrVip:function(){pdf.isOcrLink()||this.showBuyOcrVip()},showBuyPdfVip:function(){a.newComponent("buy-pdf-vip-store").show()},showBuyOcrVip:function(){a.newComponent("buy-ocr-vip-store").show()},toSignIn:function(t){apower.user&&!this.listened&&(this.listened=t),apower.user.isLogined()||(this.loginPanel=a.newComponent("login"),this.loginPanel.on("logined",this.onLogined,this),this.loginPanel.show())},onLogined:function(){this.loginPanel=null,1==this.listened?this.showBuyPdfVip():2==this.listened&&this.showBuyOcrVip()}}),a.registerComponent("header-ocr-menu",{template:'\n\t\t<ul class="header-store-entry">\n\t\t\t<li class="nav-popup-minicon"><a href="{{rootslash()}}/ocr">OCR</a></li>\n\t\t\t<li class="nav-popup-minicon" @click="onClickOcrVip"><a href="{{buyOcrUrl}}" >OCR VIP@@002113</a></li>\n\t\t</ul>\n\t',listened:0,loginPanel:null,buyOcrUrl:"javascript:void(0);",init:function(){pdf.isOcrLink()&&(this.buyOcrUrl=this.rootslash()+"/buy-ocr")},rootslash:function(){return apower.getRegionPath(apower.lang)},onClickOcrVip:function(){pdf.isOcrLink()||this.showBuyOcrVip()},showBuyOcrVip:function(){a.newComponent("buy-ocr-vip-store").show()}}),a.registerComponent("header-store-menu",{template:'\n\t\t<ul class="header-store-entry">\n\t\t\t<li class="nav-popup-minicon" @click="onClickOcrVip"><a href="{{buyOcrUrl}}" >OCR VIP@@002113</a></li>\n\t\t\t<li class="nav-popup-minicon" @click="onClickVip"><a href="{{buyVipUrl}}" >LightPDF VIP@@001683</a></li>\n\t\t\t<li class="nav-popup-minicon"><a href="{{rootslash()}}/version-compare">Upgrade@@001688</a></li>\n\t\t</ul>\n\t',listened:0,loginPanel:null,buyVipUrl:"javascript:void(0);",buyOcrUrl:"javascript:void(0);",init:function(){pdf.isVipLink()&&(this.buyVipUrl=this.rootslash()+"/buy-vip"),pdf.isOcrLink()&&(this.buyOcrUrl=this.rootslash()+"/buy-ocr")},rootslash:function(){return apower.getRegionPath(apower.lang)},onClickVip:function(){pdf.isVipLink()||this.showBuyPdfVip()},onClickOcrVip:function(){pdf.isOcrLink()||this.showBuyOcrVip()},showBuyPdfVip:function(){a.newComponent("buy-pdf-vip-store").show()},showBuyOcrVip:function(){a.newComponent("buy-ocr-vip-store").show()},toSignIn:function(t){apower.user&&!this.listened&&(this.listened=t),apower.user.isLogined()||(this.loginPanel=a.newComponent("login"),this.loginPanel.on("logined",this.onLogined,this),this.loginPanel.show())},onLogined:function(){this.loginPanel=null,1==this.listened?this.showBuyPdfVip():2==this.listened&&this.showBuyOcrVip()}}),a.registerComponent("out-of-use-limit","win",{template:'\n\t\t<nav class="win out-of-use-limit">\n\t\t\t<div class="out-of-use-limit-win">\n\t\t\t\t<div class="left-box">\n\t\t\t\t\t<h2>Exceeded the limit@@001916</h2>\n\t\t\t\t\t<div class="box-content">\n\t\t\t\t\t\t<p>Non-VIP users can only process files up to 5 MB@@001917</p>\n\t\t\t\t\t\t<p>Non-VIP users can only upload 1 file@@001918</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="box-tip">\n\t\t\t\t\t\t<p>Join LightPDF VIP for unlimited service@@001919</p>\n\t\t\t\t\t\t<a href="{{rootslash()}}/version-compare" target="_blank" class="compare-version">Compare all account types@@001652<span></span></a>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="box-bottom">\n\t\t\t\t\t\t<a href="{{buyVipUrl}}">Join VIP@@002145</a>\n\t\t\t\t\t\t<p f-if="!isLogined">{Already VIP member?@@001924} <span @click="login">{Login@@002161}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-box">\n\t\t\t\t\t<h2>Download the app to process the documents faster@@001920</h2>\n\t\t\t\t\t<div class="box-content">\n\t\t\t\t\t\t<p class="check">No limit to file size or number of pages@@001921</p>\n\t\t\t\t\t\t<p class="check">Supports batch conversion@@001922</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="box-tip">\n\t\t\t\t\t\t<p>Go to the app to read, edit, comment, watermark, merge, and print PDF, etc.@@001923</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="box-bottom">\n\t\t\t\t\t\t<a href="{{downloadAppUrl}}">Download Now@@000875</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t',target:"body",isLogined:!1,buyVipUrl:"javascript:void(0);",downloadAppUrl:pdf.pdfEditorUrl,onCreated:function(){this.apower=apower,this.isLogined=apower.user.isLogined()},init:function(){pdf.isVipLink()&&(this.buyVipUrl=this.rootslash()+"/buy-vip")},rootslash:function(){return apower.getRegionPath(apower.lang)},login:function(){apower.user.isLogined()||a.newComponent("login").show(),this.hide()}}),a.registerComponent("purchase-guidance",{template:'\n\t<div class="purchase-guidance">\n\t\t<div class="title">Subscribe to LightPDF VIP, Enjoy More Exclusive Benefits@@001970</div>\n\t\t<div class="purchase-info">\n\t\t\t<div :class.active="choose == \'yearly\'" @click="choose = \'yearly\'">\n\t\t\t\t<div class="hot-news"><span>Limited time offer@@001971</span></div>\n\t\t\t\t<div class="desc">Yearly billing@@001873<span></span></div>\n\t\t\t\t<div class="sale" f-show="lang != \'zh\'"><span>{{sale[\'yearly\'].mPrice}}/</span>month@@001876</div>\n\t\t\t\t<div class="sale" f-show="lang === \'zh\'">￥69 / 年</div>\n\t\t\t\t<div class="oldsale" f-show="lang === \'zh\'">￥199/年</div>\n\t\t\t\t<div class="discount" f-show="lang === \'zh\'">立享3折</div>\n\t\t\t\t<div class="discount" f-show="lang != \'zh\'">60%OFF</div>\n\t\t\t\t<a class="buy-now" id="buy-now1" target="_blank" @click="showLoginWin" href="{{yearlyLink}}">Buy Now@@001972</a>\n\t\t\t</div>\n\t\t\t<div :class.active="choose == \'quarter\'" @click="choose = \'quarter\'">\n\t\t\t\t<div class="desc">Quarterly billing@@001870</div>\n\t\t\t\t<div class="sale" f-show="lang != \'zh\'"><span>{{sale[\'quarter\'].mPrice}}/</span>month@@001876</div>\n\t\t\t\t<div class="sale" f-show="lang === \'zh\'">￥49 / 季</div>\n\t\t\t\t<div class="oldsale" f-show="lang === \'zh\'">￥99/季</div>\n\t\t\t\t<a class="buy-now" id="buy-now2" target="_blank" @click="showLoginWin" href="{{quarterLink}}">Buy Now@@001972</a>\n\t\t\t</div>\n\t\t\t<div :class.active="choose == \'month\'" @click="choose = \'month\'">\n\t\t\t\t<div class="desc">Monthly billing@@001875</div>\n\t\t\t\t<div class="sale" f-show="lang != \'zh\'"><span>{{sale[\'month\'].mPrice}}/</span>month@@001876</div>\n\t\t\t\t<div class="sale" f-show="lang === \'zh\'">￥39 / 月</div>\n\t\t\t\t<div class="oldsale" f-show="lang === \'zh\'">￥59/月</div>\n\t\t\t\t<a class="buy-now" id="buy-now3" target="_blank" @click="showLoginWin" href="{{monthLink}}">Buy Now@@001972</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="vip-more">VIP Benefits Include@@001973</div>\n\t\t<ul>\n\t\t\t<li>High prioprity file processing@@001974</li>\n\t\t\t<li>No limit to file size (except OCR feature)@@001975</li>\n\t\t\t<li>Batch Conversion@@001976</li>\n\t\t\t<li>Unlimited access to all tools （except OCR)@@001977</li>\n\t\t</ul>\n\t</div>\n',choose:"yearly",monthLink:"javascript:void(0);",quarterLink:"javascript:void(0);",yearlyLink:"javascript:void(0);",clickBuyNow:!1,sale:{month:{},quarter:{},yearly:{}},init:function(){a(".main-wrapper").addClass("purchase-wrapper");var t="zh"===apower.lang?"zh":"en",i={ar:"ar",cs:"cz",de:"de",da:"dk",en:"en",es:"es",fi:"fi",fr:"fr",el:"gr",hu:"hu",it:"it",ja:"jp",nl:"nl",no:"no",pl:"pl",pt:"pt",sv:"se",tr:"tr",tw:"tw",zh:"zh"}[t],e=JSON.parse(JSON.stringify(priceObj.priceMap.link[i])),n=this.getCurrencySymbol(t);for(var s in n.isBeforeNumber?(e[1].mPrice=n.currencySymbol+e[1].price,e[2].mPrice=n.currencySymbol+(e[2].price/3).toFixed(2),e[3].mPrice=n.currencySymbol+(e[3].price/12).toFixed(2)):(e[1].mPrice=e[1].price+n.currencySymbol,e[2].mPrice=(e[2].price/3).toFixed(2)+n.currencySymbol,e[3].mPrice=(e[3].price/12).toFixed(2)+n.currencySymbol),e)e[s].link=e[s].link.replace("secure.2checkout.com","shop.apowersoft.com");this.sale.month=e[1],this.sale.quarter=e[2],this.sale.yearly=e[3],this.lang=apower.lang,window.addEventListener("wx_inline_checkout_completed",function(t){console.log(t);var i="".concat(location.protocol,"//").concat(location.hostname).concat(apower.getRegionPath(apower.lang),"/vip");window.open(i)});var r=apower.user;r&&(r.on("logout",this.onLogout,this),r.on("logined",this.onLogined,this))},onLogout:function(){this.monthLink="javascript:void(0);",this.quarterLink="javascript:void(0);",this.yearlyLink="javascript:void(0);"},onLogined:function(){var t;this.getBuyLink(),this.el.find(".buy-now").attr("target","_blank"),"month"===this.choose&&(t=this.monthLink),"quarter"===this.choose&&(t=this.quarterLink),"yearly"===this.choose&&(t=this.yearlyLink),"zh"==apower.lang&&this.clickBuyNow&&(this.clickBuyNow=!1,window.open(t)),"zh"!=apower.lang&&this.clickBuyNow&&wx_checkout&&wx_checkout.checkout&&(this.clickBuyNow=!1,wx_checkout.checkout(t))},getCurrencySymbol:function(t){var i={isBeforeNumber:!0,currencySymbol:"$"};switch(t){case"zh":i.currencySymbol="￥";break;case"ja":i.isBeforeNumber=!1,i.currencySymbol="円";break;case"tw":i.currencySymbol="NT$";break;case"ar":case"en":case"pt":i.currencySymbol="$";break;default:i.isBeforeNumber=!1,i.currencySymbol="€"}return i},getBuyLink:function(){"zh"==apower.lang?(this.monthLink=this.sale.month.link,this.quarterLink=this.sale.quarter.link,this.yearlyLink=this.sale.yearly.link):(this.monthLink="https://buy.paddle.com/product/586274",this.quarterLink="https://buy.paddle.com/product/586275",this.yearlyLink="https://buy.paddle.com/product/586276");var t=a.store.get("account_id_token"),i=a.store.get("account_api_token"),e=a.store.get("account_user");"zh"==apower.lang&&t&&!t.startsWith("-")&&(this.monthLink+="&identity_token="+encodeURIComponent(t)+"&api_token="+encodeURIComponent(i),this.quarterLink+="&identity_token="+encodeURIComponent(t)+"&api_token="+encodeURIComponent(i),this.yearlyLink+="&identity_token="+encodeURIComponent(t)+"&api_token="+encodeURIComponent(i)),"zh"==apower.lang&&e&&e.email&&(this.monthLink+="&user_email="+encodeURIComponent(e.email),this.quarterLink+="&user_email="+encodeURIComponent(e.email),this.yearlyLink+="&user_email="+encodeURIComponent(e.email))},showLoginWin:function(t){if(!window.apower.user.getId())return this.clickBuyNow=!0,a(t.currentTarget).removeAttr("target"),void apower.user.popupLoginWin();this.getBuyLink()}})}(jQuery);

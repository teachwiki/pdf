"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var o=s.apply(e,i);function r(e){asyncGeneratorStep(o,t,n,r,a,"next",e)}function a(e){asyncGeneratorStep(o,t,n,r,a,"throw",e)}r(void 0)})}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var p=apower.tr;apower.license={productId:"",productName:"",available:!0,returnUrl:"",info:null,appInfo:null,guid:null,appName:"",accountPost:c.req.overwrite(function(e,t){var n=apower,o=n.user,r=n.lang,a=(n.license,apower.getSupportDomain()+"/api/account?format=json&action="+e);return t.data=t.data||{},t.withCredentials=!0,"object"===_typeof(t.data)&&(t.data.language=r),o.identityToken?t.data.identity_token=o.identityToken:o.info&&o.info.identity_token&&(t.data.identity_token=o.info.identity_token),{url:a,options:t}},function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ok,r=t.data,e.abrupt("return",{ok:o,data:r});case 2:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()).post,getBrand:function(r){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||(a.appName||"showmore web all"),e.next=3,apower.user.req.get("/api/apps/name?name=".concat(r));case 3:if(t=e.sent,n=t.status,o=t.data,n)return e.abrupt("return",o);e.next=10;break;case 10:return e.abrupt("return","");case 11:case"end":return e.stop()}},e)}))()},buyPost:c.req.overwrite(function(e,t){var n=apower,o=n.user,r=n.lang,a=(n.license,apower.getSupportDomain()+"/api/buy/apowersoft?action="+e);return t.data=t.data||{},t.withCredentials=!0,"object"===_typeof(t.data)&&(t.data.language=r),o.identityToken?t.data.identity_token=o.identityToken:o.info&&o.info.identity_token&&(t.data.identity_token=o.info.identity_token),{url:a,options:t}},function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ok,r=t.data,e.abrupt("return",{ok:o,data:r});case 2:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()).post,post:c.req.overwrite(function(e,t){var n=apower,o=(n.user,n.lang),r=(n.license,apower.getSupportDomain()+"/api/client?type=6&format=json&action="+e);return t.data=t.data||{},t.withCredentials=!0,"object"===_typeof(t.data)&&(t.data.language=o),{url:r,options:t}},function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ok,r=t.data,e.abrupt("return",{ok:o,data:r});case 2:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()).post,init:function(){var e=c.parseQuery(location.search);this.productId=e.product_id||"",this.productName=e.product_name||"",this.returnUrl=e.return_url,this.guid=e.guid||""},isOldIEVersion:function(){return!!this.returnUrl},isAvailable:function(){return!(!this.productId||!this.productName)},getRegisteredApp:function(){return this.productName||location.host},update:function(){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,o=t.support,e.next=3,o.post("get-user-license-info");case 3:r=e.sent,a=r.ok,i=r.data,a?(n.info&&i&&i.user_info&&(n.info.ctoken=i.user_info.ctoken),s.set(i.license_info),"1"===i.license_info.login_times&&(apower.isFirstLogin=!0)):c.notify.alert(p("Failed to get license info@@001240"));case 7:case"end":return e.stop()}},e)}))()},set:function(e){this.info=e},getCToken:function(){return this.info.ctoken},PRODUCT_LICENSE_TYPE_TEXT:{vol:"Personal@@001241",personal:"Personal@@001241",commercial:"Commercial@@001242"},getProductLicenseText:function(){return this.info?p(this.PRODUCT_LICENSE_TYPE_TEXT[this.info.product_license_type]||this.PRODUCT_LICENSE_TYPE_TEXT.personal):""},isFree:function(){return this.info&&"free"===this.info.product_license_type},isOfficialVersion:function(){return!this.appInfo||0==this.appInfo.package_type},isActivityVersion:function(){return!!this.appInfo&&1==this.appInfo.package_type},isChannelVersion:function(){return!!this.appInfo&&2==this.appInfo.package_type},isHasNoTrial:function(){return!!this.info&&(1==this.info.no_trial||this.appInfo&&this.appInfo.type.includes("ads-"))},isHasTrial:function(){return!this.isHasTrial()},isCanbeMulti:function(){return"lifetime"===this.getPassportLicenseType()},getMaxOnlineCount:function(){return 1<this.info.max_online_num},PASSPORT_LICENSE_TYPE_text:{trial:"Trial@@001243",daily:"Daily@@001244",monthly:"Monthly@@001527",quarterly:"Quarterly@@001245",yearly:"Yearly@@001246",lifetime:"Lifetime@@001247"},getPassportLicenseText:function(){if(!this.info)return"";var e=(this.appInfo?this.appInfo.trial_days:0)||(this.isHasNoTrial()?0:3),t=(0<e?p("some_days").format(e):p("trial"),this.getPassportLicenseType());return p(this.PASSPORT_LICENSE_TYPE_text[t])},getPassportLicenseType:function(){return(this.info?this.info.passport_license_type:"trial").replace("multi-","")},isTrial:function(){return this.info&&"trial"===this.getPassportLicenseType()},isVIP:function(){return this.info&&1==this.info.is_activated&&"trial"!==this.getPassportLicenseType()},isActivated:function(){return this.info&&1==this.info.is_activated},isLifetime:function(){return"lifetime"===this.getPassportLicenseType()},WILL_EXPIRED_DAYS:{trial:3,daily:1,monthly:7,quarterly:10,yearly:15},isNearlyExpired:function(){if(!this.isVIP())return!1;var e=this.getPassportLicenseType(),t=this.getRemainingDays(),n=this.WILL_EXPIRED_DAYS[e]||3;return 0<t&&t<=n},getRemainingDays:function(){if(!this.info)return"";this.getPassportLicenseType();return this.info.remain_days||0},isNoTimeLimitation:function(){return this.isFree()||this.isLifetime()},isExpired:function(){return this.info&&-2==this.info.is_activated},getExpiredDate:function(){return this.info?"lifetime"===this.getPassportLicenseType()?p("Lifetime@@001247"):(this.info.expire_date||(this.appInfo?this.appInfo.expire_date:"")).replace(/T/," ").replace(/\.000/,"").replace(/-/g,"/"):""},isLocalActivated:function(){return!apower.user.getId()&&this.isActivated()},getUnlimitedVipInfo:function(){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,t.user,n=t.support,e.next=3,n.post("get-user-license-info",{product_name:"Online Unlimited"});case 3:o=e.sent,o.ok,r=o.data,o.status,c.store.set("unlimited_vip_info",r.license_info);case 8:case"end":return e.stop()}},e)}))()}},apower.license.init()}($),function(f){var p=apower.tr;apower.user={__proto__:f.Emitter.prototype,origin:"https://gw.aoscdn.com/base/passport/v1",req:f.req.overwrite(function(e,t){var n=apower,o=n.lang,r=n.user,a=f.parseQuery(e);if(e=r.origin+e.substring(0,-1===e.indexOf("?")?e.length:e.indexOf("?")),t.data=Object.assign({},a,t.data),"object"===_typeof(t.data)){t.data.language=o,t.password&&(t.data.password=t.password);var i=Object.keys(t.data);if(0<i.length){i.sort();for(var s={},c=0;c<i.length;c++)s[i[c]]=t.data[i[c]],c<i.length-1?(i[c],s[i[c]]):(i[c],s[i[c]]);t.data=s}}var p=r.apiToken||r.info&&r.info.api_token;return!p||e.endsWith("/api/login")||e.endsWith("/api/register")||(t.headers={Authorization:p}),{url:e,options:t}},function(e){var t=e.ok,n=e.data,o=n&&n.status?n.status:null;return{ok:t,data:n=n&&n.data?n.data:n,status:o}}),inMyAccountDomain:location.host.startsWith("myaccount")||location.host.startsWith("dev050"),inSoftware:!1,brand:null,brand_id:null,app_id:null,info:null,token:null,license:null,bindings:null,syncLoginState:null,syncLogoutState:null,triggerEvent:function(e){window.dispatchEvent(e)},init:function(){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.Emitter.call(a),a.info=f.store.get("account_user"),a.apiToken=f.store.get("account_api_token"),a.identityToken=f.store.get("account_id_token"),t=apower,n=t.user,o=n.apiToken||n.info&&n.info.api_token,((r=f.parseQuery(location.search)).state||r.oauth_token)&&a.loginByState(r),!a.info&&o&&apower.user.req.get("/api/my/info").then(function(e){var t=e.ok,n=e.data,o=e.status;t&&(n&&(n.user_id||n.uid)?a.set({user:n}):-213==o&&a.popupLoginWin())}),f.onReady(function(){f.defer(function(){a.willHandleThirdParty()&&a.handleThirdPartyCallback(),a.willHandleAutoLogin()&&a.handleAutoLogin()})});case 10:case"end":return e.stop()}},e)}))()},getBrand:function(){return location.host.includes("acethinker")?this.brand="Acethinker":location.host.includes("showmore")&&(this.brand="showmore web all"),this.brand||"Apowersoft Phone Manager"},getId:function(){return this.info?this.info.user_id||this.info.uid:""},getName:function(){return this.info?this.info.nickname||this.info.email.replace(/@.+/,""):p("Anonymous@@001248")},getAvatar:function(){return this.info?this.info.avatar?this.info.avatar:this.info.avatar_url:""},isLogined:function(){return 0<this.getId()},isFirstTimeLogin:function(){return this.info&&"0"==this.info.last_login_time},isBinded:function(){return this.info.telephone||this.info.email},isAnonymous:function(){return this.info&&this.info.email&&this.info.email.endsWith("@anonymous.com")},addTokenToURL:function(e){if(!e)return"";var t=this.getToken();return t?f.useQuery(e,{identity_token:t}):e},getToken:function(){return this.identityToken||(this.info?this.info.identity_token:null)},getIdbyName:function(){var i=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.getBrand(),e.next=3,i.req.get("/api/apps/name?name=".concat(t));case 3:return n=e.sent,o=n.ok,r=n.data,a=n.status,o&&"200"==a&&(i.brand_id=r.brand_id,i.app_id=r.app_id),f.store.set("brand_id",i.brand_id.toString()),f.store.set("app_id",i.app_id.toString()),e.abrupt("return",{ok:o,data:r,status:a});case 11:case"end":return e.stop()}},e)}))()},getBrandId:function(){return this.brand_id||this.getIdbyName(),f.store.get("brand_id")||null},getAppId:function(){return this.app_id||this.getIdbyName(),f.store.get("app_id")||null},getApiToken:function(){return this.apiToken||(this.info?this.info.apiToken:null)},modify:function(s){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.getId(),n=f.extend({},c.info),Object.assign(c.info,s),f.digest(),e.next=6,c.req.put("/api/users/".concat(t),s);case 6:return o=e.sent,r=o.ok,a=o.data,i=o.status,r?(a&&(c.info=a),f.store.set("account_user",c.info),window.Cookies&&c.info.identity_token&&Cookies.set("X_USER_IDENTITY_TOKEN",c.info.identity_token),c.trigger("modify",c.info)):c.info=n,e.abrupt("return",{ok:r,status:i});case 12:case"end":return e.stop()}},e)}))()},set:function(i){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.user,n=i.api_token,o=i.identity_token,r=s.isLogined(),t&&(s.info=t),n&&(s.apiToken=n),o&&(s.identityToken=o,s.bindings=null,s.info&&(s.info.identity_token=o)),f.store.set("account_user",s.info),window.Cookies&&s.info.identity_token&&Cookies.set("X_USER_IDENTITY_TOKEN",s.info.identity_token),f.store.set("account_api_token",s.apiToken),f.store.set("account_id_token",s.identityToken),!(s.isLogined()&&!r||o)){e.next=16;break}if(s.syncLoginState)return e.next=13,s.syncLoginState();e.next=13;break;case 13:s.trigger("logined");try{(a=document.createEvent("Event")).initEvent("wx_user_login",!0,!0),s.triggerEvent(a)}catch(e){console.log(e)}s.isBinded()&&s.trigger("logincompleted");case 16:case"end":return e.stop()}},e)}))()},changeAvatar:function(o){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,apower.uploadAvatar(o);case 2:if(t=e.sent)return e.next=6,apower.user.modify({avatar:t});e.next=16;break;case 6:if(n=e.sent,n.ok)return e.abrupt("return",{ok:!0});e.next=12;break;case 12:return f.notify.alert(p("Failed to change avatar!@@001249")),e.abrupt("return",{ok:!1});case 14:e.next=18;break;case 16:return f.notify.alert(p("Failed to upload avatar!@@001250")),e.abrupt("return",{ok:!1});case 18:case"end":return e.stop()}},e)}))()},loginByPost:function(i){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.identity_token&&(i.identity_token=i.identity_token.replace(/%2c/gi,",")),apower.app&&"software"===apower.app.env&&InvokeApp("get-passport-info",{},function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.registed_app=t.data.app_info.name,e.next=3,this.req.post("/api/login",i);case 3:return n=e.sent,o=n.ok,r=n.data,a=n.status,o&&this.set(r),e.abrupt("return",{ok:o,status:a});case 9:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),e.next=4,a.req.post("/api/login",i);case 4:return t=e.sent,n=t.ok,o=t.data,r=t.status,n&&a.set(o),e.abrupt("return",{ok:n,data:o,status:r});case 10:case"end":return e.stop()}},e)}))()},willHandleThirdParty:function(){var e=f.parseQuery(location.search);return e.unique_id&&e.provider},handleThirdPartyCallback:function(){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,n=t.route,o=f.parseQuery(location.search),n&&(n.loading=!0),"binding"===o.action)return e.next=6,r.bindWithThirdParty();e.next=8;break;case 6:e.next=11;break;case 8:if("login"===o.action)return e.next=11,r.loginWithThirdParty();e.next=11;break;case 11:n&&(n.loading=!1);case 12:case"end":return e.stop()}},e)}))()},bindWithThirdParty:function(){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.route,t.license,o=f.parseQuery(location.search),r=c.getId(),(a={}).unique_id=o.unique_id,a.provider=o.provider,c.inMyAccountDomain&&(n.prefix="",n.goto("/")),e.next=9,c.req.put("/api/users/".concat(r,"/oauthbindings"),a,{headers:{Authorization:apower.user.getApiToken()}});case 9:i=e.sent,i.ok,i.data,200==(s=i.status)?(f.notify.success(p("{0} account binded!@@001251",c.getBindingProviderName(o.provider))),c.readBindings()):-204==s?f.notify.alert(p("The {0} account has binded to another account!@@001383",c.getBindingProviderName(o.provider))):f.notify.alert(p("Failed to bind to third party accounts!@@001252"));case 14:case"end":return e.stop()}},e)}))()},loginWithThirdParty:function(){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.license,o=f.parseQuery(location.search),r={},f.store.set("account_user",null),window.Cookies&&Cookies.remove("X_USER_IDENTITY_TOKEN"),f.store.set("account_api_token",null),f.store.set("account_id_token",null),s.info=f.store.get("account_user"),s.apiToken=f.store.get("account_api_token"),s.identityToken=f.store.get("account_id_token"),r.unique_id=o.unique_id,r.provider=o.provider,r.registed_app=n.getRegisteredApp(),e.next=15,s.loginByPost(r);case 15:a=e.sent,i=a.ok,a.status,i?s.onAfterThirdPartyLogin():f.notify.alert(p("Failed to login with third party accounts!@@001253"));case 19:case"end":return e.stop()}},e)}))()},onAfterThirdPartyLogin:function(){var e,t=apower,n=t.route,o=(t.license,f.parseQuery(location.search));this.inMyAccountDomain?apower.app.isFromSoftware?"software"===apower.app.env?this.isBinded()?n.goto("/congrats-logined"+location.search):n.goto("/binding"+location.search):n.isInSoftware?apower.app.returnToSoftware("third-party-login-from-software"):apower.app.returnToSoftware("third-party-login-from-web"):this.isBinded()?n.goto("/"+location.search):n.goto("/binding"+location.search):(e=location.href.replace(/&?(?:unique_id|provider)=(?:[^&])+/g,""),history.replaceState(null,null,e),this.isBinded()||f.newComponent("binding",{query:o}).show())},onAfterBindingContact:function(){this.trigger("logincompleted")},willHandleAutoLogin:function(){var e=apower.route,t=f.parseQuery(location.search);return e?(t.identity_token||t.uid&&(t.ctoken||t.sylogin_hash))&&"/congrats-registered"!==e.path&&"/congrats-logined"!==e.path&&"/congrats-activated"!==e.path&&"/binding"!==e.path:t.identity_token||t.uid&&(t.ctoken||t.sylogin_hash)},handleAutoLogin:function(){var d=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s,c,p,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.route,o=f.parseQuery(location.search),r=o.identity_token,a=o.token,i=o.uid,s=o.ctoken,c=o.sylogin_hash,r=r||a,e.next=5,d.loginByPost({identity_token:r,uid:i,ctoken:s,sylogin_hash:c});case 5:p=e.sent,p.ok,p.status,n&&("/change-password"===n.path||"/background-remover-cdkey"===n.path)||(d.inMyAccountDomain?-1<location.pathname.indexOf("/token")?(u=(u=location.href.replace(/&?(?:identity_token|uid|ctoken|sylogin_hash)=(?:[^&])+/g,"")).replace(/\?$/,""),history.replaceState(null,null,u)):n.goto("/"):(l=(l=location.href.replace(/&?(?:identity_token|uid|ctoken|sylogin_hash)=(?:[^&])+/g,"")).replace(/\?&/,"?"),history.replaceState(null,null,l)));case 9:case"end":return e.stop()}},e)}))()},readBindings:function(){var i=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.getId(),e.next=3,i.req.get("/api/users/".concat(t,"/oauthbindings"),{headers:{Authorization:apower.user.getApiToken()}});case 3:return n=e.sent,o=n.ok,r=n.data,"200"==(a=n.status)&&(i.bindings=r.list),e.abrupt("return",{ok:o,status:a});case 9:case"end":return e.stop()}},e)}))()},getBinding:function(t){return this.bindings?this.bindings.find(function(e){return e.provider===t}):null},getBindingProviderName:function(e){return{qq:"QQ",weixin:"微信",weibo:"微博",dingtalk:"钉钉"}[e]||e.slice(0,1).toUpperCase()+e.slice(1)},bindThirdParty:function(i){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getId(),e.next=3,s.req.put("/api/users/".concat(t,"/oauthbindings"),i);case 3:return n=e.sent,o=n.ok,r=n.data,200==(a=n.status)&&console.log(r),e.abrupt("return",{ok:o,status:a});case 9:case"end":return e.stop()}},e)}))()},bindContact:function(i){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getId(),e.next=3,s.req.put("/api/users/".concat(t,"/contactinfo"),i);case 3:return n=e.sent,o=n.ok,r=n.data,a=n.status,o&&r&&s.set({user:r}),e.abrupt("return",{ok:o,status:a});case 9:case"end":return e.stop()}},e)}))()},changePassword:function(i){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getId(),e.next=3,s.req.put("/api/users/".concat(t,"/password"),i);case 3:return n=e.sent,o=n.ok,r=n.data,200==(a=n.status)&&s.set(r),e.abrupt("return",{ok:o,status:a});case 9:case"end":return e.stop()}},e)}))()},logout:function(){var p=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.route,o=p.getToken(),e.next=4,p.req.post("/api/logout");case 4:if(r=e.sent,a=r.ok,i=r.data,s=r.status,!a||200!=s){e.next=27;break}if(p.info=null,p.apiToken="",p.identityToken="",p.bindings=null,f.store.remove("account_user"),window.Cookies&&Cookies.remove("X_USER_IDENTITY_TOKEN"),f.store.remove("account_api_token"),f.store.remove("account_id_token"),f.store.remove("lightmvAccountInfo"),f.store.remove("lightmvVipInfo"),n&&n.clearAllCache(),n&&p.inMyAccountDomain&&n.goto("/login"),p.syncLogoutState)return e.next=24,p.syncLogoutState(o);e.next=24;break;case 24:p.trigger("logout"),e.next=28;break;case 27:f.notify.alert(i.message);case 28:try{(c=document.createEvent("Event")).initEvent("wx_user_logout",!0,!0),p.triggerEvent(c)}catch(e){console.log(e)}case 29:case"end":return e.stop()}},e)}))()},popupLoginWin:function(t){var n=this;return new Promise(function(e){f("[is=login]").length||f.newComponent("login",{onShow:function(){n.trigger("showLoginWin")},onHide:function(){n.trigger("hideLoginWin")}}).show(),apower.user.once("logined",function(){t&&t(),e()})})},loginByState:function(s){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state,n=s.language,o=s.oauth_token,r={type:17},o?r.oauth_token=o:r.state=t.replace(/[^a-zA-Z]+$/,""),e.next=7,c.req.post("/api/login",r);case 7:a=e.sent,a.ok,i=a.data,200==a.status&&(c.set(i),c.onLoginSuccessbyState(n));case 12:case"end":return e.stop()}},e)}))()},onLoginSuccessbyState:function(a){var i=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,n=t.user,o=t.license,t.route,i.trigger("logined"),apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"logined"}}),!apower.app||!apower.app.isFromSoftware){e.next=20;break}if("software"===apower.app.env)return e.next=7,o.update();e.next=15;break;case 7:n.info.identity_token=n.getToken(),InvokeApp("debug",{data:{info:"update-passport-info"}}),InvokeApp("update-passport-info",{data:{license_info:o.info?o.info:{},user_info:n.info?n.info:{}}}),InvokeApp("resize-window",{width:690,height:413}),i.loading=!1,i.goto("/account"),e.next=18;break;case 15:return i.loading=!1,e.next=18,apower.app.returnToSoftware("login");case 18:e.next=22;break;case 20:i.loading=!1,i.asWin?i.hide():(r="en"==a?location.origin+location.pathname+"/":location.origin+location.pathname+"/"+a+"/",location.href=r);case 22:case"end":return e.stop()}},e)}))()}},apower.user.init()}($),function(h){var u=apower.tr;apower.support={urls:null,recommended:null,loadURLs:function(){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.post("get-product-urls");case 2:t=e.sent,n=t.ok,o=t.data,n&&(r.urls=o.urls);case 6:case"end":return e.stop()}},e)}))()},post:h.req.overwrite(function(e,t){var n=apower,o=n.user,r=n.lang,a=n.license,i=apower.getSupportDomain()+"/api/account";return t.data=t.data||{},t.withCredentials=!0,"object"===_typeof(t.data)&&(t.data.action=e,t.data.language=r,a.productName&&(t.data.product_name=a.productName),o.identityToken?t.data.identity_token=o.identityToken:o.info&&o.info.identity_token&&(t.data.identity_token=o.info.identity_token)),{url:i,options:t}},function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.ok,r=t.data,a=r&&r.error_code?r.error_code:null,o=o&&r&&1==r.status,r=r&&r.data?r.data:r,-99==a)return e.next=7,apower.user.popupLoginWin();e.next=8;break;case 7:return e.abrupt("return",apower.support.post(n));case 8:return e.abrupt("return",{ok:o,data:r,status:a});case 9:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()).post,getFirstRecommendProduct:function(){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.recommended)return e.abrupt("return",a.recommended);e.next=2;break;case 2:return e.next=4,a.post("get-recommend-product");case 4:if(t=e.sent,n=t.ok,o=t.data,n)return(r=(r=o.recommend_product).filter(function(e){return!!e.product_name})).sort(function(e,t){return 1==t.topmost?1:-1}),e.abrupt("return",a.recommended=r[0]);e.next=14;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e)}))()}},h.registerComponent("header-account-entry","drop",{template:'\n\t\t<div class="drop header-account-entry" @click="onClick">\n\t\t\t<div class="header-account-entry-img-wrap" f-show="user.isLogined() || showportrait">\n                <img f-if="user.getAvatar()" :src="user.getAvatar()">\n                <span f-if="!user.getAvatar()" class=\'default-avatar\'></span>\n\t\t\t</div>\n      <span class="header-account-wrap-name">{{user.getId() ? user.getName() : \'\'}}</span>\n\t\t\t<div  f-hide="user.isLogined()"><icon type="user"></icon><span class="login">{Login@@001166}</span></div>\n\t\t\t<div class="drop-menu header-account-menu" :class="menuClass" ref="menu">\n\t\t\t\t<div class="ap-trangle"></div>\n\t\t\t\t<div class="header-account-nav">\n\t\t\t\t\t<div class="header-account-nav-top" f-show="user.isLogined()">\n            <div class="header-account-nav-avatar" f-if="user.getAvatar()"><img f-if="user.getAvatar()" :src="user.getAvatar()"></div>\n            <span f-if="!user.getAvatar()" class=\'default-avatar\'></span>\n\t\t\t\t\t\t<div class="header-account-nav-name">{{user.getName()}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="header-account-nav-button" f-show="user.isLogined() && !user.inMyAccountDomain" target="_blank" :href="getURL()">\n\t\t\t\t\t\t<icon type="user"></icon>\n\t\t\t\t\t\t{My account@@001167}\n          </a>\n\t\t\t\t\t<a class="header-account-nav-button" f-for="button of customButtons" :href="button.url" f-hide="!user.isLogined()">\n\t\t\t\t\t\t<icon :type="button.icon"></icon>\n\t\t\t\t\t\t{{button.text}}\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class="header-account-nav-button header-account-nav-exit" f-show="user.isLogined()" @click="user.logout">\n\t\t\t\t\t\t<icon type="exit"></icon>\n\t\t\t\t\t\t{Exit@@001168}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t',url:"/",customButtons:null,onCreated:function(){this.license=apower.license,this.user=apower.user,apower.user.syncLoginState=this.onLogined.bind(this),apower.user.syncLogoutState=this.onLogout.bind(this);var e,t,n=h.parseQuery(location.search),r=n.weixin_auto_login,o=n.code,a=(n.state,window.navigator.userAgent.toLowerCase());a&&0<a.indexOf("micromessenger")&&!o&&(e=encodeURIComponent("https://support.apowersoft.cn/api/account?action=weixin-oauth-jumper&callback=".concat(encodeURIComponent(this.getUrlWithoutAuto()))),window.location="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat("wx1d396e446d0ecf21","&redirect_uri=").concat(e,"&response_type=code&scope=snsapi_base&state=").concat("login","#wechat_redirect")),o&&h.ajax({url:"https://wechat.aoscdn.com/api/user/code/".concat(o),type:"GET",success:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.data){e.next=10;break}if((n=window.localStorage)?n.setItem("weixin_user_info",JSON.stringify(t.data.user)):function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toGMTString();document.cookie=e+"="+t+"; "+r}("weixin_user_info",JSON.stringify(t.data.user),3),r){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,apower.user.loginByPost({provider:"weixin",unique_id:t.data.user.unionid,open_id:t.data.user.openid,language:apower.lang,registed_app:"apowersoft"});case 7:o=e.sent,o.ok,o.status;case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),error:function(e){console.log(e)}})},getUrlWithoutAuto:function(){var e="https://".concat(location.host+location.pathname),t=h.parseQuery(location.search),n=[];t&&(n=Object.keys(t));var o="";if(n.length){o="?";for(var r=0;r<n.length;r++)o+="".concat(n[r],"=").concat(t[n[r]],"&");o=o.substring(0,o.length-1)}return e+o},onClick:function(){apower.user.isLogined()||h.newComponent("login").show()},willShowMenu:function(){return apower.user.isLogined()},getURL:function(){return h.env.isMobile?h.useQuery(apower.getMyAccountMobileDomain()+"/#/",{identity_token:apower.user.getToken(),lang:apower.lang}):h.useQuery(apower.getMyAccountDomain()+apower.getRegionPath()+"/",{identity_token:apower.user.getToken()})},onLogined:function(){},onLogout:function(){}}),h.registerComponent("account-win","win",{autoDestroy:!0,hideByDefault:!1,loading:!1,form:null,asWin:!0,query:{},messages:{__proto__:h.getComponent("form-fields").prototype.messages},validators:{__proto__:h.getComponent("form-fields").prototype.validators},emailMessages:{required:u("Please input email address@@001212")},passwordMessages:{required:u("Please input password@@001213")},showStatusError:function(e){var t=apower.user;e&&this.form.setError(e)||(-213==e?(h.msg.alert(u("Your last login is expired, please login again!@@001214")),t.logout(),this.goto("/login")):-227==e?"zh"==apower.lang?h.msg.alert("重置密码超过3次验证码错误，1天后再试"):h.msg.alert(u("Reset password more than 3 verification code errors, try again after 1 day")):h.notify.alert(u("An unknown error occurred@@001215")+" "+e))},isNotSupportPhoneNumberLogin:function(){return"zh"!==apower.lang||apower.app&&apower.app.isAceThinker},onCreated:function(){this.route&&(this.mask=!1,this.asWin=!1)},onReady:function(){this.el.on("click",this.onClick,this)},onClick:function(e){var t,n=h(e.target).closest("a");n.length&&"_blank"!==n.attr("target")&&(!(t=n.attr("href"))||/^https?:/.test(t)||t.startsWith("javascript:")||t.endsWith("#")||this.goto(t)&&e.preventDefault())},goto:function(e){var t=apower.route,n=e.select(/\/([\w-]+)/,1),o=h.hasComponent(n)?h.getComponent(n):null,r=o&&o.prototype instanceof h.getComponent("account-win");if(this.asWin&&r){this.destroy();var a=h.parseQuery(e);return h.newComponent(n,{query:a}).show(0),!0}return t.goto(e)}}),h.registerDirective("account-goto",{isLiteral:!0,value:"",bind:function(){this.el.on("click",this.onClick,this)},update:function(e){this.value=e},onClick:function(){var e,t,n,o;this.vm instanceof h.getComponent("account-win")?this.vm.goto(this.value):(e=this.value,apower.route,t=e.replace(/https?:\/\/.+?(?=\/)/,"").select(/^\/?([\w-]+)/,1),(n=h.hasComponent(t)?h.getComponent(t):null)&&n.prototype instanceof h.getComponent("account-win")&&(o=h.parseQuery(e),h.newComponent(t,{query:o}).show()))}}),h.registerDirective("account-logout",{bind:function(){this.el.on("click",this.onClick,this)},onClick:function(){apower.user.logout()}}),h.registerComponent("myfield","field",{validateWhen:"",borderThrough:!0}),h.registerComponent("myform","form-fields",{onlyValidateFirst:!0,autoComplete:!1}),h.registerComponent("login","account-win",{template:'\n        <div class="win account-win form">\n            <div class="login-switch" f-if="hasFollowLogin" :class.password-login="!isFollowLogin" @click="switchLoginMethod()">\n                <p class="tip">Login in other ways@@001942</p>\n                <div class="cover"></div>\n            </div>\n\t\t\t<div class="form-title">Login@@001166</div>\n\n\t\t\t<myform f-if="!isFollowLogin || !hasFollowLogin" @submit="submit" :messages="messages" :validators="validators" f-ref="form">\n                <myfield class="form-field"\n                    style="position:relative;"\n\t\t\t\t\t:messages="isNotSupportPhoneNumberLogin() ? emailMessages : emailOrPhoneNumberMessages"\n\t\t\t\t\t:rules="[\'required\', isNotSupportPhoneNumberLogin() ?\'email\' : \'emailOrPhoneNumber\', \'-200\']"\n\t\t\t\t>\n                    <input type="text"\n                        :placeholder="isNotSupportPhoneNumberLogin() ? \'Email@@001206\' : \'Email / Phone Number@@001200\' | trans"\n                        name="emailOrPhoneNumber"\n                        autocomplete="off"\n\t\t\t\t\t\tmaxlength="100"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tf-focus\n                    >\n                </myfield>\n                \x3c!-- fake fields are a workaround for chrome autofill getting the wrong fields --\x3e\n                <input style="display:none" type="text" name="emailOrPhoneNumber"/>\n\n\t\t\t\t<myfield class="form-field" :messages="passwordMessages" :rules="[\'required\', \'minlength\', \'-207\']">\n\t\t\t\t\t<input type="password" placeholder="{Password@@001201}" name="password" minlength="6" maxlength="30">\n                </myfield>\n                \n                <div f-if="!isFollowLogin || !hasFollowLogin" class="form-misc">\n                    <span class="form-goto form-forget-password" style="line-height: 14px;" @click="gotoResetPassport">Forgot Password@@001169</span>\n                    <span class="form-goto form-another-login" :class.gr="lang === \'el\'" style="line-height: 14px;" f-account-goto="/login-without-password">Password-less login@@001170</span>\n                </div>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Login@@001166}">\n\t\t\t\t</div>\n            </myform>\n            \n            <div f-if="hasFollowLogin && isFollowLogin" class="qrcode" f-loading="loadingQrCode">\n                <p class="title">微信扫码，关注公众号登录</p>\n                <img :src="qrcodeSrc" />\n            </div>\n\n\t\t\t<third-party f-if="!isFollowLogin || !hasFollowLogin" class="form-foot">\n\t\t\t\t<span class="form-goto form-switch" f-account-goto="/register">Register@@001171</span>\n            </third-party>\n            <div id="preloader"></div>\n\t\t</div>\n\t',componentName:"login",loading:!1,loadingQrCode:!1,isFollowLogin:!0,hasFollowLogin:!1,qrcodeSrc:null,qrcodeKey:null,lang:null,emailOrPhoneNumberMessages:{required:u("Please input an email address or phone number@@001216"),emailOrPhoneNumber:u("Please input a valid email address or phone number@@001217")},validators:{__proto__:h.getComponent("account-win").prototype.validators,emailOrPhoneNumber:function(){return this.isRuleValid("email")||this.isRuleValid("phone")}},hidePlaceholder:!1,isInSoftware:!1,switchLoginMethod:function(){this.isFollowLogin=!this.isFollowLogin,this.isFollowLogin?this.queryLoginState():apower.polling&&(clearInterval(apower.polling),apower.polling=null)},focusEmailOrPhoneNumber:function(){jQuery("#EmailOrPhoneNumber").focus()},getEmailOrPhoneNumber:function(){var e=this.query;return this.form.getFieldValue("emailOrPhoneNumber")||e.email||e.phone},onCreated:function(){var n=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.lang=apower.lang,(t=h.parseQuery(location.search))&&t.isFromRegister&&1==t.isFromRegister&&(apower.isFromRegister=!0),"zh"!==n.lang||apower.isFromRegister||apower.app&&apower.app.isAceThinker||h.env.isMobile||h.env.isMicroMessenger){e.next=8;break}return n.hasFollowLogin=!0,e.next=7,n.getQrCode();case 7:n.queryLoginState();case 8:apower.isFromRegister=!1,n.messages={__proto__:n.messages,"-200":function(){var e=n.form.getField("emailOrPhoneNumber"),t=e.getValue();return e.isRuleValid("email")?u("The email address doesn't have an associated user account. You can {0}Register Now{1}@@001377",'<a href="/register?email='.concat(t,'">'),"</a>"):u("The phone number doesn't have an associated user account. You can {0}Register Now{1}@@001378",'<a href="/register?phone='.concat(t,'">'),"</a>")},"-207":u("Incorrect account or password@@001220")},n.isInSoftware=apower.app&&"software"===apower.app.env,n.isInSoftware&&InvokeApp("get-passport-info",{},function(e){apower.user.brand=e.data.app_info.brand});case 12:case"end":return e.stop()}},e)}))()},onReady:function(){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(((t=c.query).email||t.phone)&&c.form.setFieldValue("emailOrPhoneNumber",t.email||t.phone),apower.user.getBrandId(),n=c.getUrlQuery("state")?c.getUrlQuery("state"):null,o=c.getUrlQuery("language")?c.getUrlQuery("language"):null,r=c.getUrlQuery("oauth_token")?c.getUrlQuery("oauth_token"):null,n)return a={type:17},r?a.oauth_token=r:a.state=n.replace(/[^a-zA-Z]+$/,""),e.next=11,apower.user.req.post("/api/login",a);e.next=16;break;case 11:i=e.sent,i.ok,s=i.data,200==i.status&&(apower.user.set(s),c.onLoginSuccessbyState(o));case 16:case"end":return e.stop()}},e)}))()},submit:function(c){var p=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,o=c.emailOrPhoneNumber,apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"Login Start"}}),delete c.emailOrPhoneNumber,c.brand_id=apower.user.getBrandId(),c.app_id=apower.user.getAppId(),c.language=apower.lang,p.form.getField("emailOrPhoneNumber").isRuleValid("email")?(c.email=o,c.type=4):(c.telephone=o,c.type=2),jQuery(".form-submit .loading").show(),p.loading=!0,apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{loginPostData:c}}),e.next=13,n.loginByPost(c);case 13:r=e.sent,a=r.ok,i=r.data,s=r.status,apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"login response",ok:a,status:s}}),"200"==s?(apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"login success"}}),p.onLoginSuccess()):(apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"login failed"}}),p.loading=!1,p.showStatusError(i.message));case 19:case"end":return e.stop()}},e)}))()},changeLoginMethod:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isFollowLogin=!1,apower.polling&&(clearInterval(apower.polling),apower.polling=null);case 2:case"end":return e.stop()}},e)}))()},getQrCode:function(){var o=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.loadingQrCode=!0,t={action:"login"},e.next=5,apower.user.req.get(h.useQuery("/api/qrcode",t));case 5:(n=e.sent)&&n.data&&(o.qrcodeSrc=n.data.url,o.qrcodeKey=n.data.key,h.digest()),o.loadingQrCode=!1;case 8:case"end":return e.stop()}},e)}))()},queryLoginState:function(){var n=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,o,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=apower,o=t.user,r=t.license,t.route,(a={}).qrcode_key=n.qrcodeKey,a.language=apower.lang,a.type=8,a.brand_id=apower.user.getBrandId(),a.app_id=apower.user.getAppId(),apower.polling&&(clearInterval(apower.polling),apower.polling=null),apower.app&&"software"===apower.app.env?InvokeApp("get-passport-info",{},function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.brand="apowersoft",a.registed_app=t.data.app_info.name,apower.polling=setInterval(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.req.get(h.useQuery("/api/sessions",a));case 2:if(t=e.sent,t.ok,n=t.data,t.status,n&&n.identity_token)return clearInterval(apower.polling),apower.polling=null,e.next=11,o.set(n);e.next=16;break;case 11:return e.next=13,r.update();case 13:o.info.identity_token=n.identity_token,InvokeApp("update-passport-info",{data:{license_info:r.info?r.info:{},user_info:o.info?o.info:{}}}),o.info.telephone||o.info.email?(InvokeApp("debug",{info:"goto account"}),apower.route.goto("/account"),InvokeApp("resize-window",{width:690,height:413})):(InvokeApp("debug",{info:"goto bind"}),apower.route.goto("/binding"));case 16:case"end":return e.stop()}},e)})).bind(this),2e3);case 3:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(n)):apower.polling=setInterval(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.req.post("/api/login",a);case 2:if(t=e.sent,t.ok,n=t.data,t.status,n&&n.identity_token)return clearInterval(apower.polling),apower.polling=null,e.next=11,o.set(n);e.next=19;break;case 11:if(apower.app&&apower.app.isFromSoftware)return e.next=14,apower.app.returnToSoftware("login");e.next=16;break;case 14:e.next=19;break;case 16:this.trigger("logined"),apower.app||this.trigger("logincompleted"),this.asWin?this.hide():this.goto("/");case 19:case"end":return e.stop()}},e,this)})).bind(n),2e3);case 10:case"end":return e.stop()}},e)}))()},onLoginSuccess:function(){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,n=t.user,o=t.license,t.route,r.trigger("logined"),apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"logined"}}),!apower.app||!apower.app.isFromSoftware){e.next=20;break}if("software"===apower.app.env)return e.next=7,o.update();e.next=15;break;case 7:n.info.identity_token=n.getToken(),InvokeApp("debug",{data:{info:"update-passport-info"}}),InvokeApp("update-passport-info",{data:{license_info:o.info?o.info:{},user_info:n.info?n.info:{}}}),InvokeApp("resize-window",{width:690,height:413}),r.loading=!1,r.goto("/account"),e.next=18;break;case 15:return r.loading=!1,e.next=18,apower.app.returnToSoftware("login");case 18:e.next=22;break;case 20:r.loading=!1,r.asWin?r.hide():r.goto("/");case 22:case"end":return e.stop()}},e)}))()},onLoginSuccessbyState:function(a){var i=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,n=t.user,o=t.license,t.route,i.trigger("logined"),apower.app&&"software"===apower.app.env&&InvokeApp("debug",{data:{info:"logined"}}),!apower.app||!apower.app.isFromSoftware){e.next=20;break}if("software"===apower.app.env)return e.next=7,o.update();e.next=15;break;case 7:n.info.identity_token=n.getToken(),InvokeApp("debug",{data:{info:"update-passport-info"}}),InvokeApp("update-passport-info",{data:{license_info:o.info?o.info:{},user_info:n.info?n.info:{}}}),InvokeApp("resize-window",{width:690,height:413}),i.loading=!1,i.goto("/account"),e.next=18;break;case 15:return i.loading=!1,e.next=18,apower.app.returnToSoftware("login");case 18:e.next=22;break;case 20:i.loading=!1,i.asWin?i.hide():(r="en"==a?location.origin+location.pathname+"/":location.origin+location.pathname+"/"+a+"/",location.href=r);case 22:case"end":return e.stop()}},e)}))()},gotoResetPassport:function(){var e={},t=this.form.getFieldValue("emailOrPhoneNumber");this.form.getField("emailOrPhoneNumber").isRuleValid("email")?e.email=t:this.form.getField("emailOrPhoneNumber").isRuleValid("phone")&&(e.phone=t),this.goto(h.useQuery("/reset-password",e))},getUrlQuery:function(e){var t=window.location.href.split("?"),n=[];if(t[1])for(var o=t[1].split("&"),r=0,a=o.length;r<a;r++){var i=o[r].split("=");n[i[0]]=i[1]}return n&&n[e]?n[e]:null}}),h.registerComponent("third-party",{template:'\n\t\t<div class="third-party">\n\t\t\t<div class="third-party-labels">\n\t\t\t\t<div class="third-party-labels-inner">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t\t{or@@001202}\n\t\t\t\t\t{Login in another way@@001203}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="third-party-logins" :style.width.px="loginsWidth" f-if="supportThirdPartyLogins">\n\t\t\t\t<a class="third-party-login" f-for="name of getLogins()" @click="gotoLogin(name)" :class="\'third-party-login-\' + name"></a>\n\t\t\t</div>\n\t\t</div>\n    ',polling:null,loginsWidth:150,supportThirdPartyLogins:!0,onCreated:function(){var e=this;apower.user.getBrandId();var t=apower.lang;h.env.isMobile&&(this.supportThirdPartyLogins=!1),h.nextTick(function(){e.loginsWidth="zh"===t?200:150})},getLogins:function(){return"zh"===apower.lang?["weixin","qq","weibo","dingtalk"]:["google","facebook","twitter"]},getLoginURL:function(s){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower.user.origin,n=s,location.origin||(location.origin=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")),o=apower.user.inMyAccountDomain?location.origin+apower.getRegionPath():location.href,r={action:"login"},apower.license&&apower.license.productId&&(r.product_id=apower.license.productId),apower.license&&apower.license.productName&&(r.product_name=apower.license.productName),apower.app&&apower.app.isFromSoftware&&(r.is_third_party_login_from_software=1),apower.route&&apower.route.returnUrl&&(r.return_url=apower.route.returnUrl),apower.app&&apower.app.isFromSoftware&&(r.from="software"),apower.app&&apower.app.isInSoftware()&&(r.is_in_software=1),a=h.useQuery(o,r),i="".concat(t,"/login/").concat(n,"?callback_frontend=").concat(encodeURIComponent(a),"&referer=frontend"),e.abrupt("return",i);case 14:case"end":return e.stop()}},e)}))()},gotoLogin:function(f){var g=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,o,r,n,a,i,s,c,p,u,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(apower.user.getBrandId(),"weixin"!==f||apower.app&&apower.app.isAceThinker){e.next=4;break}return g.parent&&"login"==g.parent.componentName&&g.parent.hasFollowLogin?(g.parent.isFollowLogin=!0,g.parent.queryLoginState()):apower.route.goto("/login"),e.abrupt("return",!1);case 4:if(t=apower,o=t.license,t.route,r=t.user,!apower.app||"software"!==apower.app.env||!apower.app.isFromSoftware){e.next=10;break}g.polling||(g.polling=setInterval(function(){InvokeApp("get-passport-info",{},function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.data&&t.data.license_info)){e.next=11;break}if(n=t.data.license_info,o.info=t.data.license_info,r.info=t.data.user_info,n.is_login)return clearInterval(this.polling),this.polling=null,e.next=9,o.update();e.next=11;break;case 9:InvokeApp("update-passport-info",{data:{license_info:o.info?o.info:{},user_info:r.info?r.info:{}}}),r.info.telephone||r.info.email?(InvokeApp("debug",{info:"goto account"}),InvokeApp("resize-window",{width:690,height:413}),apower.route.goto("/account")):(InvokeApp("debug",{info:"goto bind"}),apower.route.goto("/binding"));case 11:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(this))}.bind(g),500)),InvokeApp("open-file",{file:g.getLoginURL(f)}),e.next=26;break;case 10:return n=f,a=apower.lang,i=location.href.replace(location.search,""),s={is_native:1,brand_id:apower.user.getBrandId(),app_id:apower.user.getAppId(),jump_url:"".concat(i,"?language=").concat(a,"&action=login")},c={qq:5,weibo:6,weixin:7,dingtalk:9,google:10,facebook:11,twitter:12},s.account="twitter"==n?"v1":"default",p=c[f],u="",e.next=20,apower.user.req.get(h.useQuery("/api/login-url?type=".concat(p,"&provider=").concat(n),s));case 20:l=e.sent,l.ok,d=l.data,l.status,d&&d.url&&(u=d.url),window.location=u;case 26:case"end":return e.stop()}},e)}))()}}),h.registerComponent("login-without-password","account-win",{template:'\n        <div class="win account-win form login-without-password-win">\n            <div class="login-switch" f-if="hasFollowLogin" :class.password-login="!isFollowLogin" @click="passwordLogin()">\n                <p class="tip">Login in other ways@@001942</p>\n                <div class="cover"></div>\n            </div>\n\n\t\t\t<div class="form-title">Password-less login@@001170</div>\n\n\t\t\t<div class="login-ways" f-hide="isNotSupportPhoneNumberLogin()">\n\t\t\t\t<div class="login-way-phone" :class.active="way === \'phone\'" @click="way = \'phone\'"></div>\n\t\t\t\t<div class="login-way-email" :class.active="way === \'email\'" @click="way = \'email\'"></div>\n\t\t\t</div>\n\n\t\t\t<myform f-show="way === \'phone\'" @submit="submit" :messages="messages" :validators="validators" f-ref="phoneForm">\n\t\t\t\t<myfield class="form-field form-phone-field" f-ref="phoneNumberInput" :messages="phoneMessages" :rules="[\'required\', \'phone\', \'-211\']">\n\t\t\t\t\t<country-select f-model="countryCode"></country-select>\n\t\t\t\t\t<input type="text" class="login-contry-input" placeholder="{Phone number@@001204}" name="telephone" minlength="7" maxlength="14">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="phoneForm.getFieldValue(\'telephone\')" @click="send" f-if="!phoneTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{phoneTimeout}}s</div>\n\t\t\t\t</myfield>\n\n                <div class="form-misc">\n                    <span class="form-goto form-another-login" style="margin-left: auto;max-width: inherit;" @click="passwordLogin()">Password login@@001173</span>\n                </div>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Login@@001166}">\n\t\t\t\t</div>\n\t\t\t</myform>\n\n\t\t\t<myform f-show="way === \'email\'" @submit="submit" :messages="messages" :validators="validators" f-ref="emailForm">\n\t\t\t\t<myfield class="form-field" :messages="emailMessages" :rules="[\'required\', \'email\', \'-210\']">\n\t\t\t\t\t<input type="text" placeholder="{Email@@001206}" name="email" maxlength="100">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="emailForm.getFieldValue(\'email\')" @click="send" f-if="!emailTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{emailTimeout}}s</div>\n\t\t\t\t</myfield>\n\n                <div class="form-misc">\n                    <span class="form-goto form-another-login" style="margin-left: auto;max-width: inherit;" @click="passwordLogin()">Password login@@001173</span>\n                </div>\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Login@@001166}">\n\t\t\t\t</div>\n            </myform>\n            \n            <div class="account-win-privacy" :class.inline-privacy="inlinePrivacy" f-html="getPolicyText()"></div>\n\n\t\t\t<third-party class="form-foot">\n\t\t\t\t<span class="form-goto form-switch" f-account-goto="/register">Register@@001171</span>\n\t\t\t</third-party>\n\t\t</div>\n\t',phoneMessages:{required:u("Please input your phone number@@001221")},verificationCodeMessages:{required:u("Please input verification code@@001222"),verificationCodeLength:u("Invalid verification code@@001223")},way:"",timeout:0,emailTimeout:0,phoneTimeout:0,captchasScene:"login",preparingToSend:!1,type:"",inlinePrivacy:!1,hasFollowLogin:!1,isFollowLogin:!1,lang:null,isInSoftware:!1,getPolicyText:function(){var e=apower.getDomain();return this.isInSoftware?apower.tr("Registration means consent {0}Service agreement{1}, {2}Privacy{3} and {4}Cookies statement{5}@@001389","<a class=\"register-terms\" onclick=\"InvokeApp('open-file', {file: '".concat(apower.getDomain(),"/terms'})\">"),"</a>","<a class=\"register-privacy\" onclick=\"InvokeApp('open-file', {file: '".concat(apower.getDomain(),"/privacy'})\">"),"</a>","<a class=\"register-policy\" onclick=\"InvokeApp('open-file', {file: '".concat(apower.getDomain(),"/cookies-policy'})\">"),"</a>"):apower.tr("Registration means consent {0}Service agreement{1}, {2}Privacy{3} and {4}Cookies statement{5}@@001389",'<a target="_blank" href="'.concat(e,'/terms">'),"</a>",'<a target="_blank" href="'.concat(e,'/privacy">'),"</a>",'<a target="_blank" href="'.concat(e,'/cookies-policy">'),"</a>")},passwordLogin:function(){this.goto("/login")},onCreated:function(){this.way=this.isNotSupportPhoneNumberLogin()?"email":"phone",this.lang=apower.lang,this.isInSoftware=apower.app&&"software"===apower.app.env;h.parseQuery(location.search);"zh"!==this.lang||apower.app&&apower.app.isAceThinker||(this.hasFollowLogin=!0),this.inlinePrivacy=!1,("myaccount.apowersoft.com"!==window.location.hostname||apower.app&&apower.app.isInSoftware())&&(this.inlinePrivacy=!0),this.messages={__proto__:this.messages,"-206":u("Invalid verification code@@001223"),"-210":u("You can't send verification code to an email address more than 3 times each day@@001379"),"-211":u("You can't send verification code to a phone number more than 3 times each day@@001380")},this.validators={__proto__:this.validators,verificationCodeLength:function(e){return 4===e.trim().length}}},onReady:function(){var t=this,e=this.query;e.type&&(this.type=e.type),!e.phone&&"phone"!==this.type||(this.way="phone",this.phoneForm.setFieldValue("telephone",e.phone||"")),!e.email&&"email"!==this.type||(this.way="email",this.emailForm.setFieldValue("email",e.email||"")),this.watch("way",function(e){t.form="phone"===e?t.phoneForm:t.emailForm,h.nextTick(function(){t.form.el.find("input").eq(0).focus()})},!0)},send:function(){var s=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.preparingToSend=!0,s.form.setUnTouched(),e.next=4,s.checkEmailOrPhoneNumber();case 4:if(!e.sent){e.next=14;break}if(t="phone"===s.way?{telephone:s.phoneForm.getFieldValue("telephone"),country_code:s.countryCode,scene:s.captchasScene,brand_id:apower.user.getBrandId(),language:apower.lang}:{email:s.emailForm.getFieldValue("email"),scene:s.captchasScene,brand_id:apower.user.getBrandId(),language:apower.lang})return e.next=9,apower.user.req.post("/api/captcha",t);e.next=14;break;case 9:n=e.sent,o=n.ok,n.data,r=n.status,o?"phone"===s.way?(s.phoneTimeout=60,h.digest(),a=setInterval(function(){--s.phoneTimeout,0===s.phoneTimeout&&clearInterval(a),h.digest()},1e3)):(s.emailTimeout=60,h.digest(),i=setInterval(function(){--s.emailTimeout,0===s.emailTimeout&&clearInterval(i),h.digest()},1e3)):s.showStatusError(r);case 14:s.preparingToSend=!1;case 15:case"end":return e.stop()}},e)}))()},checkEmailOrPhoneNumber:function(){return"phone"===this.way?this.phoneForm.validateFields("telephone"):this.emailForm.validateFields("email")},submit:function(c){var p=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.license,o=t.user,c.brand_id=apower.user.getBrandId(),c.app_id=apower.user.getAppId(),c.language=apower.lang,"phone"===p.way?(c.country_code=p.countryCode,c.type=1):"email"===p.way&&(c.type=3),p.loading=!0,e.next=8,apower.user.loginByPost(c);case 8:if(r=e.sent,a=r.ok,i=r.data,s=r.status,apower.app&&"software"===apower.app.env&&a)return e.next=15,n.update();e.next=16;break;case 15:InvokeApp("update-passport-info",{data:{license_info:n.info?n.info:{},user_info:o.info?o.info:{}}});case 16:p.loading=!1,"200"==s?p.onLoginSuccess(i):p.showStatusError(s);case 18:case"end":return e.stop()}},e)}))()},onLoginSuccess:function(){var o=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,n=t.license,t.user,!apower.app||!apower.app.isFromSoftware){e.next=13;break}if("software"!==apower.app.env){e.next=7;break}InvokeApp("resize-window",{width:690,height:413}),o.goto("/account"),e.next=11;break;case 7:return e.next=9,n.update();case 9:return e.next=11,apower.app.returnToSoftware("login-without-password");case 11:e.next=14;break;case 13:o.asWin?o.hide():o.goto("/");case 14:case"end":return e.stop()}},e)}))()}}),h.registerComponent("country-select","inputable-select",{COUNTRY_CODE_BY_LANG:{zh:"+86"},onCreated:function(){this.data||this.getData(),this.value=this.COUNTRY_CODE_BY_LANG[apower.lang]||this.COUNTRY_CODE_BY_LANG.zh,this.trigger("change",this.value)},getData:function(){var o=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,apower.user.req.get("/api/country-codes");case 2:t=e.sent,t.ok,n=t.data,"200"==t.status&&(o.__proto__.data=n.list.map(function(e){var t=_slicedToArray(e.split(":"),2),n=t[0];return[n,t[1]+" "+n]}));case 7:case"end":return e.stop()}},e)}))()},onReady:function(){this.el.addClass("country-select")}}),h.registerComponent("register","login-without-password",{template:'\n\t\t<div class="win account-win form register">\n\t\t\t<div class="form-title">Register@@001171</div>\n\n\t\t\t<div class="login-ways" f-hide="isNotSupportPhoneNumberLogin()">\n\t\t\t\t<div class="login-way-phone" :class.active="way === \'phone\'" @click="way = \'phone\'"></div>\n\t\t\t\t<div class="login-way-email" :class.active="way === \'email\'" @click="way = \'email\'"></div>\n\t\t\t</div>\n\n\t\t\t<myform f-show="way === \'phone\'" @submit="submit" :messages="messages" :validators="validators" f-ref="phoneForm">\n\t\t\t\t<myfield class="form-field form-phone-field" :messages="phoneMessages" :rules="[\'required\', \'phone\', \'-208\', \'-211\']">\n\t\t\t\t\t<country-select f-model="countryCode"></country-select>\n\t\t\t\t\t<input type="text" class="login-contry-input" autocomplete="off" placeholder="{Phone number@@001204}" name="telephone" minlength="7" maxlength="14">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" autocomplete="off"  name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="phoneForm.getFieldValue(\'telephone\')" @click="send" f-if="!phoneTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{phoneTimeout}}s</div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="passwordMessages" :rules="[\'required\', \'minlength\']">\n\t\t\t\t\t<input :type="passwordShow ? \'text\' : \'password\'" autocomplete="off"  placeholder="{Password@@001201}" name="password" minlength="6" maxlength="30">\n\t\t\t\t\t<div :class.form-password-hide="!passwordShow" :class.form-password-show="passwordShow" @click="passwordShow = !passwordShow"></div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Register@@001171}">\n\t\t\t\t</div>\n\t\t\t</myform>\n\n\t\t\t<myform f-show="way === \'email\'" @submit="submit" :messages="messages" :validators="validators" f-ref="emailForm">\n\t\t\t\t<myfield class="form-field" :messages="emailMessages" :rules="[\'required\', \'email\', \'-208\', \'-210\']">\n\t\t\t\t\t<input type="text" placeholder="{Email@@001206}" autocomplete="off"  name="email" maxlength="100">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" autocomplete="off"  name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="emailForm.getFieldValue(\'email\')" @click="getCode" f-if="!emailTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{emailTimeout}}s</div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="passwordMessages" :rules="[\'required\', \'minlength\']">\n\t\t\t\t\t<input :type="passwordShow ? \'text\' : \'password\'" autocomplete="off"  placeholder="{Password@@001201}" name="password" minlength="6" maxlength="30">\n\t\t\t\t\t<div :class.form-password-hide="!passwordShow" :class.form-password-show="passwordShow" @click="passwordShow = !passwordShow"></div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Register@@001171}">\n\t\t\t\t</div>\n            </myform>\n            \n            <div class="account-win-privacy" :class.inline-privacy="inlinePrivacy" f-html="getPolicyText()"></div>\n\n\t\t\t<third-party class="form-foot">\n\t\t\t\t<span class="form-goto form-switch" f-account-goto="/login">Login@@001166</span>\t\t\t</third-party>\n\t\t</div>\n\t',captchasScene:"register",passwordShow:!1,inlinePrivacy:!1,isInSoftware:!1,onCreated:function(){var n=this;this.inlinePrivacy=!1,("myaccount.apowersoft.com"!==window.location.hostname||apower.app&&apower.app.isInSoftware())&&(this.inlinePrivacy=!0),this.messages={__proto__:this.messages,"-208":function(){if("phone"===n.way){var e=n.phoneForm.getFieldValue("telephone");return u("Phone is registered, please {0}Login{1}@@001226",'<a href="/login?phone='.concat(e,'&isFromRegister=1">'),"</a>")}var t=n.emailForm.getFieldValue("email");return u("Email address is registered, please {0}Login{1}@@001227",'<a href="/login?email='.concat(t,'&isFromRegister=1">'),"</a>")}},this.isInSoftware=apower.app&&"software"===apower.app.env,this.isInSoftware&&InvokeApp("get-passport-info",{},function(e){apower.user.brand=e.data.app_info.brand})},onReady:function(){},gotoLogin:function(){apower.isFromRegister=!0,apower.route.goto("/login")},getCode:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.checkEmailOrPhoneNumber();case 1:case"end":return e.stop()}},e)}))()},checkEmailOrPhoneNumber:function(){var p=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,p.preparingToSend=!0,e.next=4,h.getComponent("login-without-password").prototype.checkEmailOrPhoneNumber.call(p);case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:if(o="phone"===p.way?{telephone:p.phoneForm.getFieldValue("telephone"),country_code:p.countryCode,brand_id:apower.user.getBrandId(),scene:p.captchasScene,language:apower.lang}:{email:p.emailForm.getFieldValue("email"),brand_id:apower.user.getBrandId(),scene:p.captchasScene,language:apower.lang})return e.next=10,n.req.post(h.useQuery("/api/captcha",o));e.next=14;break;case 10:r=e.sent,a=r.ok,i=r.data,a?"phone"===p.way?(p.phoneTimeout=60,h.digest(),s=setInterval(function(){--p.phoneTimeout,0===p.phoneTimeout&&clearInterval(s),h.digest()},1e3)):(p.emailTimeout=60,h.digest(),c=setInterval(function(){--p.emailTimeout,0===p.emailTimeout&&clearInterval(c),h.digest()},1e3)):p.showStatusError(i.message);case 14:p.preparingToSend=!1;case 15:case"end":return e.stop()}},e)}))()},submit:function(s){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,o=t.license,s.brand_id=apower.user.getBrandId(),s.app_id=apower.user.getAppId(),s.language=apower.lang,"phone"===c.way?(s.country_code=c.countryCode,s.type=1):s.type=3,jQuery(".form-submit .loading").show(),c.loading=!0,e.next=9,apower.user.req.post("/api/register",s);case 9:if(r=e.sent,r.ok,a=r.data,i=r.status,c.loading=!1,200!=i){e.next=33;break}if(n.set(a),apower.app&&"software"===apower.app.env)return e.next=19,o.update();e.next=23;break;case 19:InvokeApp("update-passport-info",{data:{license_info:o.info?o.info:{},user_info:n.info?n.info:{}}}),InvokeApp("get-passport-info",{},function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:InvokeApp("debug",{data:{data:t,info:"get-passport-info"}}),t&&t.data&&(1===t.data.app_info.package_type?this.goto("/activate"):(InvokeApp("resize-window",{width:690,height:413}),this.goto("/account")));case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(c)),e.next=31;break;case 23:if(apower.app&&apower.app.isFromSoftware)return e.next=26,o.update();e.next=30;break;case 26:return e.next=28,apower.app.returnToSoftware("register");case 28:e.next=31;break;case 30:c.asWin?c.hide():c.goto("/");case 31:e.next=34;break;case 33:c.showStatusError(a.message);case 34:case"end":return e.stop()}},e)}))()}}),h.registerComponent("reset-password","register",{template:'\n\t\t<div class="win account-win form register reset-password">\n\t\t\t<div class="form-title">Reset password@@001174</div>\n\n\t\t\t<div class="login-ways" f-hide="isNotSupportPhoneNumberLogin()">\n\t\t\t\t<div class="login-way-phone" :class.active="way === \'phone\'" @click="way = \'phone\'"></div>\n\t\t\t\t<div class="login-way-email" :class.active="way === \'email\'" @click="way = \'email\'"></div>\n\t\t\t</div>\n\n\t\t\t<myform f-show="way === \'phone\'" @submit="submit" :messages="messages" :validators="validators" f-ref="phoneForm">\n\t\t\t\t<myfield class="form-field form-phone-field" :messages="phoneMessages" :rules="[\'required\', \'phone\', \'-208\', \'-200\', \'-211\']">\n\t\t\t\t\t<country-select f-model="countryCode"></country-select>\n\t\t\t\t\t<input type="text" class="login-contry-input" placeholder="{Phone number@@001204}" name="telephone" minlength="7" maxlength="14">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="phoneForm.getFieldValue(\'telephone\')" @click="send" f-if="!phoneTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{phoneTimeout}}s</div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="passwordMessages" :rules="[\'required\', \'minlength\']">\n\t\t\t\t\t<input :type="passwordShow ? \'text\' : \'password\'" placeholder="{Password@@001201}" name="password" minlength="6" maxlength="30">\n\t\t\t\t\t<div :class.form-password-hide="!passwordShow" :class.form-password-show="passwordShow" @click="passwordShow = !passwordShow"></div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Confirm@@001207}">\n\t\t\t\t</div>\n\t\t\t</myform>\n\n\t\t\t<myform f-show="way === \'email\'" @submit="submit" :messages="messages" :validators="validators" f-ref="emailForm">\n\t\t\t\t<myfield class="form-field" :messages="emailMessages" :rules="[\'required\', \'email\', \'-208\', \'-200\', \'-210\']">\n\t\t\t\t\t<input type="text" placeholder="{Email@@001206}" name="email" maxlength="100">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="emailForm.getFieldValue(\'email\')" @click="send" f-if="!emailTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{emailTimeout}}s</div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" :messages="passwordMessages" :rules="[\'required\', \'minlength\']">\n\t\t\t\t\t<input :type="passwordShow ? \'text\' : \'password\'" placeholder="{Password@@001201}" name="password" minlength="6" maxlength="30">\n\t\t\t\t\t<div :class.form-password-hide="!passwordShow" :class.form-password-show="passwordShow" @click="passwordShow = !passwordShow"></div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{Confirm@@001207}">\n\t\t\t\t</div>\n\t\t\t</myform>\n\n\t\t\t<div class="form-foot form-tip">\n\t\t\t\tYou can reset your password through a cell phone/mailbox@@001175\n\t\t\t</div>\n\t\t</div>\n\t',captchasScene:"resetpwd",onCreated:function(){var n=this;this.messages={__proto__:this.messages,"-200":function(){if("phone"===n.way){var e=n.phoneForm.getFieldValue("telephone");return u("The phone number doesn't have an associated user account. You can {0}Register Now{1}@@001378",'<a href="/register?phone='.concat(e,'">'),"</a>")}var t=n.emailForm.getFieldValue("email");return u("The email address doesn't have an associated user account. You can {0}Register Now{1}@@001377",'<a href="/register?email='.concat(t,'">'),"</a>")}}},onReady:function(){},checkEmailOrPhoneNumber:function(){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,e.next=3,h.getComponent("login-without-password").prototype.checkEmailOrPhoneNumber.call(c);case 3:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return(o="phone"===c.way?{telephone:c.phoneForm.getFieldValue("telephone"),country_code:c.countryCode}:{email:c.emailForm.getFieldValue("email")}).brand_id=apower.user.getBrandId(),o.app_id=apower.user.getAppId(),e.next=10,n.req.get(h.useQuery("/api/validation",o));case 10:return r=e.sent,a=r.ok,i=r.data,s=r.status,a&&1==i.status&&(a=!1,s="-200"),a||c.showStatusError(s),e.abrupt("return",a);case 17:case"end":return e.stop()}},e)}))()},submit:function(s){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,o=t.license,"phone"===c.way&&(s.country_code=c.countryCode),s.brand_id=apower.user.getBrandId(),s.app_id=apower.user.getAppId(),c.loading=!0,e.next=7,apower.user.req.put("/api/users/password",s);case 7:if(r=e.sent,r.ok,a=r.data,i=r.status,c.loading=!1,"200"!=i){e.next=36;break}if(n.set(a),!c.asWin){e.next=18;break}c.hide(),e.next=34;break;case 18:if(apower.app&&"software"===apower.app.env)return e.next=21,o.update();e.next=26;break;case 21:InvokeApp("update-passport-info",{data:{license_info:o.info?o.info:{},user_info:n.info?n.info:{}}}),InvokeApp("resize-window",{width:690,height:413}),c.goto("/account"),e.next=34;break;case 26:if(apower.app&&apower.app.isFromSoftware)return e.next=29,o.update();e.next=33;break;case 29:return e.next=31,apower.app.returnToSoftware("reset-password");case 31:e.next=34;break;case 33:c.goto("/login");case 34:e.next=37;break;case 36:c.showStatusError(i);case 37:case"end":return e.stop()}},e)}))()}}),h.registerComponent("binding","register",{template:'\n\t\t<div class="win account-win form">\n\t\t\t<div class="form-title">Binding@@001176</div>\n\n\t\t\t<div class="login-ways" f-hide="isNotSupportPhoneNumberLogin() || type">\n\t\t\t\t<div class="login-way-phone" :class.active="way === \'phone\'" @click="way = \'phone\'"></div>\n\t\t\t\t<div class="login-way-email" :class.active="way === \'email\'" @click="way = \'email\'"></div>\n\t\t\t</div>\n\n\t\t\t<myform f-show="way === \'phone\'" @submit="submit" :messages="messages" :validators="validators" f-ref="phoneForm">\n\t\t\t\t<myfield class="form-field form-phone-field" :messages="phoneMessages" :rules="[\'required\', \'phone\', \'-211\', \'-208\']">\n\t\t\t\t\t<country-select f-model="countryCode"></country-select>\n\t\t\t\t\t<input type="text" class="login-contry-input" f-focus placeholder="{Phone number@@001204}" name="telephone" minlength="7" maxlength="14">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" f-ref="phoneVerificationInput" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="phoneForm.getFieldValue(\'telephone\')" @click="send" f-if="!phoneTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{phoneTimeout}}s</div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{OK@@001410}">\n\t\t\t\t</div>\n\t\t\t</myform>\n\n\t\t\t<myform f-show="way === \'email\'" @submit="submit" :messages="messages" :validators="validators" f-ref="emailForm">\n\t\t\t\t<myfield class="form-field" :messages="emailMessages" :rules="[\'required\', \'email\', \'-210\', \'-208\']">\n\t\t\t\t\t<input type="text" placeholder="{Email@@001206}" name="email" maxlength="100">\n\t\t\t\t</myfield>\n\n\t\t\t\t<myfield class="form-field" f-ref="emailVerificationInput" :messages="verificationCodeMessages" :rules="[\'required\', \'verificationCodeLength\', \'-206\']">\n\t\t\t\t\t<input type="text" placeholder="{Verification Code@@001205}" name="captcha">\n\t\t\t\t\t<div class="form-send" :class.active="emailForm.getFieldValue(\'email\')" @click="send" f-if="!emailTimeout" f-disable="preparingToSend">Send@@001172</div>\n\t\t\t\t\t<div class="form-send-timeout" f-else>{{emailTimeout}}s</div>\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-submit" f-loading="loading">\n\t\t\t\t\t<input type="submit" value="{OK@@001410}">\n                </div>\n\t\t\t</myform>\n\n\t\t\t<div class="form-foot form-tip" f-if="way === \'phone\'">\n\t\t\t\tAfter binding, you can use your phone number to login or retrieve the password@@001178\n\t\t\t</div>\n\t\t\t<div class="form-foot form-tip" f-else>\n\t\t\t\tAfter binding, you can use your email to login or retrieve the password@@001179\n\t\t\t</div>\n\t\t</div>\n\t',captchasScene:"bind",canSkip:!0,isConfirmed:!1,onCreated:function(){var e=this;this.messages={__proto__:this.messages,"-204":function(){return"phone"===e.way?u('You\'ve binded to the phone number, click "Skip" below to continue@@001381'):u('You\'ve binded to the email address, click "Skip" below to continue@@001382')},"-205":function(){return"phone"===e.way?u('The phone number is binded to another account, you may choose another phone number, or click "Skip" below to continue@@001230'):u('The email address is binded to another account, you may choose another email, or click "Skip" below to continue@@001231')},"-208":function(){if("phone"===e.way){e.phoneForm.getFieldValue("telephone");return u("The phone number has been already registered, please use another valid number or {0}Login{1}.@@002030",'<a href="/login-without-password">',"</a>")}e.emailForm.getFieldValue("email");return u("The Email has been already registered, please use another valid Email or {0}Login{1}.@@002031",'<a href="/login-without-password">',"</a>")}}},onReady:function(){},submit:function(s){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,n=t.user,o=c.query,n.getId(),r=o.unique_id&&o.provider,"phone"===c.way&&(s.country_code=c.countryCode),r&&(s.unique_id=o.unique_id,s.provider=o.provider),c.loading=!0,e.next=9,n.bindContact(s);case 9:a=e.sent,a.ok,i=a.status,c.loading=!1,"200"==i?c.onBindSuccess():-206==i?"phone"===c.way?c.phoneVerificationInput.setErrorMessage(u("Invalid verification code@@001223")):c.emailVerificationInput.setErrorMessage(u("Invalid verification code@@001223")):c.showStatusError(data.messages);case 14:case"end":return e.stop()}},e)}))()},onBindSuccess:function(){var n=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=apower,t.license,apower.app&&apower.app.isFromSoftware?apower.app.isInSoftware()?(InvokeApp("resize-window",{width:690,height:413}),n.goto("/account")):n.goto("/congrats-logined"):n.asWin?(n.hide(),h.notify.success("phone"===n.way?u("Phone number binded!@@001232"):u("Email binded!@@001233"))):n.asWin?n.hide():n.goto("/"),apower.user.onAfterBindingContact();case 3:case"end":return e.stop()}},e)}))()},confirm:function(){apower.app&&apower.app.isFromSoftware?apower.app.isInSoftware()?(InvokeApp("resize-window",{width:690,height:413}),this.goto("/account")):this.goto("/congrats-logined"):this.asWin||this.asWin?this.hide():this.goto("/"),apower.user.onAfterBindingContact()},skip:function(){var n=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=apower,t.license,t.user,apower.user.info&&(apower.user.info.email||apower.user.info.telephone)?(apower.app&&apower.app.isFromSoftware?apower.app.isInSoftware()?(InvokeApp("resize-window",{width:690,height:413}),n.goto("/account")):n.goto("/congrats-logined"):n.asWin||n.asWin?n.hide():n.goto("/"),apower.user.onAfterBindingContact()):n.isConfirmed=!0;case 2:case"end":return e.stop()}},e)}))()}}),h.register("account",{template:'\n    <div class="win account-win account-license" f-loading="loading" :class.moveup="!isInSoftware">\n      <div class="account-license-main" f-if="!loading && !isShowmoreApp && !isBackgroundEraserApp && !isIosUnlockApp">\n        <div class="account-license-top">\n          <div class="account-license-vip" :class.active="license.isActivated()" @click="onClickBuy"\n            f-tip="license.isActivated() ? \'\' : \'Upgrade to VIP@@001184\' | trans"></div>\n          <div class="account-license-portrait" f-account-goto="/my-account">\n            <img f-if="avatar && !isGemsoft" :src="avatar || \'\'" />\n            <span f-if="!avatar || isGemsoft" class=\'default-avatar\'></span>\n          </div>\n          <div class="account-license-info">\n            <div class="account-license-title" f-if="user.isAnonymous()">\n              尚未 <span f-account-goto="/register">注册/登录</span>\n            </div>\n\t\t\t<div class="account-license-title" f-if="!user.isAnonymous() && showSubMenu">\n\t\t\t\t{{accountPre}}{{user.getName()}}\n            </div>\n            <div class="account-license-title" f-if="!showSubMenu">\n              <p style="text-align: center;">{{getName()}}</p>\n            </div>\n\n\n            <table class="account-license-license-info">\n              <tr>\n                <th>{Version@@001208}:</th>\n                <td colspan="2">\n                  {{license.getProductLicenseText()}}\n                  <span\n                    f-if="isGemsoft">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n                </td>\n              </tr>\n\n              <tr f-if="(!license.isActivated() && license.isHasNoTrial()) || license.isLifetime()">\n                <th>{License type@@001209}:</th>\n                <td>\n                  {{license.getPassportLicenseText()}}\n                  <span f-if="!license.isActivated() && license.isHasNoTrial()" @click="refresh"\n                    :class.refreshing="refreshing" class="refresh-status-btn"></span>\n                </td>\n              </tr>\n              <tr\n                f-if="(license.isActivated() || license.isExpired() || isActivated || !license.isHasNoTrial()) && !license.isLifetime() && !license.isTrial ()">\n                <th>{Valid until@@001210}:</th>\n                <td class="account-license-expire-date" :class.account-expired="license.isExpired()">\n                  {{getExpiredText()}}\n                </td>\n              </tr>\n              <tr>\n                <td f-if="license.isNearlyExpired() && !isGemsoft">\n                  <button class="account-license-buy" style="background-color: #24a31d; color: white;"\n                    :attr.type="license.isNearlyExpired()? \'active\' : \'\'"\n                    @click="onClickBuy"><span>Renew@@001185</span><span f-if="product_id !== 408">VIP</span></button>\n                </td>\n              </tr>\n              <tr f-if="!license.isActivated() && license.isHasNoTrial() && !isGemsoft">\n                <td>\n                  <button type="primary" style="background-color: #24a31d; color: white;" class="account-license-upgrade"\n                    @click="onClickBuy">Upgrade to VIP@@001184</button>\n                </td>\n                <td>\n                  <button type="primary" style="background-color: white; color: black;" class="account-license-activate"\n                    @click="activate"><span>Activate@@001182</span> VIP</button>\n                </td>\n              </tr>\n              <tr f-if="isGemsoft">\n                <td>\n                  <button type="primary" style="background-color: #24a31d; color: white; font-size:12px;"\n                    class="account-license-activate" @click="activate"><span>{{getActivateText()}}</span></button>\n                </td>\n                <td>\n                  <a style="font-size:12px;display:block;line-height: 34px;margin: 10px 0 4px 14px;" @click="onClickBuy"\n                    class="account-license-faq-link" target="_blank">{{getGemsoftStoreText()}}</a>\n                </td>\n              </tr>\n            </table>\n          </div>\n\t\t</div>\n\n\t\t<div class="account-license-support" f-if="!isGemsoft && !isEaseUS">\n\t\t  \t<a @click="gotoFindVip" f-if="!license.isActivated()" target="_blank">找回VIP@@002133</a>\n\t\t  \t<a @click="toChangePassword" class="last-child" target="_blank">Change Password@@001181</a>\n\t\t  \t<a @click="toMyAccount" target="_blank">My Account@@001167</a>\n\t\t  \t<a @click="logout" class="last-child" target="_blank">Log out@@001183</a>\n        </div>\n      </div>\n\n      \x3c!-- showmore start --\x3e\n      <div class="account-license-main" f-if="!loading && isShowmoreApp && showMoreUserInfo && showMoreAppLicense">\n        <div class="account-license-top">\n          <div class="account-license-vip" :class.active="showMoreAppLicense.vip_activated" @click="onClickBuy"\n            f-tip="showMoreAppLicense.vip_activated ? \'\' : \'Upgrade to VIP@@001184\' | trans"></div>\n          <div class="account-license-portrait" f-account-goto="/my-account">\n            <img f-if="showMoreUserInfo && showMoreUserInfo.avatar_url" :src="showMoreUserInfo.avatar_url || \'\'" />\n            <span f-if="!showMoreUserInfo || !showMoreUserInfo.avatar_url" class=\'default-avatar\'></span>\n          </div>\n          <div class="account-license-info">\n            <div class="account-license-title">\n              <drop class="account-license-name" align="br" event="click" :class.top="showTip">\n                {{showMoreUserInfo.nickname || showMoreUserInfo.email}}\n                <ul class="account-license-menu">\n                  <li class="account-license-account" @click="toMyAccount">My Account@@001167</li>\n                  <li class="account-license-lock" @click="toChangePassword">Change Password@@001181</li>\n                  <li class="account-license-key" f-if="!showMoreAppLicense.vip_activated" @click="activate">\n                    Activate@@001182</li>\n                  <li class="account-license-out" @click="logout">Log out@@001183</li>\n                </ul>\n              </drop>\n              <span class="account-license-logout-btn" @click="logout"></span>\n            </div>\n\n            <table class="account-license-license-info" f-if="showMoreUserInfo">\n              <tr>\n                <th>{License type@@001209}:</th>\n                <td>\n                  {{getPassportLicenseText()}}\n                  <span f-if="!showMoreAppLicense.vip_activated" @click="refresh" :class.refreshing="refreshing"\n                    class="refresh-status-btn"></span>\n                </td>\n              </tr>\n              <tr f-if="showMoreAppLicense.vip_activated">\n                <th>{Valid until@@001210}:</th>\n                <td class="account-license-expire-date">\n                  {{showMoreAppLicense.vip_expired_time}}\n                </td>\n              </tr>\n              <tr f-if="!showMoreAppLicense.vip_activated">\n                <td>\n                  <button type="primary" style="background-color: #24a31d; color: white;" class="account-license-upgrade"\n                    @click="onClickBuy">Upgrade to VIP@@001184</button>\n                </td>\n                <td>\n                  <button type="primary" style="background-color: white; color: black;" class="account-license-activate"\n                    @click="activate"><span>Activate@@001182</span> VIP</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n\n        <div class="account-license-support">\n          <a @click="gotoFaq" f-if="support.urls && support.urls.faq" class="account-license-faq-link"\n            target="_blank">FAQ@@001186</a>\n          <a @click="gotoForum" f-if="support.urls && support.urls.forum" class="account-license-forum-link"\n            target="_blank">Community@@001187</a>\n          <a @click="gotoFindVip" f-if="!license.isActivated()" class="account-license-find-link" target="_blank">找回VIP@@002133</a>\n        </div>\n      </div>\n      \x3c!-- showmore end --\x3e\n\n      \x3c!-- 抠图软件 start --\x3e\n      <div class="account-license-main"\n        f-if="!loading && isBackgroundEraserApp && backgroundEraserUserInfo && backgroundEraserAppLicense">\n        <div class="account-license-top">\n          <div class="account-license-vip" :class.active="backgroundEraserAppLicense.vip" @click="onClickBuy"\n            f-tip="backgroundEraserAppLicense.vip ? \'\' : \'Upgrade to VIP@@001184\' | trans"></div>\n          <div class="account-license-portrait" f-account-goto="/my-account">\n            <img f-if="avatar && !isGemsoft" :src="avatar || \'\'" />\n            <span f-if="!avatar || isGemsoft" class=\'default-avatar\'></span>\n          </div>\n          <div class="account-license-info">\n            <div class="account-license-title">\n\t\t\t\t{{backgroundEraserUserInfo.nickname || backgroundEraserUserInfo.email}}\n            </div>\n\n            <table class="account-license-license-info" f-if="backgroundEraserAppLicense">\n              <tr>\n                <th>{License type@@001209}:</th>\n                <td>\n                  {{getBackgroundEraserLicenseText()}}\n                </td>\n              </tr>\n              <tr>\n                <th>{Remaining times@@002558}:</th>\n                <td class="balance" f-if="!backgroundEraserAppLicense.balance || backgroundEraserAppLicense.balance == 0">\n                  {{backgroundEraserAppLicense.balance}}\n                  <buttons class="buy-btn" @click="onClickBuy">Buy now@@001188</button>\n                </td>\n                <td class="balance" f-if="backgroundEraserAppLicense.balance > 0">\n                  {{backgroundEraserAppLicense.balance}}\n                  <buttons class="buy-btn" @click="onClickBuy">增加次数@@002559</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n\n        <div class="account-license-support">\n            <a @click="gotoRedemption" target="_blank">Redemption code@@002564</a>\n\t\t\t<a @click="gotoFindVip" f-if="!license.isActivated()" target="_blank">找回VIP@@002133</a>\n\t\t\t<a @click="toChangePassword" target="_blank">Change Password@@001181</a>\n\t\t\t<a @click="toMyAccount" target="_blank">My Account@@001167</a>\n\t\t\t<a @click="logout" class="last-child" target="_blank">Log out@@001183</a>\n        </div>\n      </div>\n      \x3c!-- 抠图软件 end --\x3e\n\n      \x3c!-- ios解锁软件 start --\x3e\n      <div class="account-license-main"\n        f-if="!loading && isIosUnlockApp && iosUnlockAppLicense">\n        <div class="account-license-top">\n          <div class="account-license-vip" :class.active="iosUnlockAppLicense.residue_unlock_num" @click="onClickBuy"\n            f-tip="iosUnlockAppLicense.residue_unlock_num ? \'\' : \'Upgrade to VIP@@001184\' | trans"></div>\n          <div class="account-license-portrait" f-account-goto="/my-account">\n            <img f-if="avatar && !isGemsoft" :src="avatar || \'\'" />\n            <span f-if="!avatar || isGemsoft" class=\'default-avatar\'></span>\n          </div>\n          <div class="account-license-info">\n            <div class="account-license-title">\n\t\t\t\t{{accountPre}}{{user.getName()}}\n            </div>\n\n            <table class="account-license-license-info" f-if="iosUnlockAppLicense">\n              <tr>\n                <th>{Remaining times@@002558}:</th>\n                <td class="balance" f-if="!iosUnlockAppLicense.residue_unlock_num || iosUnlockAppLicense.residue_unlock_num == 0">\n                  {{iosUnlockAppLicense.residue_unlock_num}}\n                  <span @click="updateIosUnlockLicenseInfo" :class.refreshing="refreshing" class="refresh-status-btn"></span>\n                  <buttons class="buy-btn" @click="onClickBuy">Buy now@@001188</button>\n                </td>\n                <td class="balance" f-if="iosUnlockAppLicense.residue_unlock_num > 0">\n                  {{iosUnlockAppLicense.residue_unlock_num}}\n                  <span @click="updateIosUnlockLicenseInfo" :class.refreshing="refreshing" class="refresh-status-btn"></span>\n                  <buttons class="buy-btn" @click="onClickBuy">增加次数@@002559</button>\n                </td>\n                \n              </tr>\n              <tr f-if="iosUnlockAppLicense.expire_time">\n                <th>{Valid until@@001210}:</th>\n                <td>\n                  {{parseTime(iosUnlockAppLicense.expire_time)}}\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n\n        <div class="account-license-support">\n\t\t\t<a @click="gotoFindVip" f-if="!license.isActivated()" target="_blank">找回VIP@@002133</a>\n\t\t\t<a @click="toChangePassword" target="_blank">Change Password@@001181</a>\n\t\t\t<a @click="toMyAccount" target="_blank">My Account@@001167</a>\n\t\t\t<a @click="logout" class="last-child" target="_blank">Log out@@001183</a>\n        </div>\n      </div>\n      \x3c!-- ios解锁软件 end --\x3e\n\n      <div f-show="!loading" class="account-license-recommend" :href="recommended?.product_url">\n        <div class="account-license-recommend-icon"><img f-if="recommended && !isMairuan"\n            :src="recommended?.product_icon || \'\'"></div>\n        <div class="account-license-recommend-info" f-if="recommended && !isMairuan">\n          <header>{{recommended?.product_name}}</header>\n          <p>{{recommended?.introduction}}</p>\n        </div>\n        <div class="account-license-recommend-links" f-if="recommended && !isMairuan">\n          <a target="_blank" @click="gotoRecommended" class="learn-more">Learn more@@001189</a>\n        </div>\n      </div>\n    </div>\n    ',width:760,height:453,recommended:null,isInSoftware:!1,avatar:null,urlInfo:null,isGemsoft:!1,isMairuan:!1,isShowmoreApp:!1,isIosUnlockApp:!1,isEaseUS:!1,isBackgroundEraserApp:!1,backgroundEraserUserInfo:null,backgroundEraserAppLicense:null,iosUnlockUserInfo:null,iosUnlockAppLicense:null,app_info:null,refreshing:!1,faqLink:null,forumLink:null,accountPre:"",guid:null,lang:null,product_name:null,product_id:null,showMoreAppLicense:null,showMoreUserInfo:null,showSubMenu:!0,showmoreBaseUrl:null,backgroundEraserBaseUrl:null,iosUnlockBaseUrl:null,PASSPORT_LICENSE_TYPE_text:{trial:"Trial@@001243",daily:"Daily@@001244",monthly:"Monthly@@001527",quarterly:"Quarterly@@001245",yearly:"Yearly@@001246",lifetime:"Lifetime@@001247"},PASSPORT_LICENSE_TYPE_TEXT:{1:"Vip@@002374",2:"Plus@@002375",3:"Pro@@002376",4:"Premuim@@002377",0:"Trial@@001243"},onCreated:function(){var o=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.user=apower.user,o.support=apower.support,o.license=apower.license,o.isGemsoft=apower.app&&apower.app.isGemsoft,o.isInSoftware=apower.app&&"software"===apower.app.env,o.lang=apower.lang,(t=o).isInSoftware&&InvokeApp("get-passport-info",{},function(e){"aff-mairuan"===e.data.app_info.type&&(t.isMairuan=!0),t.faqLink=e.data.url_info.faq?e.data.url_info.faq:null,t.forumLink=e.data.url_info.forum?e.data.url_info.forum:null,t.guid=e.data.app_info.guid,t.product_name=e.data.app_info.name,t.product_id=e.data.app_info.id,0===t.product_name.toLowerCase().indexOf("gemsoft")&&(t.isGemsoft=!0),2==e.data.app_info.package_type&&(t.showSubMenu=!1),91!==t.product_id&&94!==t.product_id&&179!==t.product_id&&35!==t.product_id&&36!==t.product_id&&289!==t.product_id&&329!==t.product_id||(91===t.product_id||94===t.product_id||179===t.product_id?t.showmoreBaseUrl="https://api.showmore.com/api/user":t.showmoreBaseUrl="https://api.reccloud.com/api/user",t.isShowmoreApp=!0),361===t.product_id&&(t.backgroundEraserBaseUrl="http://apiaimage.aoscdn.com/api",t.isBackgroundEraserApp=!0),339!==t.product_id&&359!==t.product_id||(t.iosUnlockBaseUrl="zh"===t.lang?"https://support.apowersoft.cn":"https://support.apowersoft.com",InvokeApp("debug",{info:"ios解锁逻辑开始"}),t.isIosUnlockApp=!0),377!==t.product_id&&408!==t.product_id||(t.isEaseUS=!0),InvokeApp("debug",{info:"是否是easeUS"}),InvokeApp("debug",{info:t.isEaseUS})}),o.loading=!0,o.user.identityToken||o.user.info&&o.user.info.identity_token)return e.next=12,o.license.update();e.next=12;break;case 12:if(o.isInSoftware&&InvokeApp("get-passport-info",{},function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.data&&(apower.license.info=t.data.license_info,apower.user.info=t.data.user_info,t.data.app_info.name,t.data.app_info.id,this.urlInfo=t.data.url_info,apower.user.info.nickname||(apower.user.info.nickname=t.data.app_info.computer_name),this.isShowmoreApp?(n=t.data.user_info.identity_token,t.data.user_info.uid,this.loading=!0,h.post(this.showmoreBaseUrl,{identity_token:n,action:"do-login"},function(e){InvokeApp("update-app-passport-info",{data:e.data}),InvokeApp("get-passport-info",{},function(e){e&&e.data&&(this.showMoreUserInfo=e.data.user_info,this.urlInfo=e.data.url_info,this.showMoreUserInfo.nickname||(this.showMoreUserInfo.nickname=e.data.app_info.computer_name),this.showMoreAppLicense=e.data.app_vip_info,this.loading=!1)}.bind(this)),h.digest()}.bind(this))):this.isBackgroundEraserApp?(InvokeApp("debug",{info:"背景抠图逻辑开始"}),o=t.data.user_info.identity_token,t.data.user_info.uid,this.loading=!0,h.post("".concat(this.backgroundEraserBaseUrl,"/sessions"),{identity_token:o,app_type:t.data.app_info.type},function(e){InvokeApp("update-app-passport-info",{data:e.data}),h.get("".concat(this.backgroundEraserBaseUrl,"/my/recharge?api_token=").concat(e.data.user.api_token),function(e){this.backgroundEraserAppLicense=e.data.recharge,this.backgroundEraserUserInfo=e.data.recharge.userinfo,this.loading=!1,InvokeApp("debug",{info:this.backgroundEraserAppLicense}),h.digest()}.bind(this))}.bind(this))):this.isIosUnlockApp?this.updateIosUnlockLicenseInfo():this.loading=!1);case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(o)),o.avatar=apower.user.getAvatar(),o.recommended){e.next=18;break}return e.next=17,apower.support.getFirstRecommendProduct();case 17:o.recommended=e.sent;case 18:if(!(n=o.user.info&&o.user.info.identity_token)){e.next=42;break}e.t0=n[n.length-1],e.next="1"===e.t0||"2"===e.t0||"3"===e.t0||"4"===e.t0?23:"5"===e.t0?25:"6"===e.t0?27:"7"===e.t0?29:"8"===e.t0?31:"9"===e.t0?33:"a"===e.t0?35:"b"===e.t0?37:"c"===e.t0?39:41;break;case 23:return o.accountPre="",e.abrupt("break",42);case 25:return o.accountPre="QQ-",e.abrupt("break",42);case 27:return o.accountPre="Weibo-",e.abrupt("break",42);case 29:return o.accountPre="WeChat-",e.abrupt("break",42);case 31:return o.accountPre="WeChatS-",e.abrupt("break",42);case 33:return o.accountPre="DingTalk-",e.abrupt("break",42);case 35:return o.accountPre="Google-",e.abrupt("break",42);case 37:return o.accountPre="Facebook-",e.abrupt("break",42);case 39:return o.accountPre="Twitter",e.abrupt("break",42);case 41:o.accountPre="";case 42:return e.next=44,apower.support.loadURLs();case 44:o.loading=!1;case 45:case"end":return e.stop()}},e)}))()},updateIosUnlockLicenseInfo:function(){var c=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.refreshing=!0,t=apower.user.info.identity_token,n=apower.user.info.uid,o=apower.user.info.ctoken,r=+new Date,a="".concat(c.iosUnlockBaseUrl,"/api/client/index?type=6&identity_token=").concat(t,"&uid=").concat(n,"&ctoken=").concat(o,"&product_name=").concat(encodeURIComponent(c.product_name),"&product_id=").concat(c.product_id,"&action=").concat("get-vip-extend-info","&platform=").concat("web-account","&ts=").concat(r),e.next=10,h.req.get(a);case 10:i=e.sent,i.ok,s=i.data,InvokeApp("decrypt-data",s,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loading=!1,n=null;try{n=JSON.parse(t.data)}catch(e){}InvokeApp("debug",{info:n}),1===n.status?(this.iosUnlockAppLicense=n.data.license_info,InvokeApp("update-app-passport-info",{data:n.data.license_info})):this.licenseInput.setErrorMessage(this.getErrorMsg(n.data.error_code)),this.refreshing=!1;case 6:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(c));case 14:case"end":return e.stop()}},e)}))()},getName:function(){return this.isGemsoft?this.app_info.computer_name:this.user.getName()},gotoBuy:function(){apower.license;this.recommended&&this.recommended.buy_url&&(apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:this.recommended.buy_url}):window.location=this.recommended.buy_url)},gotoRecommended:function(){apower.license;this.recommended&&this.recommended.product_url&&(apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:this.recommended.product_url}):window.location=this.recommended.product_url)},gotoFaq:function(){apower.license;if(this.isMairuan&&this.faqLink)return InvokeApp("open-file",{file:this.faqLink}),!1;this.support.urls&&this.support.urls.faq&&(apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:this.support.urls.faq}):window.location=this.support.urls.faq)},parseTime:function(e){if(0<e){var t=new Date;t.setTime(1e3*e);var n=t.getFullYear(),o=(o=t.getMonth()+1)<10?"0"+o:o,r=(r=t.getDate())<10?"0"+r:r,a=(a=t.getHours())<10?"0"+a:a,i=(i=t.getMinutes())<10?"0"+i:i,s=(s=t.getSeconds())<10?"0"+s:s;return n+"-"+o+"-"+r}return""},gotoForum:function(){apower.license;if(this.isMairuan&&this.forumLink)return InvokeApp("open-file",{file:this.forumLink}),!1;this.support.urls&&this.support.urls.forum&&(apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:this.user.addTokenToURL(this.support.urls.forum)}):window.location=this.user.addTokenToURL(this.support.urls.forum))},gotoFindVip:function(){var e=apower.app&&apower.app.isAceThinker?this.user.addTokenToURL("https://acethinker.com/support/contact-us"):this.user.addTokenToURL(apower.getDomain(apower.lang)+"/support/retrieve-vip/");apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:e}):window.location=e},gotoRedemption:function(){var e=this.user.addTokenToURL(apower.getMyAccountDomain()+"/background-remover-cdkey");apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:e}):window.location=e},gotoGemsoftStore:function(){var e="jp"===this.lang?"https://www.gemsoft.jp/vpb/jp10":"https://www.gemsoft.jp/vpb/en10";InvokeApp("open-file",{file:e})},activate:function(){apower.license;apower.app&&"software"===apower.app.env&&InvokeApp("resize-window",{width:400,height:500}),this.route.goto("/activate")},toMyAccount:function(){var e,t=apower,n=t.user;t.license;apower.app&&"software"===apower.app.env?(e=h.useQuery(apower.getMyAccountDomain(),{lang:apower.lang}),InvokeApp("open-file",{file:n.addTokenToURL(e)})):this.route.goto("/")},toChangePassword:function(){var e=apower,t=e.user,n=(e.license,h.useQuery(apower.getMyAccountDomain(),{lang:apower.lang,init:"change-password"}));apower.app&&"software"===apower.app.env?InvokeApp("open-file",{file:t.addTokenToURL(n)}):window.location=apower.getMyAccountDomain()+"/change-password?lang="+apower.lang},getPassportLicenseText:function(){return u(this.PASSPORT_LICENSE_TYPE_TEXT[this.showMoreAppLicense.vip_type])},getBackgroundEraserLicenseText:function(){return u(this.PASSPORT_LICENSE_TYPE_TEXT[this.backgroundEraserAppLicense.vip])},refresh:function(){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=apower,t.user,n=t.license,a.refreshing=!0,e.next=4,a.support.post("get-user-license-info",{data:{product_name:a.product_name,guid:a.guid}});case 4:o=e.sent,o.ok,r=o.data,apower.app&&"software"===apower.app.env&&InvokeApp("update-passport-info",{data:{license_info:r.license_info?Object.assign(apower.license.info,r.license_info):apower.license.info,user_info:r.user_info?Object.assign(apower.user.info,r.user_info):apower.user.info}}),n.set(r.license_info),a.refreshing=!1;case 10:case"end":return e.stop()}},e)}))()},onClickBuy:function(){var e=apower,t=e.user,n=e.license,o=e.support,r=n.isActivated()||n.isExpired(),a=r?o.urls.renew:o.urls.order,a=apower.app&&"software"===apower.app.env?r?this.urlInfo.renew:this.urlInfo.order:r?o.urls.renew:o.urls.order;a=t.addTokenToURL(a),apower.app&&"software"===apower.app.env?(InvokeApp("open-file",{file:a}),InvokeApp("activate-vip",{})):window.open(a)},getExpiredText:function(){var e=apower.license,t=e.getExpiredDate();if(e.isExpired())return u("Expired@@001234");var n=e.getRemainingDays();return e.isNearlyExpired()?u("{0} days later@@001235").format(n):t.replace(/ .+/,"")},logout:function(){var e=apower,t=e.user;e.license;t.logout(),apower.app&&"software"===apower.app.env&&!this.isEaseUS?(InvokeApp("resize-window",{width:400,height:500}),InvokeApp("debug",{info:"go to login"}),this.route.goto("/login"),InvokeApp("update-passport-info",{data:{}})):apower.app&&"software"===apower.app.env&&this.isEaseUS?(InvokeApp("resize-window",{width:400,height:500}),InvokeApp("debug",{info:"go to activate"}),this.route.goto("/activate"),InvokeApp("update-passport-info",{data:{}})):(apower.app&&apower.app.isFromSoftware&&apower.app.returnToSoftware("logout"),this.route.goto("/login"))},getActivateText:function(){return"jp"===this.lang?"延長ライセンスのアクティベーション":"Activate Extention License"},getGemsoftStoreText:function(){return"jp"===this.lang?"延長ライセンスのご購入":"Purchase Extention License"}}),h.registerComponent("activate","account-win",{template:'\n\t\t<div class="win account-win form">\n\t\t\t<div class="form-title">Input activation code@@001427</div>\n\n\t\t\t<myform @submit="submit" :messages="messages" :validators="validators" f-ref="form" style="margin-top: 30px;">\n\t\t\t\t<myfield class="form-field" :messages="codeMessages" f-ref="licenseInput" :validators="codeValidators" :rules="[\'required\', \'pattern\', \'-1\']">\n\t\t\t\t\t<input type="text" name="license_code" placeholder="XXXXX-XXXXX-XXXXX-XXXXX">\n\t\t\t\t</myfield>\n\n\t\t\t\t<div class="form-desc">Input the activation code in the mail to activate the software.@@001191</div>\n\t\t\t\t<div class="form-desc" f-if="!showGemsoftText">\n\t\t\t\t\t{No activation code?@@001211}\n\t\t\t\t\t<a @click="gotoBuy" target="_blank">Buy now@@001188</a>\n                </div>\n                \n                <div class="form-desc" f-if="showGemsoftText">\n                    アクティベーションコードを持っていない ⇒ \t\t\n\t\t\t\t\t<a @click="gotoBuy" target="_blank">［今すぐ購入］</a>\n                </div>\n\n\t\t\t\t<div class="form-submit" f-loading="loading" style="margin-top: 40px;">\n\t\t\t\t\t<input type="submit" value="{OK@@001410}">\n\t\t\t\t</div>\n\t\t\t</myform>\n\t\t</div>\n\t',codeMessages:{required:u("Please input activation code@@001236"),pattern:u("Invalid activation code@@001237"),"-1":u("Invalid activation code@@001237"),"-2":u("Activations overrun@@001238"),"-3":u("The license has expired@@001239")},codeValidators:{pattern:function(e){return/^\w{5}-\w{5}-\w{5}-\w{5}$/.test(e.trim())}},polling:null,loading:!1,urlInfo:null,isGemsoft:!1,product_name:null,showGemsoftText:!1,onCreated:function(){this.user=apower.user,this.license=apower.license,this.support=apower.support,apower.support.urls||apower.support.loadURLs(),InvokeApp("get-passport-info",{},function(e){this.product_name=e.data.app_info.name,this.product_name&&0===this.product_name.toLowerCase().indexOf("gemsoft")&&(this.isGemsoft=!0,"jp"===apower.lang&&(this.showGemsoftText=!0))}.bind(this))},onReady:function(){},gotoBuy:function(){apower.app&&"software"===apower.app.env?InvokeApp("get-passport-info",{},function(e){e&&e.data&&(this.urlInfo=e.data.url_info),this.urlInfo&&InvokeApp("open-file",{file:this.urlInfo.order})}.bind(this)):this.support.urls&&this.support.urls.order&&window.open(this.support.urls.order)},getErrorMsg:function(e){return-1==e?u("Invalid activation code@@001237"):-2==e?u("Activations overrun@@001238"):-3==e?u("The license has expired@@001239"):u("An unknown error occurred@@001215")+" "+e},showError:function(e){-1==e?h.notify.alert(u("Invalid activation code@@001237")):-2==e?h.notify.alert(u("Activations overrun@@001238")):-3==e?h.notify.alert(u("The license has expired@@001239")):h.notify.alert(u("An unknown error occurred@@001215")+" "+e)},submit:function(){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,s,c,n,p,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,s=t.license,c=t.user,n=t.route,a.loading=!0,a.polling&&(clearInterval(a.polling),a.polling=null),jQuery(".form-submit .loading").show(),p=a.form.getFieldValue("license_code").toUpperCase(),!apower.app||"software"!==apower.app.env){e.next=9;break}n.isActivateWithoutLogin||a.isGemsoft?(InvokeApp("debug",{info:"未登录激活开始"}),InvokeApp("activate-key",{key:p,func:""},function(e){0===e.status&&"verifying"===e.message?this.polling=setInterval(function(){InvokeApp("get-activate-key",{key:p,func:""},function(e){var t=this;InvokeApp("debug",{data:{status:e.status}}),0!==e.status&&(h.nextTick(function(){t.loading=!1,clearInterval(t.polling),t.polling=null}),e.data&&e.data.activate_key_info&&1===e.data.activate_key_info.is_activated?(s.info=e.data.activate_key_info,InvokeApp("update-passport-info",{data:{license_info:s.info?s.info:{},user_info:c.info?c.info:{}}}),InvokeApp("resize-window",{width:400,height:500}),apower.route.goto("/congrats-activated")):this.licenseInput.setErrorMessage(u("Invalid activation code@@001237")))}.bind(this))}.bind(this),1e3):this.showStatusError()}.bind(a))):(InvokeApp("debug",{info:"登录激活开始"}),InvokeApp("get-passport-info",{},function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,o,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.app_info.guid,o=s.productName,r=s.productId,e.next=5,s.post("identity-client-login",{identity_token:c.getToken(),product_name:o,product_id:r,guid:n});case 5:return e.sent,a={guid:t.data.app_info.guid,product_name:t.data.app_info.name,ctoken:t.data.user_info.ctoken,license_code:p,uid:t.data.user_info.uid},e.next=9,s.post("activate-product",a);case 9:i=e.sent,InvokeApp("decrypt-data",i.data,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loading=!1,n=null;try{n=JSON.parse(t.data)}catch(e){}1===n.status?(s.info=n.data.license_info,c.info=n.data.user_info,this.onActivateSuccess()):this.licenseInput.setErrorMessage(this.getErrorMsg(n.data.error_code));case 4:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(this));case 11:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}().bind(a))),e.next=15;break;case 9:return o={guid:s.guid,product_name:s.productName,license_code:p},e.next=12,s.accountPost("activate-product",o);case 12:"success"===(r=e.sent).data.info?(s.info=r.data.license_info,c.info=r.data.user_info,apower.app.returnToSoftware("activate",r)):a.licenseInput.setErrorMessage(a.getErrorMsg(r.data.data.error_code)),a.loading=!1;case 15:case"end":return e.stop()}},e)}))()},onActivateSuccess:function(){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=apower,n=t.license,o=t.user,apower.app&&"software"===apower.app.env?(InvokeApp("update-passport-info",{data:{license_info:n.info?n.info:{},user_info:o.info?o.info:{}}}),n.isActivated()?(InvokeApp("resize-window",{width:400,height:500}),r.goto("/congrats-activated")):(InvokeApp("resize-window",{width:690,height:413}),r.goto("/account"))):r.goto("/congrats-activated");case 2:case"end":return e.stop()}},e)}))()}}),h.register("congrats-activated","account-win",{template:'\n\t\t<div class="win account-win congrats form">\n\t\t\t<div class="congrats-icon congrats-icon-vip" :class.easeus="isEaseUS"></div>\n\t\t\t<div class="congrats-title">Your software has been activated@@001192</div>\n\t\t\t<button type="primary" class="primary-button" @click="toMyAccount()" style="margin-top: 90px;">OK@@001410</button>\n\t\t</div>\n    ',isEaseUS:!1,onCreated:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,InvokeApp("get-passport-info",{},function(e){var t=e.data.app_info.id;377!==t&&408!==t||(n.isEaseUS=!0),console.log(n.isEaseUS),InvokeApp("debug",{info:"是否是easeUS"}),InvokeApp("debug",{info:n.isEaseUS})}),t.user=apower.user;case 3:case"end":return e.stop()}},e)}))()},toMyAccount:function(){apower.license;apower.app&&"software"===apower.app.env&&InvokeApp("resize-window",{width:690,height:413}),apower.route.goto("/account")}}),h.register("congrats-registered","account-win",{template:'\n        <div class="win account-win congrats form">\n\t\t\t<div class="congrats-icon congrats-icon-registered"></div>\n            <div class="congrats-title">You have completed the registration@@001196</div>\n\t\t\t<div>\n                <div class="congrats-desc">You can close the page and continue using software@@001429</div>\t\t\t\t\n                <button style="margin-top: 23px;" f-if="!isInSoftware" class="primary-button" @click="closePage">Close@@001198</button>\n                <button style="height: 18px;line-height: 16px;margin-top: 23px;background-color: transparent;color: #478afb;" class="primary-button" @click="goToMyAccount">Go to Account Center@@001424</button>\n            </div>\n\t\t</div>\n\t',isOldIEVersion:!1,isInSoftware:!1,isFromSoftware:!1,onCreated:function(){var e=apower.license;this.isOldIEVersion=e.isOldIEVersion(),this.isInSoftware=apower.app&&"software"===apower.app.env,this.isFromSoftware=apower.app&&apower.app.isFromSoftware},goToMyAccount:function(){apower.license;apower.app&&"software"===apower.app.env?(InvokeApp("resize-window",{width:690,height:413}),apower.route.goto("/account")):window.location=apower.getMyAccountDomain()+"?lang="+apower.lang},closePage:function(){h.env.isIE?(window.opener=null,window.open("","_self"),window.close()):window.location.href="about:blank"}}),h.register("congrats-logined","account-win",{template:'\n\t\t<div class="win account-win congrats form">\n\t\t\t<div class="congrats-icon congrats-icon-registered"></div>\n            <div class="congrats-title">You have completed the login!@@001428</div>\n\t\t\t<div>\n                <div class="congrats-desc">You can close the page and continue using software@@001429</div>\t\t\t\t\n                <button style="margin-top: 23px;" f-if="!isInSoftware" class="primary-button" @click="closePage">Close@@001198</button>\n                <button style="height: 18px;line-height: 16px;margin-top: 23px;background-color: transparent;color: #478afb;" class="primary-button" @click="goToMyAccount">Go to Account Center@@001424</button>\n            </div>\n\t\t</div>\n\t',isInSoftware:!1,onCreated:function(){apower.license;this.isInSoftware=apower.app&&"software"===apower.app.env},goToMyAccount:function(){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=apower,t.license,n=t.user,apower.user.inMyAccountDomain?(location.origin,apower.getRegionPath()):location.href,!apower.app||"software"!==apower.app.env){e.next=7;break}InvokeApp("resize-window",{width:690,height:413}),apower.route.goto("/account"),e.next=10;break;case 7:return e.next=9,n.handleAutoLogin();case 9:apower.route.goto("/");case 10:case"end":return e.stop()}},e)}))()},closePage:function(){h.env.isIE?(window.opener=null,window.open("","_self"),window.close()):window.location.href="about:blank"}}),h.getComponent("icon").extendSymbols({"menu-account":'\t\t<svg viewBox="0 0 17.1 18">\t\t\t<circle style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" cx="8.7" cy="6" r="5"/>\t\t\t<path style="stroke-width:2;stroke-linecap:round;" d="M1,17c0,0,0.8-5.5,5.4-6.4"/>\t\t\t<path style="stroke-width:2;stroke-linecap:round;" d="M13.4,12.1c0,0,2.3,1.1,2.7,4.9"/>\t\t\t<path style="stroke-linecap:round;stroke-linejoin:round;" d="M7.7,3.6c0,0-1.7,0.6-1.7,2.9"/>\t\t</svg>    ',"menu-token":'        <svg viewBox="0 0 27.2 28.24">            <defs>                <linearGradient id="transition-1" x1="1855.76" y1="420.04" x2="1863.47" y2="420.04" gradientUnits="userSpaceOnUse">                    <stop offset="0" stop-color="#ffb6de" />                    <stop offset="1" stop-color="#feb6de" />                </linearGradient>                <linearGradient id="transition-2" x1="0" y1="14.25" x2="23.4" y2="14.25" />            </defs>            <path style="fill: #e5f1fa;" d="M1855,413.79c-.21.19-.42.39-.64.56l-.07-.07C1854.56,414.12,1854.8,414,1855,413.79Z" transform="translate(-1837.84 -395.55)" />            <path style="fill: #ff6687;" d="M1861,399.29c-.24-.84-.26-3.73,1.28-3.74a1.23,1.23,0,0,1,1.13,1.25v.42h.42a1.23,1.23,0,0,1,1.25,1.13c0,1.54-2.91,1.53-3.74,1.28l-.28-.06Z" transform="translate(-1837.84 -395.55)" />            <path style="fill: url(#transition-1);" d="M1863,423.3a1.67,1.67,0,0,1-1.18.49,1.69,1.69,0,0,1-1.19-.49l-3.17-3.16-1.68-1.68a13.6,13.6,0,0,0,2.58-2.16l4.64,4.64A1.67,1.67,0,0,1,1863,423.3Z" transform="translate(-1837.84 -395.55)" />            <path style="fill: #ffe4f5;" class="cls-4" d="M1853.59,419.22a10.25,10.25,0,1,1-4-19.66,10.21,10.21,0,0,1,4,.83,10.25,10.25,0,0,0,0,18.82Z" transform="translate(-1837.84 -395.55)" />            <path style="fill: none;stroke-linecap: round;stroke-linejoin: round;stroke: #f15456;" d="M1858.11,416a9.33,9.33,0,0,1-13.19,0,7.46,7.46,0,0,1,0-10.55,6,6,0,0,1,8.44,0,4.78,4.78,0,0,1,0,6.75,3.82,3.82,0,0,1-5.4,0,3.06,3.06,0,0,1,0-4.32,2.45,2.45,0,0,1,3.46,0,2,2,0,0,1,0,2.77,1.57,1.57,0,0,1-2.21,0,1.25,1.25,0,0,1,0-1.77" transform="translate(-1837.84 -395.55)" />            <path style="fill: #e5f1fa;" d="M1857.77,401.74a11.52,11.52,0,0,1-.44,15.45,10.73,10.73,0,0,1-2,1.71,11.54,11.54,0,0,1-13.82-.87,11.54,11.54,0,0,0,15.14,2.19,10.73,10.73,0,0,0,2-1.71,11.53,11.53,0,0,0-.88-16.77Z" transform="translate(-1837.84 -395.55)" />            <path style="fill: #ffdee3;" d="M1843.24,403.76a8.74,8.74,0,0,0-1.56,3.14,8.58,8.58,0,0,0-.16,3.17c.05.37.13.71.21,1.06a8.08,8.08,0,0,0,3.8,4.7,9.35,9.35,0,0,0,2.24.71,7.24,7.24,0,0,0,3.88-.61,9.52,9.52,0,0,0,1-.58c.21-.16.4-.34.61-.5a6.28,6.28,0,0,0,1.37-2,7,7,0,0,0,.45-1.61,5.25,5.25,0,0,0-1.85-4.7,4.22,4.22,0,0,0-4.89-.4,4.35,4.35,0,0,0-.9.79,4.67,4.67,0,0,0-.4.61,3.74,3.74,0,0,0-.32,1.11,2.84,2.84,0,0,0,.26,1.48,2.37,2.37,0,0,0,1.24,1.14,1.6,1.6,0,0,0,1.66-.34.9.9,0,0,0,.24-.5,1.51,1.51,0,0,0-.05-.37c0-.08-.08-.18-.16-.21-.34-.13-.84-.11-.84-.63a1.07,1.07,0,0,1,.82-1l.4-.08a2.68,2.68,0,0,1,.87.18l.42.26a2.15,2.15,0,0,1,.61.77c.08.18.13.34.21.53a3,3,0,0,1-.61,2.67,4.5,4.5,0,0,1-1.08.92,4.11,4.11,0,0,1-4.22-.16,6.3,6.3,0,0,1-1.27-1.11,3.78,3.78,0,0,1-.34-.55,5.66,5.66,0,0,1,2.3-7.84,8.06,8.06,0,0,1,1.66-.66,6.84,6.84,0,0,1,2.64-.11,7,7,0,0,1,2.85,1.11,6.91,6.91,0,0,1,1.48,1.27,7.49,7.49,0,0,1,1.43,2.37,8.27,8.27,0,0,1-1.56,8.32c-.32.32-.58.63-.92.92a9.24,9.24,0,0,1-7.92,2,10.1,10.1,0,0,1-4.3-2.08l-.27-.21a10.08,10.08,0,1,0,14.07-14.42,9.36,9.36,0,0,0-13.06,1.43Zm0,0" transform="translate(-1837.84 -395.55)" />            <path style="fill: #ff6687;" d="M1842.5,417a10.11,10.11,0,0,0,4.3,2.08,9.26,9.26,0,0,0,7.92-2c.34-.29.61-.61.92-.92a8.07,8.07,0,0,0,1.08-1.56,8.28,8.28,0,0,0,.47-6.76,7.45,7.45,0,0,0-1.43-2.37,7.45,7.45,0,0,0-4.33-2.38,6.84,6.84,0,0,0-2.64.11,8.06,8.06,0,0,0-1.66.66,5.66,5.66,0,0,0-2.3,7.84,3.78,3.78,0,0,0,.34.55,6.31,6.31,0,0,0,1.27,1.11,4.12,4.12,0,0,0,4.22.16,4.51,4.51,0,0,0,1.08-.92,3,3,0,0,0,.61-2.67c-.08-.18-.13-.34-.21-.53a2.22,2.22,0,0,0-.61-.77l-.42-.26a2.51,2.51,0,0,0-.87-.18l-.4.08a1.08,1.08,0,0,0-.82,1c0,.53.5.5.84.63a.34.34,0,0,1,.16.21,1.51,1.51,0,0,1,.05.37.9.9,0,0,1-.24.5,1.59,1.59,0,0,1-1.66.34,2.36,2.36,0,0,1-1.24-1.14,2.87,2.87,0,0,1-.26-1.48,3.85,3.85,0,0,1,.32-1.11,4.69,4.69,0,0,1,.4-.61,4.27,4.27,0,0,1,.9-.79,4.22,4.22,0,0,1,4.89.4,5.26,5.26,0,0,1,1.85,4.7,7,7,0,0,1-.45,1.61,6.27,6.27,0,0,1-1.37,2c-.21.16-.4.34-.61.5a8.91,8.91,0,0,1-1,.58,7.24,7.24,0,0,1-3.88.61,9.3,9.3,0,0,1-2.24-.71,7.78,7.78,0,0,1-1.48-1.06,7.31,7.31,0,0,1-2.32-3.64c-.08-.34-.16-.69-.21-1.06a8.51,8.51,0,0,1,.16-3.17,8.74,8.74,0,0,1,1.56-3.14,9.38,9.38,0,0,1,13.07-1.43,10.08,10.08,0,0,0-14.07,14.41,2.09,2.09,0,0,0,.26.22Zm0,0" transform="translate(-1837.84 -395.55)" />            <circle style="stroke-width: 2px;stroke: url(#transition-2);" cx="11.7" cy="14.25" r="10.7" />        </svg>    ',"menu-info":'        <svg viewBox="0 0 20 16">            <path d="M1918,419.11h-8.38a2,2,0,0,1-2-2v-11a2,2,0,0,1,2-2H1918a2,2,0,0,0-2,2v11A2,2,0,0,0,1918,419.11Z" transform="translate(-1907 -404)" style="fill:#currentColor;opacity:0.1" />            <rect x="1" y="1" width="18" height="14" rx="2" ry="2" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <circle cx="6" cy="6" r="1.5" style="fill:none;stroke:#currentColor;stroke-miterlimit:10" />            <line x1="10.5" y1="4.5" x2="15.5" y2="4.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="10.5" y1="7.5" x2="15.5" y2="7.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="4.5" y1="10.5" x2="15.5" y2="10.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />        </svg>    ',"menu-ticket":'        <svg viewBox="0 0 16 19">            <path d="M1925,380h0a2,2,0,0,1,2,2v12a2,2,0,0,1-2,2h-10a2,2,0,0,1-2-2V382a2,2,0,0,1,2-2h0" transform="translate(-1912 -378)" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <path d="M1921,396h-6a2,2,0,0,1-2-2V382a2,2,0,0,1,2-2h6a2,2,0,0,0-2,2v12A2,2,0,0,0,1921,396Z" transform="translate(-1912 -378)" style="fill:#currentColor;opacity:0.1" />            <line x1="6" y1="1" x2="10" y2="1" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <line x1="4.5" y1="6.5" x2="5.5" y2="6.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="4.5" y1="9.5" x2="5.5" y2="9.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="4.5" y1="12.5" x2="5.5" y2="12.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="7.5" y1="6.5" x2="11.5" y2="6.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="7.5" y1="9.5" x2="11.5" y2="9.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="7.5" y1="12.5" x2="11.5" y2="12.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />        </svg>    ',"menu-invoice":'        <svg viewBox="0 0 20.3 13.98">            <path d="M2066.62,413a3.33,3.33,0,0,0,3.33,3.33V419h-18.3v-2.67a3.33,3.33,0,0,0,.42-6.58.5.5,0,0,1-.42-.48V407h18.3v2.66A3.33,3.33,0,0,0,2066.62,413Z" transform="translate(-2050.64 -406.01)" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <path d="M2060.75,413a3.33,3.33,0,0,1-3.1,3.32V419h-6v-2.67a3.33,3.33,0,0,0,.42-6.58.5.5,0,0,1-.42-.48V407h6v2.25a.5.5,0,0,0,.42.48A3.33,3.33,0,0,1,2060.75,413Z" transform="translate(-2050.64 -406.01)" style="fill:#currentColor;opacity:0.1" />            <polyline points="8.38 4.15 10.04 6.5 11.92 4.15" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="10.04" y1="6.5" x2="10.04" y2="9.83" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="8.38" y1="6.5" x2="11.71" y2="6.5" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="8.38" y1="8.17" x2="11.71" y2="8.17" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />        </svg>    ',"menu-password":'        <svg viewBox="0 0 20.12 19.85">            <circle cx="8" cy="8" r="7" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <path d="M1963.5,392.27a7,7,0,1,1,0-12.62,7,7,0,0,0,0,12.62Z" transform="translate(-1952.47 -377.96)" style="fill:#currentColor;opacity:0.1" />            <path d="M1956.68,385.19a3.22,3.22,0,0,1,2.59-2.68" transform="translate(-1952.47 -377.96)" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />            <line x1="18.49" y1="18.85" x2="12.87" y2="13.22" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <line x1="17.13" y1="17.15" x2="19.12" y2="15.15" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <line x1="15.1" y1="15.12" x2="16.34" y2="13.87" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />        </svg>    ',"menu-settings":'        <svg viewBox="0 0 21.36 21">            <path d="M1931.83,450a2.37,2.37,0,0,1-1.7-.64,2.39,2.39,0,0,0-3.25,0,2.35,2.35,0,0,1-1.6.64,2.39,2.39,0,0,1-2.4-2.56c0-.06,0-.11,0-.17a2.39,2.39,0,0,0-2-2.37,2.38,2.38,0,0,1-2-2.38,2.35,2.35,0,0,1,1-2,2.37,2.37,0,0,0,1-2,2.44,2.44,0,0,0-.31-1.19,2.34,2.34,0,0,1-.32-1.2,2.39,2.39,0,0,1,3.09-2.28,2.29,2.29,0,0,0,.7.1,2.39,2.39,0,0,0,2.22-1.51,2.39,2.39,0,0,1,4.45,0,2.4,2.4,0,0,0,1.1,1.23,2.37,2.37,0,0,1-1.82.18,2.39,2.39,0,0,0-3.09,2.28,2.34,2.34,0,0,0,.32,1.2,2.44,2.44,0,0,1,.31,1.19,2.37,2.37,0,0,1-1,2,2.35,2.35,0,0,0-1,2,2.38,2.38,0,0,0,2,2.38,2.39,2.39,0,0,1,2,2.37c0,.06,0,.11,0,.17A2.39,2.39,0,0,0,1931.83,450Z" transform="translate(-1917.82 -430.03)" style="fill:#currentColor;opacity:0.1" />            <path d="M1930.72,432.54h0a2.39,2.39,0,0,0,2.92,1.41h0a2.39,2.39,0,0,1,2.77,3.48h0a2.39,2.39,0,0,0,.72,3.16h0a2.39,2.39,0,0,1-1,4.33h0a2.39,2.39,0,0,0-2,2.54h0a2.39,2.39,0,0,1-4,1.93h0a2.39,2.39,0,0,0-3.24,0h0a2.39,2.39,0,0,1-4-1.93h0a2.39,2.39,0,0,0-2-2.54h0a2.39,2.39,0,0,1-1-4.33h0a2.39,2.39,0,0,0,.72-3.16h0a2.39,2.39,0,0,1,2.77-3.48h0a2.39,2.39,0,0,0,2.92-1.41h0A2.39,2.39,0,0,1,1930.72,432.54Z" transform="translate(-1917.82 -430.03)" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px" />            <circle cx="10.68" cy="10.5" r="2.28" style="fill:none;stroke:#currentColor;stroke-linecap:round;stroke-linejoin:round" />        </svg>    ',user:'\t\t<svg viewBox="0 0 17.1 18">\t\t\t<circle style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" cx="8.7" cy="6" r="5"/>\t\t\t<path style="stroke-width:2;stroke-linecap:round;" d="M1,17c0,0,0.8-5.5,5.4-6.4"/>\t\t\t<path style="stroke-width:2;stroke-linecap:round;" d="M13.4,12.1c0,0,2.3,1.1,2.7,4.9"/>\t\t\t<path style="stroke-linecap:round;stroke-linejoin:round;" d="M7.7,3.6c0,0-1.7,0.6-1.7,2.9"/>\t\t</svg>    ',exit:'\t\t<svg viewBox="0 0 16 17">\t\t\t<path style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" d="M11,16H3c-1.1,0-2-0.9-2-1.9V2.9C1,1.9,1.9,1,3,1h8"/>\t\t\t<line style="stroke-linecap:round;stroke-linejoin:round;" x1="5.5" y1="8.5" x2="15.5" y2="8.5"/>\t\t\t<line style="stroke-linecap:round;stroke-linejoin:round;" x1="12.5" y1="5.5" x2="15.5" y2="8.5"/>\t\t\t<line style="stroke-linecap:round;stroke-linejoin:round;" x1="12.5" y1="11.5" x2="15.5" y2="8.5"/>\t\t</svg>\t',videos:'\t\t<svg viewBox="0 0 18 14">\t\t\t<path style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" d="M15,4.7l2-0.8v7.2L12,9v2c0,1.1-0.9,2-2,2H3c-1.1,0-2-0.9-2-2V3c0-1.1,0.9-2,2-2h7c1.1,0,2,0.9,2,2v2"/>\t\t\t<line style="stroke-linecap:round;stroke-linejoin:round;" x1="4.5" y1="8.5" x2="4.5" y2="4.5"/>\t\t</svg>\t',photos:'\t\t<svg viewBox="0 0 18 15">\t\t\t<circle style="fill:currentColor;stroke:none;" cx="5.5" cy="5.5" r="1.5"/>\t\t\t<path style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" d="M17,8.1V12c0,1.1-0.9,2-2,2H3c-1.1,0-2-0.9-2-2V3c0-1.1,0.9-2,2-2h12c1.1,0,2,0.9,2,2"/>\t\t\t<path style="stroke-linecap:round;stroke-linejoin:round;" d="M10.4,13.9H7.1L1.5,14c0-0.2,1.3-2.2,2.5-3.7c0.8-1,2.3-1.1,3.1-0.1l1.2,1.4L10.4,13.9z"/>\t\t\t<path style="stroke-linecap:round;stroke-linejoin:round;" d="M16,13.9L7.1,14c0,0,0,0,0-0.1h3.3l-2.1-2.4c0.6-1.2,1.4-2.6,2.1-3.8c0.6-1.1,2.1-1,2.7,0.1L16,13.9z"/>\t\t</svg>\t',file:'\t\t<svg viewBox="0 0 24.4 22.7">\t\t\t<style type="text/css">\t\t\t\t.st0{stroke-width:1.2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\t\t\t</style>\t\t\t<path id="XMLID_28_" class="st0" d="M1.8,6.4v-2C1.8,3.6,2.3,3,3,3l0,0h9.2c0,0,1.2-2.4,2.4-2.4h6.9c0.6,0,1,0.6,1,1.4v6.2"/>\t\t\t<path id="XMLID_30_" class="st0" d="M22.6,8.6H12.1c0,0-1.2-2.2-2.4-2.2h-8c-0.6,0-1.1,0.5-1.1,1.1L1.7,21c0,0.6,0.5,1.1,1.2,1.1h18.6c0.7,0,1.2-0.5,1.2-1.1l1.1-11.2C23.8,9.2,23.2,8.6,22.6,8.6z"/>\t\t</svg>    ',freeorder:'        <svg viewBox="0 0 31 27">            <style type="text/css">                .st0{clip-path:url(#SVGID_2_);fill:#ACD362;}                .st1{clip-path:url(#SVGID_2_);fill:#FFFFFF;}                .st2{clip-path:url(#SVGID_2_);fill:none;stroke:#CBEA86;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;}            </style>            <g>                <defs>                    <rect id="SVGID_1_" x="0" y="0" width="31" height="26.7"/>                </defs>                <clipPath id="SVGID_2_">                    <use xlink:href="#SVGID_1_"  style="overflow:visible;"/>                </clipPath>                <path class="st0" d="M29.5,13.1L12.6,4.6c-0.5-0.2-1-0.3-1.5-0.3c-0.3,0-0.5,0-0.8,0.1L3.8,6.7c-0.5,0.2-1,0.6-1.3,1.1,C2.2,8.2,2.1,8.8,2.2,9.4c0,0.1,0.1,0.2,0.1,0.3l2.2,6.7c0.1,0.3,0.3,0.7,0.6,0.9c0.2,0.3,0.5,0.5,0.9,0.7l16.9,8.5,c1.3,0.7,2.9,0.1,3.6-1.2l4.3-8.6c0.3-0.5,0.3-1.1,0.2-1.7C30.8,14.2,30.3,13.5,29.5,13.1"/>                <path class="st1" d="M9.3,10.2c0.1,0.4,0,0.9-0.2,1.3c-0.5,1-1.7,1.4-2.7,0.9c-0.6-0.3-1-0.8-1.1-1.5c-0.1-0.4,0-0.9,0.2-1.3,c0.2-0.5,0.7-0.8,1.2-1c0.5-0.2,1.1-0.1,1.5,0.1c0.5,0.3,0.9,0.7,1,1.3C9.2,10.1,9.3,10.2,9.3,10.2"/>                <path class="st2" d="M5.5,9.7c0,0-3.5-1.6-4.2-3.5C0.3,3.8,2.1-0.4,7.7,1.4c1.9,0.6,7.9,4.7,9.5,2.1"/>                <path class="st1" d="M12,9.5c0.1-0.3,0.5-0.4,0.7-0.2l3.2,1.6c0.2,0.1,0.3,0.4,0.2,0.7c-0.1,0.2-0.4,0.3-0.7,0.2l-2.7-1.3L12,11.8,l2.4,1.2c0.2,0.1,0.3,0.4,0.2,0.7c-0.1,0.2-0.4,0.3-0.7,0.2l-2.4-1.2l-0.9,1.8c-0.1,0.3-0.4,0.4-0.7,0.2c-0.3-0.1-0.4-0.5-0.3-0.7,L12,9.5z"/>                <path class="st1" d="M16.3,13.3c0.1-0.3,0.4-0.4,0.7-0.2c0.3,0.1,0.4,0.4,0.2,0.7l-0.2,0.4c0.5-0.4,1.1-0.6,1.5-0.4,c0.3,0.1,0.4,0.4,0.2,0.7c-0.1,0.3-0.4,0.3-0.6,0.3c-0.7-0.2-1.4,0.1-1.9,1.1L15.7,17c-0.1,0.3-0.4,0.4-0.7,0.2,c-0.3-0.1-0.4-0.4-0.2-0.7L16.3,13.3z"/>                <path class="st1" d="M19.5,19.5c-1.2-0.6-1.7-1.9-1.1-3.2l0,0c0.6-1.2,1.9-1.7,3.1-1.2c1.3,0.6,1.4,2,1,3c-0.1,0.3-0.4,0.4-0.7,0.2,l-2.6-1.3c-0.2,0.7,0.1,1.3,0.7,1.6c0.4,0.2,0.8,0.2,1.2,0.1c0.1,0,0.2,0,0.3,0c0.2,0.1,0.3,0.4,0.2,0.6c-0.1,0.1-0.2,0.2-0.3,0.2,C20.7,19.9,20.1,19.8,19.5,19.5 M21.6,17.5c0.2-0.6,0.1-1.3-0.5-1.6c-0.6-0.3-1.2,0-1.6,0.6L21.6,17.5z"/>                <path class="st1" d="M24.2,21.8c-1.2-0.6-1.7-1.9-1.1-3.2l0,0c0.6-1.2,1.9-1.7,3.1-1.2c1.3,0.6,1.4,2,1,3c-0.1,0.3-0.4,0.4-0.7,0.2,l-2.6-1.3c-0.2,0.7,0.1,1.3,0.7,1.6c0.4,0.2,0.8,0.2,1.2,0.1c0.1,0,0.2,0,0.3,0c0.2,0.1,0.3,0.4,0.2,0.6c-0.1,0.1-0.2,0.2-0.3,0.2,C25.4,22.2,24.8,22.2,24.2,21.8 M26.3,19.9c0.2-0.6,0.1-1.3-0.5-1.6c-0.6-0.3-1.2,0-1.6,0.6L26.3,19.9z"/>                <path class="st1" d="M25,24.3c0-0.3-0.3-0.5-0.6-0.3l-0.2,0.4c0,0.1-0.2,0.1-0.2,0.1l-3.4-1.7c-0.1,0-0.1,0-0.2,0,c-0.1,0-0.2,0.2-0.2,0.3c0,0.1,0.1,0.2,0.1,0.2l3.4,1.7c0.4,0.2,0.9,0.3,1-0.1C24.8,24.8,25,24.5,25,24.3"/>            </g>        </svg>    '})}($),function(s){var e=apower,t=e.tr,n=e.license,o=e.user;n.appName="lightpdf web overseas",o.brand=n.appName;var r=apower.getRegionPath(apower.lang)+"/";s.registerComponent("lightpdf-header-account-entry","header-account-entry",{customButtons:[{icon:"file",url:r+"task-manage",text:t("My Files@@001432"),requiresLogined:!0},{icon:"ocr",url:r+"my-ocr",text:t("OCR VIP@@002113"),requiresLogined:!0},{icon:"lightpdf-vip",url:r+"vip",text:t("LightPDF VIP@@001683"),requiresLogined:!0},{icon:"upgrade-vip",url:r+"version-compare",text:t("Upgrade@@001688"),requiresLogined:!0}],onCreated:function(){this.license=apower.license,this.user=apower.user,apower.user.syncLoginState=this.onLogined.bind(this),apower.user.syncLogoutState=this.onLogout.bind(this),this.hideAccount=apower.isLightMV&&apower.isAccount;var e,t,n=s.parseQuery(location.search),o=n.weixin_auto_login,r=n.code,a=(n.state,window.navigator.userAgent.toLowerCase()),i=a&&0<a.indexOf("micromessenger");o&&i&&!r&&(e=encodeURIComponent("https://support.apowersoft.cn/api/account?action=weixin-oauth-jumper&callback=".concat(encodeURIComponent(this.getUrlWithoutAuto()))),window.location="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat("wx1d396e446d0ecf21","&redirect_uri=").concat(e,"&response_type=code&scope=snsapi_base&state=").concat("login","#wechat_redirect")),r&&s.ajax({url:"https://wechat.aoscdn.com/api/user/code/".concat(r),type:"GET",success:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.data)return(n=window.localStorage)?n.setItem("weixin_user_info",JSON.stringify(t.data.user)):setCookie("weixin_user_info",JSON.stringify(t.data.user),3),e.next=5,apower.user.loginByPost({provider:"weixin",unique_id:t.data.user.unionid,open_id:t.data.user.openid,language:apower.lang,registed_app:"apowersoft"});e.next=8;break;case 5:o=e.sent,o.ok,o.status;case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),error:function(e){console.log(e)}}),pdf.getSession()||pdf.getPdfSesstion(this.sessionBack,this.sessionErr,this),s.store.get("lightpdfAccountInfo")&&this.getLightpdfVipInfo()},getUrlWithoutAuto:function(){var e="https://".concat(location.host+location.pathname),t=s.parseQuery(location.search),n=[];t&&(n=Object.keys(t));var o="?";if(n.length){for(var r=0;r<n.length;r++)o+="".concat(n[r],"=").concat(t[n[r]],"&");o=o.substring(0,o.length-1)}return e+o},getLightpdfVipInfo:function(){var a=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.store.get("lightpdfAccountInfo")||s.store.get("account-data"),e.next=3,s.req.get(s.useQuery(pdf.getAPIURL("/my/vip"),{api_token:t.api_token}));case 3:n=e.sent,o=n.ok,r=n.data,o&&r.data&&r.data.vip?(a.lightpdfVipInfo=r.data.vip,s.store.set("lightpdfVipInfo",r.data.vip),pdf.setVipInfo(r.data.vip.is_vip,r.data.vip.vip_expired_at)):s.store.set("lightpdfVipInfo",!1);case 7:case"end":return e.stop()}},e)}))()},onLogined:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s(".header-account-entry ").addClass("login"),pdf.getPdfSesstion(t.sessionBack,t.sessionErr,t);case 2:case"end":return e.stop()}},e)}))()},sessionBack:function(e){e.data&&e.data.user&&(s.store.set("lightpdfAccountInfo",e.data.user),this.getLightpdfVipInfo())},sessionErr:function(){},onLogout:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.cleanPdfApiToken(),s.store.remove("lightpdfAccountInfo"),s.store.remove("lightpdfVipInfo"),pdf.pdfsessionQuery.getPdfSesstion(function(){},function(){},t),s(".header-account-entry ").removeClass("login"),s(".header-account-entry ").removeClass("lightpdf-vip"),s(".header-account-entry ").removeClass("lightpdf-expired-vip");case 7:case"end":return e.stop()}},e)}))()},cleanPdfApiToken:function(){pdf.setSession(null)}}),s.getComponent("icon").extendSymbols({ocr:'\t<svg viewBox="0 0 17 18.5">\t\t<g>\t\t\t<g>\t\t\t\t<path style="fill:currentColor;" d="M13.9,1C15.1,1,16,1.9,16,3.1v9.3c0,1.4-0.5,2.7-1.5,3.7c-1,1-2.3,1.5-3.7,1.5H3.1\t\t\t\t\tc-1.2,0-2.1-0.9-2.1-2.1V6.2C1,3.3,3.3,1,6.2,1H13.9 M13.9,0H6.2C2.8,0,0,2.8,0,6.2v9.3c0,1.7,1.4,3.1,3.1,3.1h7.7v0\t\t\t\t\tc3.4,0,6.2-2.8,6.2-6.2V3.1C17,1.4,15.6,0,13.9,0L13.9,0z"/>\t\t\t</g>\t\t</g>\t\t<line style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="5.9" y1="7.5" x2="8.1" y2="7.5"/>\t\t<line style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="5.9" y1="11" x2="11.2" y2="11"/>\t\t</svg>\t\t',"lightpdf-vip":'\t<svg viewBox="0 0 20 20">\t\t<path style="fill:currentColor;stroke:currentColor;stroke-width:0.4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" d="\t\t\tM10.6,19c-0.1,0-0.2-0.1-0.2-0.2s0.1-0.1,0.2-0.1h7c0.1,0,0.2,0,0.2,0.1v0.1c0,0.1-0.1,0.2-0.2,0.2L10.6,19L10.6,19z M12.9,17.4\t\t\tc-0.8,0-1.6,0-2.3,0c-0.2,0-0.2-0.2-0.3-0.4v-0.1l-1-3.3L9.1,13c-0.4-0.1-0.8-0.4-0.8-0.9s0.4-0.9,0.9-0.9s0.9,0.4,0.9,0.9\t\t\tc0,0.2,0,0.3-0.1,0.5l1.5,0.9c0.1,0.1,0.3,0.2,0.4,0.2c0.4-0.7,0.8-1.4,1.2-2.1l0.5-0.9c-0.3-0.2-0.4-0.4-0.4-0.7\t\t\tc0-0.5,0.4-0.9,0.9-0.9s0.9,0.4,0.9,0.9c0,0.3-0.1,0.6-0.4,0.7l0.4,0.7c0.4,0.8,0.8,1.5,1.3,2.3l0,0l0,0c0.6-0.4,1.2-0.7,1.8-1.1\t\t\tc-0.1-0.1-0.1-0.3-0.1-0.5c0-0.5,0.4-0.9,0.9-0.9c0.2,0,0.5,0.1,0.6,0.3c0.2,0.2,0.3,0.4,0.3,0.6c0,0.4-0.3,0.8-0.8,0.9l-1.1,3.8\t\t\tv0.1c0,0.2-0.1,0.3-0.3,0.3C16.9,17.4,13.7,17.4,12.9,17.4z M9.7,13.3c0,0.1,0.1,0.3,0.1,0.4l0.8,2.7l0.2,0.7c1.1,0,5.6,0,6.7,0\t\t\tl0.4-1.3l0.8-2.7c-0.1,0-0.1,0-0.2-0.1l-1.9,1.2c-0.1,0-0.2,0.1-0.3,0.1h-0.1c-0.1,0-0.2-0.1-0.3-0.3c-0.4-0.8-0.8-1.5-1.3-2.3\t\t\tl-0.4-0.8h-0.1c0,0,0,0-0.1,0c-0.1,0.3-1.3,2.3-1.7,3.1c-0.1,0.1-0.2,0.2-0.2,0.2H12c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.3-0.2-0.4-0.3\t\t\tl-0.1-0.1l-1.5-0.9H9.7L9.7,13.3L9.7,13.3z M18.9,11.8c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5S19.2,11.8,18.9,11.8\t\t\tz M9.3,11.7c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5c0.1,0,0.2,0,0.3-0.1s0.1-0.2,0.1-0.3C9.7,11.9,9.5,11.7,9.3,11.7z M14.1,9.6\t\t\tc-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5C14.6,9.8,14.4,9.6,14.1,9.6z"/>\t\t<polyline style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" points="\t\t\t8.8,16.9 0.5,16.9 0.5,1.1 14.3,1.1 14.3,8 "/>\t\t<line style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="3.1" y1="5.1" x2="11.6" y2="5.1"/>\t\t<line style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="3.1" y1="8" x2="7" y2="8"/>\t\t<line style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="3.1" y1="11" x2="8" y2="11"/>\t\t</svg>\t\t\t',"upgrade-vip":'\t<svg viewBox="0 0 16 24">\t\t<g>\t\t\t<path style="fill:currentColor;" d="M7.8,0.9c3.3,2.3,5,5.2,5,8.7c0,0.2,0.1,0.5,0.3,0.6c1.6,1.3,2.1,2.8,1.6,4.5\t\t\t\tc-0.3,0.9-0.8,1.4-1.5,1.7c-0.1,0-0.3,0.1-0.4,0.1l0,0h-0.1l0,0c-0.1-0.1-0.1-0.3-0.2-0.6v-0.1v-0.1c-0.1-0.3-0.4-0.5-0.7-0.5h-0.1\t\t\t\tc-0.3,0-0.5,0.1-0.7,0.4v0.1c-0.1,0.1-0.1,0.1-0.1,0.2c-0.5,0.7-0.5,0.7-0.6,0.7c-0.6,0.2-1.6,0.3-2.6,0.3c-0.7,0-1.1-0.1-1.2-0.1\t\t\t\tc-0.2-0.1-0.4-0.3-0.7-0.6C5.4,16,5.2,15.8,5,15.6l-0.1-0.2c-0.2-0.2-0.4-0.3-0.7-0.3c-0.1,0-0.1,0-0.2,0c-0.3,0.1-0.6,0.3-0.6,0.6\t\t\t\tc0,0.1,0,0.1,0,0.2v0.2c0,0,0,0.3-0.1,0.3c0,0.1,0,0.2,0,0.2C2.5,16.3,2.2,16,1.5,15c-0.4-0.6-1.4-2.3,1.3-4.7\t\t\t\tC3,10.2,3.1,9.9,3.1,9.7c0.1-2,0.5-3.7,1.3-5.1S6.4,2,7.8,0.9 M7.8,0C7.6,0,7.5,0,7.4,0.1C5.9,1.3,4.6,2.7,3.7,4.2\t\t\t\tC2.8,5.8,2.3,7.6,2.3,9.7c-2.1,1.9-2.6,3.8-1.5,5.7C1.6,16.6,2,17,3.2,17.3c0.1,0,0.1,0,0.2,0c0.3,0,0.5-0.3,0.6-0.6\t\t\t\tc0-0.1,0-0.2,0.1-0.3c0-0.1,0-0.3,0-0.3c0.1-0.1,0.1-0.2,0.1-0.2L4.3,16c0.2,0.3,0.4,0.5,0.6,0.7c0.3,0.4,0.7,0.6,1,0.7\t\t\t\tc0.2,0.1,0.8,0.2,1.5,0.2c0.9,0,2.1-0.1,2.9-0.3c0.4-0.1,0.5-0.3,1.1-1c0.1-0.1,0.1-0.2,0.2-0.3v0.1v0.1c0.1,0.3,0.2,0.5,0.3,0.7\t\t\t\tc0.2,0.3,0.4,0.5,0.7,0.5c0.1,0,0.2,0,0.3-0.1l0,0c0,0,0.3-0.1,0.5-0.1c0.9-0.3,1.7-1,2.1-2.2c0.6-2,0-3.9-1.8-5.4\t\t\t\tc0-3.8-1.8-7-5.5-9.5C8,0,7.9,0,7.8,0L7.8,0z"/>\t\t</g>\t\t<g>\t\t\t<path style="fill:currentColor;" d="M7.9,5.1c0.6,0,1.1,0.2,1.5,0.6S10,6.6,10,7.2S9.8,8.3,9.4,8.7c-0.5,0.4-1,0.6-1.5,0.6\t\t\t\tS6.8,9.1,6.4,8.7c-0.8-0.8-0.8-2.1,0-2.9C6.8,5.3,7.3,5.1,7.9,5.1 M7.9,4.3c-0.7,0-1.5,0.3-2,0.8C4.8,6.2,4.8,8,5.9,9.2\t\t\t\tc0.6,0.6,1.3,0.8,2,0.8s1.5-0.3,2-0.8c1.1-1.1,1.1-2.9,0-4.1C9.3,4.6,8.6,4.3,7.9,4.3L7.9,4.3z"/>\t\t</g>\t\t<line style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="5.5" y1="18.6" x2="5.5" y2="21.6"/>\t\t<line style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="9.7" y1="18.9" x2="9.7" y2="21.3"/>\t\t<line style="fill:none;stroke:currentColor;stroke-width:0.8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="7.6" y1="18.8" x2="7.6" y2="23.6"/>\t\t</svg>\t\t\t'}),s.extend(s.getComponent("drop").prototype,{onBeforeMenuShow:function(){this.isMobile&&s(document).on("scroll",this.hideMenu,this)},hideMenu:function(){this.menu.stop().fadeOut(200),this.el.removeClass("active"),this.open=!1,s(document).off("mousedown",this.onDocMouseDown,this),this.isMobile&&s(document).off("scroll",this.hideMenu,this)},isMobile:function(){return!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}})}(jQuery);